(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{724:function(e,s,t){"use strict";t.r(s);var a=t(65),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"basic"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#basic"}},[e._v("#")]),e._v(" Basic")]),e._v(" "),t("h3",{attrs:{id:"系统参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统参数"}},[e._v("#")]),e._v(" 系统参数：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("查看命令类型:\ttype 'cmd' \n\ncat /etc/os-release\n\n修改hostname:  hostnamectl set-hostname \n")])])]),t("h3",{attrs:{id:"帮助文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#帮助文档"}},[e._v("#")]),e._v(" 帮助文档：")]),e._v(" "),t("p",[e._v("man AND tldr:\thttps://tldr.sh/")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm install -g tldr \n或者\npip install tldr\n\ncd /usr/bin\nsudo ln -s /home/lyhistory/.local/bin/tldr tldr (/usr/bin/tldr)\n或者修改.bashrc\nexport PATH=$PATH:$HOME/.local/bin\n")])])]),t("h2",{attrs:{id:"user-and-groups"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-and-groups"}},[e._v("#")]),e._v(" user and groups")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("查看用户：\nid username\nW\nWhoami\ngroups\nvim /etc/passwd\ncut -d: -f1 /etc/passwd\n\n用户组：\ngroups username\nless /etc/group\ngroupadd groupname\ngroupdel groupname\nsu username #切换用户 \n添加新用户： \nuseradd username\npasswd username\nusermod -g groupname username -d /home/test\nuseradd -g groupname username -d /home/test （注意，最好用home目录，之前碰到过一个问题：用其他系统盘或数据盘，其他人更改了文件夹权限，造成.ssh/id_rsa权限过大，不满足系统安全要求，造成passwordless login失败）\nuserdel username\ngpasswd -d groupname username\n\n/etc/sudoers\nvisudo\n\n---------------------------------------------------------------------------------------\n--- ubuntu\n---------------------------------------------------------------------------------------\nEnable SUDO:\n\tBy default sudo is not installed on Debian, but you can install it. First enable su-mode:\n\tYou can use sudo -i which will ask for your password. You need to be in the sudoers group for that or have an entry in the /etc/sudoers file.\n\tAnother way is the command su - which will ask for the password of root, but accomplish the same.\n\tsu -\n\tapt-get install sudo -y\n\t\n    usermod -aG sudo yourusername\n    Make sure your sudoers file have sudo group added. Run:\n    visudo to modify sudoers file and add following line into it (if it is missing):\n\n    # Allow members of group sudo to execute any command\n    %sudo   ALL=(ALL:ALL) ALL\n    OR\n    chmod u+w /etc/sudoers\n    username ALL=(ALL) ALL\n    chmod u-w /etc/sudoers\n\nadduser username \nsudo passwd USERNAME\nsudo usermod -aG sudo username\nsu - username\nexit;\nsudo useradd test -s /bin/bash -m\nusermod -aG docker peter\n\n\n---------------------------------------------------------------------------------------\n--- centos\n---------------------------------------------------------------------------------------\nEnable SUDO:\n    By default, on CentOS, members of the wheel group have sudo privileges.\n    https://support.hostway.com/hc/en-us/articles/115001509750-How-To-Install-and-Configure-Sudo\n\nuseradd -s /bin/bash -m -G wheel username\nsudo usermod -aG wheel username\nWheel group https://www.centos.org/forums/viewtopic.php?t=63386\n\n\nssh-keygen \nor\nssh-keygen -t rsa\n\nchmod 400 id_rsa\n\nssh-copy-id username@serveripOrhostname\nor \nssh-copy-id -i ~/.ssh/id_rsa.pub username@serveripOrhostname\n\nscp ~/.ssh/id_rsa grs@adp116:~/.ssh\n\nssh-keygen -R ip/hostname\n\n")])])]),t("h2",{attrs:{id:"string-operation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-operation"}},[e._v("#")]),e._v(" String Operation")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("多行变成一行，逗号隔开（去掉最后一个逗号）\ntr '\\n' ',' < input.txt | sed 's/,$/\\n/'\n\n\ncut -f 1 -d: /etc/passwd | xargs -n 1 -I {} bash -c \" echo -e '\\n{}' ; chage -l {}\"\n")])])]),t("h2",{attrs:{id:"file-operation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file-operation"}},[e._v("#")]),e._v(" File Operation")]),e._v(" "),t("h3",{attrs:{id:"vim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vim"}},[e._v("#")]),e._v(" vim")]),e._v(" "),t("p",[e._v("replace:\n%s:/A/B/g")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\nfor readonly file:\n:w !sudo tee %\n\n")])])]),t("h3",{attrs:{id:"compress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compress"}},[e._v("#")]),e._v(" compress")]),e._v(" "),t("p",[e._v("tar -zxvf file.tar\ntar -zcvf file.tar /path/to/target")]),e._v(" "),t("h3",{attrs:{id:"transfer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transfer"}},[e._v("#")]),e._v(" transfer")]),e._v(" "),t("p",[e._v("include hidden file: add the dot in the ending")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("scp -rp src/. user@server:dest/\n")])])]),t("h3",{attrs:{id:"files-directory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#files-directory"}},[e._v("#")]),e._v(" files&directory")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("创建文件夹\ninstall -d /path/to/targetfolder\n")])])]),t("h3",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[e._v("#")]),e._v(" FIND")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('find . -size +1G -ls | sort -k7n\n\nfind / -type f -name "mysql-connector-java-5.1.24.jar" -print\n\nfind / -type f -name "Locations.xml" -print\n\n//kafka/logs下面有很多日志，格式为：[server|controller].log.YYYY-MM-DD-0X，如果想大概知道有哪几类文件，可以：\nfind . -type f -maxdepth 1 -exec basename "{}" \\; | cut -d\'.\' -f1 | sort -u\n\nfind zookeeper/ -group root\n\nfind ./* -type f -follow -name \\*.log -daystart -mtime +1 -print0 | xargs -0 rm\n\nfind and delete::\nhttps://unix.stackexchange.com/questions/167823/finds-exec-rm-vs-delete\nfind / -name ".DS_Store" -exec rm {} \\;\nfind / -name .DS_Store -delete\nA common method for avoiding the overhead of spawning an external process for each matched file is:\nfind / -name .DS_Store -print0 | xargs -0 rm\nDO NOT do this: find / -delete -name .DS_Store\n\n')])])]),t("h3",{attrs:{id:"grep-zgrep"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grep-zgrep"}},[e._v("#")]),e._v(" GREP/zgrep")]),e._v(" "),t("p",[e._v("-a, --text\nProcess a binary file as if it were text; this is\nequivalent to the --binary-files=text option.\n-i, --ignore-case\nIgnore case distinctions in patterns and input data, so\nthat characters that differ only in case match each other.")]),e._v(" "),t("p",[e._v("https://www.cyberciti.biz/faq/howto-use-grep-command-in-linux-unix/")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('grep/zgrep "pattern" file/file.gz\n\ngrep -r -l "eth[0-9]" /var/log/ #file name only\ngrep -r -H "eth[0-9]" /var/log/ #print each match and filename\n\ngrep -H -r "syscript" ~ | cut -d: -f1 | sort -u\n\ngrep -H -r "create_db.sh" ~ | cut -d: -f1 | sort -u\n\ngrep -H -r "/apps/lib" ~ | cut -d: -f1 | sort -u\n\n\ncat Syslog.log | iconv -f GBK -t UTF-8|grep -ai "SEARCH TEXT"\n\n')])])]),t("h4",{attrs:{id:"batch-replace-string-in-folder"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#batch-replace-string-in-folder"}},[e._v("#")]),e._v(" batch replace string in folder")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("grep -rl oldtext . | xargs sed -i 's/oldtext/newtext/g'\n")])])]),t("h3",{attrs:{id:"split"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#split"}},[e._v("#")]),e._v(" split")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("split -a 4 -d -l 20000 2021-02-15_test.log ./test/test_\n")])])]),t("h3",{attrs:{id:"sed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[e._v("#")]),e._v(" sed")]),e._v(" "),t("p",[e._v("https://www.runoob.com/linux/linux-comm-sed.html?ivk_sa=1023231z\n"),t("code",[e._v("sed [-hnV][-e<script>][-f<script文件>][文本文件]")])]),e._v(" "),t("p",[e._v("参数说明：")]),e._v(" "),t("p",[e._v("-e"),t("script")])])}),[],!1,null,null,null);s.default=n.exports}}]);