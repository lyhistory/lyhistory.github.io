(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{345:function(e,t,n){"use strict";n.r(t);var a=n(0),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("npm, nodejs, reactjs, javascript, typescript ?")]),e._v(" "),n("p",[e._v("javascript是nodejs、reactjs和浏览器都在使用的一种编程语言, nodejs reactjs和浏览器用的都是javascript;")]),e._v(" "),n("p",[e._v("nodejs reactjs及浏览器用的都是V8引擎，但是不同的是：")]),e._v(" "),n("p",[e._v("reactjs是前端框架(当然也提供了部分server-side功能，但是我理解是有限的功能，主要还是client端)，reactjs和浏览器都有DOM API， 所以浏览器可以直接识别JavaScript操作dom，reactjs又增加了virtual dom（ReactDOM.render）来提升performance；\n而nodejs是server-side后端框架，跟前端没有半毛钱关系，虽然都是用JavaScript，V8引擎，它没有DOM API，不能操作DOM，但是有其他API，比如可以访问硬件的电源，它跟java php这些没有区别，")]),e._v(" "),n("p",[e._v("可以比较下truffle的web3-nodejs和web3-react的区别： web3-react里面index.html基本只有一个root div，其他全靠index.js去画，而web3-nodejs的index.html则基本要写好，然后调用index.js里面的JavaScript互动，\n然后这个JavaScript因为是nodejs所以操作dom的时候只能用原始的document.getElementById，当然了这里并没有体现出nodejs的特别之处，因为并没有访问特别的api；")]),e._v(" "),n("p",[e._v("总体来说nodejs和reactjs都是用npm来管理package，只不过有些module只能在nodejs或者reactjs下面才工作，有些则是两者都可以用;\n而在实际前端项目中，一般也会用到nodejs，因为为了开发方便，一般都会提供脚本运行开启一个web server，比如webpack使用的noop-service-worker-middleware就是一个express middleware，\n当然如果不用这些现成的包，可以自己集成reactjs和nodejs从而创建一个full dev environment，然后开发完成则是编译成静态html，扔给比如nginx托管，当然了如果这些静态html请求的后端服务可能就是nodejs提供的；")]),e._v(" "),n("p",[e._v("安装nodejs会自带npm，所以一般reactjs的安装也就是安装nodejs的npm；")]),e._v(" "),n("p",[e._v("TypeScript是JavaScript类型的超类，可以使用JavaScript中的所有代码和编程概念，TypeScript是为了使JavaScript的开发变得更加容易而创建的, TypeScript代码需要被编译（成JavaScript）。")]),e._v(" "),n("p",[e._v("Node and browser(javascript) both uses V8 engine, but browser has DOM, node doesn't, nodejs has other kind of APIs,\nnodejs has more freedom to access the os (because it has modules like filesystem, http server, even batteries, so you can create mobile app from nodejs),\nboth nodejs and reactjs use npm for moduel managment, but what's the difference??")]),e._v(" "),n("blockquote",[n("p",[e._v("The confusing bit is that npm is a package manager for JavaScript, not necessarily node (even though node is in the name..). Therefore, we can use npm also for web applications. (If we do, we need to use a bundler like webpack though).\nSome npm modules might work both in the browser and in node, but some will only work on one of them. If the npm module requires some platform-spcific API (DOM for the browser for example) then it will not work for the other platform.\nhttps://stackoverflow.com/questions/58985983/general-question-about-reactjs-nodejs-and-npm")])]),e._v(" "),n("p",[e._v("javascript?ECMAScript?Typescript?")]),e._v(" "),n("blockquote",[n("p",[e._v("JavaScript is a scripting language which helps you create interactive web pages. It followed rules of client-side programming, so it runs in the user's web browser without the need of any resources forms the web server. You can also use Javascript with other technologies like REST APIs, XML, and more.\nThe idea behind developing this script is to make it a complementary scripting language like Visual Basic was to C++ in Microsoft's language families. However, JavaScript is not designed for large complex applications. It was developed for applications with a few hundred lines of code!")])]),e._v(" "),n("blockquote",[n("p",[e._v("ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准,ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 JScript 和 ActionScript）。日常场合，这两个词是可以互换的。\nhttps://es6.ruanyifeng.com/#docs/intro")])]),e._v(" "),n("blockquote",[n("p",[e._v("TypeScript is a "),n("strong",[e._v("strict superset of ECMAScript 2015")]),e._v(", which is itself a superset of ECMAScript 5, commonly referred to as JavaScript. As such, a JavaScript program is also a valid TypeScript program, and a TypeScript program can seamlessly consume JavaScript.\nTypescript is a modern age Javascript development language. It is a statically compiled language to write clear and simple Javascript code. It can be run on Node js or any browser which supports ECMAScript 3 or newer versions.\nTypescript provides optional static typing, classes, and interface. For a large JavaScript project adopting Typescript can bring you more robust software and easily deployable with a regular JavaScript application.")])]),e._v(" "),n("p",[e._v("ECMAScript6 VS ECMAScript5\nhttp://es6-features.org/#Constants")]),e._v(" "),n("p",[n("strong",[e._v("什么是transpiling:")])]),e._v(" "),n("p",[e._v("React components are mostly written in modern JavaScript syntax. Take the class keyword for example. Stateful React components can be declared as classes, or as arrow (or regular functions). But older browsers don't understand ECMAScript 2015, thus we need some kind of transformation.\nThat transformation is called transpiling. Webpack per-se doesn’t know how to transform JavaScript. Instead it relies on loaders: think of them as of transformers. A webpack loader takes something as the input and produces an output, called bundle.")]),e._v(" "),n("p",[e._v("for latest ECMAScript syntax support (like ES5, ES6). React.js library itself insists you to make use of the latest JavaScript’s offerings for cleaner, less and more readable code. But unfortunately our browsers do not understands most of the syntax and this is where we need Babel’s help.")]),e._v(" "),n("p",[e._v("babel-loader is the webpack loader responsible for talking to Babel. Babel on the other hand must be configured to use presets. We need two of them:")]),e._v(" "),n("ul",[n("li",[e._v("babel preset env for compiling modern Javascript down to ES5")]),e._v(" "),n("li",[e._v("babel preset react for compiling JSX and other stuff down to Javascript")])]),e._v(" "),n("p",[e._v("create-react-app已经在package-lock.json锁定了webpack和Babel依赖")]),e._v(" "),n("p",[e._v("核心概念：event loop")]),e._v(" "),n("p",[n("strong",[e._v("Java Script is a Single threaded, non-blocking asynchronous concurrent language.")])]),e._v(" "),n("blockquote",[n("p",[e._v("With other languages, when server receives request, it allocates a thread to fulfill it. As part of handling the request let’s say it queries the database and the thread waits till it gets the response back from database. So it requires new thread to server the another request. If we have large number of concurrent requests then server capacity is most likely to be run out and new requests may need to wait until some thread is available or we need more hardware for more concurrent requests.")]),e._v(" "),n("p",[e._v("Where as in JS (non-blocking IO), it is asynchronous by default. It has single thread to handle all requests. Thread doesn’t wait for the IO (for example DB response) and thread can be used to serve another request. In this example if there is a response from DB then it will be put in "),n("strong",[e._v("Event Queue")]),e._v(". Node will monitor the queue and when there is an event in the queue, it will be processed in FIFO order.")]),e._v(" "),n("p",[e._v("This is why Node (btw, node is just a run time environment to run java script at server side) is suitable for I/O intensive apps (e.g. DB read or network access). In contrast, Node shouldn’t be used for CPU intensive apps like video encoding etc.")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://dzone.com/articles/java-script-important-concepts",target:"_blank",rel:"noopener noreferrer"}},[e._v("Understanding Important Concepts in JavaScript"),n("OutboundLink")],1)])]),e._v(" "),n("p",[n("img",{attrs:{src:"/docs/docs_image/software/programming/javascript01.png",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/docs/docs_image/software/programming/javascript02.png",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/docs/docs_image/software/programming/javascript03.png",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/docs/docs_image/software/programming/javascript04.png",alt:""}})]),e._v(" "),n("h2",{attrs:{id:"_1-javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-javascript"}},[e._v("#")]),e._v(" 1. JavaScript")]),e._v(" "),n("p",[e._v("latest version:ES6")]),e._v(" "),n("blockquote",[n("p",[e._v("Unlike most programming languages, the JavaScript language has no concept of input or output. It is designed to run as a scripting language in a host environment, and it is up to the host environment to provide mechanisms for communicating with the outside world. The most common host environment is the browser, but JavaScript interpreters can also be found in a huge list of other places, including Adobe Acrobat, Adobe Photoshop, SVG images, Yahoo's Widget engine, server-side environments such as Node.js, NoSQL databases like the open source Apache CouchDB, embedded computers, complete desktop environments like GNOME (one of the most popular GUIs for GNU/Linux operating systems), and others.\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/")])]),e._v(" "),n("ul",[n("li",[e._v("Number")]),e._v(" "),n("li",[e._v("String")]),e._v(" "),n("li",[e._v("Boolean")]),e._v(" "),n("li",[e._v("Symbol (new in ES2015)")]),e._v(" "),n("li",[e._v("Object:\n"),n("ul",[n("li",[e._v("Function")]),e._v(" "),n("li",[e._v("Array")]),e._v(" "),n("li",[e._v("Date")]),e._v(" "),n("li",[e._v("RegExp")])])]),e._v(" "),n("li",[e._v("null")]),e._v(" "),n("li",[e._v("undefined")])]),e._v(" "),n("p",[e._v("JavaScript objects can be thought of as simple collections of name-value pairs. As such, they are similar to:")]),e._v(" "),n("ul",[n("li",[e._v("Dictionaries in Python.")]),e._v(" "),n("li",[e._v("Hashes in Perl and Ruby.")]),e._v(" "),n("li",[e._v("Hash tables in C and C++.")]),e._v(" "),n("li",[e._v("HashMaps in Java.")]),e._v(" "),n("li",[e._v("Associative arrays in PHP.")])]),e._v(" "),n("p",[e._v("In classic Object Oriented Programming, objects are collections of data and methods that operate on that data. JavaScript is a prototype-based language that contains no class statement, as you'd find in C++ or Java (this is sometimes confusing for programmers accustomed to languages with a class statement). Instead, JavaScript uses functions as classes.")]),e._v(" "),n("p",[e._v("prototype:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("function Person(first, last) {\n  this.first = first;\n  this.last = last;\n}\nPerson.prototype.fullName = function() {\n  return this.first + ' ' + this.last;\n};\nPerson.prototype.fullNameReversed = function() {\n  return this.last + ', ' + this.first;\n};\nPerson.prototype is an object shared by all instances of Person. It forms part of a lookup chain (that has a special name, \"prototype chain\"): any time you attempt to access a property of Person that isn't set, JavaScript will check Person.prototype to see if that property exists there instead. As a result, anything assigned to Person.prototype becomes available to all instances of that constructor via the this object.\n\n")])])]),n("p",[e._v("Closures:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Inner functions leads us to one of the most powerful abstractions that JavaScript has to offer — but also the most potentially confusing. What does this do?\n\nfunction makeAdder(a) {\n  return function(b) {\n    return a + b;\n  };\n}\nvar add5 = makeAdder(5);\nvar add20 = makeAdder(20);\nadd5(6); // ?\nadd20(7); // ?\n\nThe name of the makeAdder() function should give it away: it creates new 'adder' functions, each of which, when called with one argument, adds it to the argument that it was created with.\n\nWhat's happening here is pretty much the same as was happening with the inner functions earlier on: a function defined inside another function has access to the outer function's variables. The only difference here is that the outer function has returned, and hence common sense would seem to dictate that its local variables no longer exist. But they do still exist — otherwise, the adder functions would be unable to work. What's more, there are two different \"copies\" of makeAdder()'s local variables — one in which a is 5 and the other one where a is 20. So the result of that function calls is as follows:\n\nadd5(6); // returns 11\nadd20(7); // returns 27\n\nHere's what's actually happening. Whenever JavaScript executes a function, a 'scope' object is created to hold the local variables created within that function. It is initialized with any variables passed in as function parameters. This is similar to the global object that all global variables and functions live in, but with a couple of important differences: firstly, a brand new scope object is created every time a function starts executing, and secondly, unlike the global object (which is accessible as this and in browsers as window) these scope objects cannot be directly accessed from your JavaScript code. There is no mechanism for iterating over the properties of the current scope object, for example.\n\nSo when makeAdder() is called, a scope object is created with one property: a, which is the argument passed to the makeAdder() function. makeAdder() then returns a newly created function. Normally JavaScript's garbage collector would clean up the scope object created for makeAdder() at this point, but the returned function maintains a reference back to that scope object. As a result, the scope object will not be garbage-collected until there are no more references to the function object that makeAdder() returned.\n\nScope objects form a chain called the scope chain, similar to the prototype chain used by JavaScript's object system.\n\nA closure is the combination of a function and the scope object in which it was created. Closures let you save state — as such, they can often be used in place of objects.\n\n")])])]),n("p",[e._v("Var, let and const- what's the difference?\nhttps://dev.to/sarah_chima/var-let-and-const--whats-the-difference-69e")]),e._v(" "),n("h2",{attrs:{id:"_2-nodejs-reactjs开发环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-nodejs-reactjs开发环境"}},[e._v("#")]),e._v(" 2. nodejs/reactjs开发环境")]),e._v(" "),n("h3",{attrs:{id:"_2-1-共同环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-共同环境配置"}},[e._v("#")]),e._v(" 2.1 共同环境配置")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("一般安装nodejs就自动自带按照npm，但是Ubuntu貌似并非如此\n\n#ubuntu\napt install npm\n但是默认版本很低，升级：\nsudo npm install -g npm\nhash -d npm\n\n#centos\nyum install nodejs\nyum uninstall nodejs\n\nUpgrade to nodejs8\nhttps://tech.amikelive.com/node-663/quick-tip-installing-nodejs-8-on-centos-7/\nyum install epel-release\ncurl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -\nyum install gcc-c++ make\nyum install -y nodejs\n\n在console运行，会提示找不到module，比如 cannot find module 'request'\n只需要执行npm -request即可，如果提示 Error: ENOENT, stat '\\AppData\\Roaming\\npm'\n只需要当前目录下创建npm即可\n\n#windows安装node js\nWindows upgrade npm\nnpm install -g npm-windows-upgrade npm-windows-upgrade\n")])])]),n("p",[e._v("安装验证：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("node --version \nnpm --version\nnpx -version\n\nnode -v\nnpm -v\n")])])]),n("p",[e._v("**npm包路径node module path： **")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("%appdata%\\Roaming\\npm\\node_modules\n或\n~/node_modules/\n")])])]),n("p",[e._v("npm私有仓库搭建 https://www.jianshu.com/p/cf2e9f580e6d")]),e._v(" "),n("p",[e._v("**项目package.json： **")]),e._v(" "),n("p",[e._v("不管是手动创建还是自动创建的nodejs或者reactjs项目，比如：\nnodejs的webpack（比如truffle的https://www.trufflesuite.com/boxes/webpack），\nreactjs的create-react-app（truffle也有react版本https://www.trufflesuite.com/boxes/react），\n最终生成的项目都必有package.json，其中也必然含有：")]),e._v(" "),n("p",[e._v("a)依赖 dependencies")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('"devDependencies": {\n    "copy-webpack-plugin": "^5.0.5",\n    "webpack": "^4.41.2",\n    "webpack-cli": "^3.3.10",\n    "webpack-dev-server": "^3.9.0"\n  },\n  "dependencies": {\n    "web3": "^1.2.4"\n  }\n')])])]),n("p",[e._v("b)执行脚本 scripts")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('  "scripts": {\n    "start": "react-scripts start",\n    "build": "react-scripts build",\n    "test": "react-scripts test",\n    "eject": "react-scripts eject"\n  },\n')])])]),n("p",[e._v("JSX: javascript extension")]),e._v(" "),n("h4",{attrs:{id:"debug"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[e._v("#")]),e._v(" "),n("strong",[e._v("Debug")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(".eslintrc.js\nrules: {\n    'no-debugger': 0,\n    .....\n  }\n  \n然后代码里面可以用 debugger 下断点\n\n")])])]),n("h3",{attrs:{id:"_2-2-vscode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-vscode"}},[e._v("#")]),e._v(" 2.2 vscode")]),e._v(" "),n("h4",{attrs:{id:"离线安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#离线安装"}},[e._v("#")]),e._v(" 离线安装")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#安装插件 \n插件市场搜索\nhttps://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\n右侧有个 Download Extension 点击下载\n放到vscode的安装目录如 D:\\Microsoft VS Code\\bin \n打开cmd\ncode --install-extension *.vsix\n\n#安装npm\n连线机器\n>npm install -g npm-bundle\n>npm install -g eslint\n>npm-bundle eslint\neslint-7.8.1.tgz\n目标机器\n>npm install -g ./eslint-7.8.1.tgz\n\nnpm-bundle的本质是借助npm pack来实现打包的。npm pack会打包包本身以及bundledDependencies中的依赖，npm-bundle则是将pm2的所有dependencies记录到bundledDependencies，来实现所有依赖的打包。\n这种方式不需要安装多余的devDependencies，并且不需要克隆pm2的源码\n")])])]),n("h4",{attrs:{id:"eslint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[e._v("#")]),e._v(" ESLINT")]),e._v(" "),n("p",[e._v("https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint")]),e._v(" "),n("p",[e._v("preference->settings->search eslint->edit in settings.json")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('   "editor.codeActionsOnSave": {\n        "source.fixAll": true\n    }\n')])])]),n("h2",{attrs:{id:"_3-nodejs开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-nodejs开发"}},[e._v("#")]),e._v(" 3.nodejs开发")]),e._v(" "),n("p",[e._v("https://www.tutorialsteacher.com/nodejs/nodejs-tutorials")]),e._v(" "),n("p",[e._v("后端框架，虽然是用JavaScript，但是是后端代码，当然一般不直接用JavaScript，而是用超类typescript，可以更好的管理大项目架构，需要编译成JavaScript；")]),e._v(" "),n("p",[n("strong",[e._v("基本语法:")])]),e._v(" "),n("p",[e._v("模块系统 Modules")]),e._v(" "),n("p",[e._v("事件 Event")]),e._v(" "),n("p",[e._v("函数 function")]),e._v(" "),n("p",[e._v("路由 route")]),e._v(" "),n("p",[e._v("全局对象 Global Object")]),e._v(" "),n("p",[e._v("http://www.w3cschool.cc/nodejs\nhttp://www.nodejs.org/\nhttp://www.nodebeginner.org/index-zh-cn.html\nhttps://channel9.msdn.com/Series/Building-Apps-with-Node-js?WT.mc_id=12833-DEV-sitepoint-othercontent")]),e._v(" "),n("h2",{attrs:{id:"_4-reactjs开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-reactjs开发"}},[e._v("#")]),e._v(" 4.reactJS开发")]),e._v(" "),n("p",[e._v("前端框架，引入了"),n("a",{attrs:{href:"https://www.codecademy.com/articles/react-virtual-dom",target:"_blank",rel:"noopener noreferrer"}},[e._v("virtual dom的概念"),n("OutboundLink")],1),e._v("，\n前面也说过，其实reactjs也是有server-side服务端功能的，不过一般都是说服务端动态渲染，"),n("a",{attrs:{href:"https://www.freecodecamp.org/news/demystifying-reacts-server-side-render-de335d408fe4/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Demystifying server-side rendering in React"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("一般来说都只是将reactjs作为前端，然后搭配一个后端程序来获取动态数据，后端程序可以是nodejs、java等等；")]),e._v(" "),n("p",[e._v("reactjs learn roadmap:\nhttps://www.freecodecamp.org/news/learning-react-roadmap-from-scratch-to-advanced-bff7735531b6/")]),e._v(" "),n("p",[e._v("react-indepth:\nhttps://legacy.gitbook.com/book/developmentarc/react-indepth/details")]),e._v(" "),n("h2",{attrs:{id:"_4-1-基本语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-基本语法"}},[e._v("#")]),e._v(" 4.1 基本语法")]),e._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v(" value "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),n("p",[e._v("will evaluate to "),n("code",[e._v("true")]),e._v(" if "),n("code",[e._v("value")]),e._v(" is "),n("strong",[e._v("not")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("null")]),e._v(" "),n("li",[e._v("undefined")]),e._v(" "),n("li",[e._v("NaN")]),e._v(" "),n("li",[e._v('empty string ("")')]),e._v(" "),n("li",[e._v("0")]),e._v(" "),n("li",[e._v("false")])]),e._v(" "),n("h2",{attrs:{id:"_4-2-开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-开发"}},[e._v("#")]),e._v(" 4.2 开发")]),e._v(" "),n("h3",{attrs:{id:"_4-2-1-toolchain"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-toolchain"}},[e._v("#")]),e._v(" 4.2.1 toolchain")]),e._v(" "),n("p",[n("strong",[e._v("根据具体需求（放在服务端的静态页面或者动态渲染页面）有以下几种toolchain可以利用：")])]),e._v(" "),n("ul",[n("li",[e._v("If you’re learning React or creating a new single-page app, use Create React App.")]),e._v(" "),n("li",[e._v("If you’re building a server-rendered website with Node.js, try "),n("a",{attrs:{href:"https://nextjs.org/learn/basics/getting-started",target:"_blank",rel:"noopener noreferrer"}},[e._v("Next.js"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("If you’re building a static content-oriented website, try "),n("a",{attrs:{href:"https://www.gatsbyjs.org/docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gatsby"),n("OutboundLink")],1)]),e._v(" "),n("li",[e._v("If you’re building a component library or integrating with an existing codebase, try More Flexible Toolchains:\n"),n("ul",[n("li",[e._v("Neutrino combines the power of webpack with the simplicity of presets, and includes a preset for React apps and React components.")]),e._v(" "),n("li",[e._v("Parcel is a fast, zero configuration web application bundler that works with React.")]),e._v(" "),n("li",[e._v("Razzle is a server-rendering framework that doesn’t require any configuration, but offers more flexibility than Next.js.")])])]),e._v(" "),n("li",[e._v("自定义toolchain Creating a Toolchain from Scratch， A JavaScript build toolchain typically consists of:\n"),n("ul",[n("li",[e._v("A package manager, such as Yarn or npm. It lets you take advantage of a vast ecosystem of third-party packages, and easily install or update them.")]),e._v(" "),n("li",[e._v("A bundler, such as webpack or Parcel. It lets you write modular code and bundle it together into small packages to optimize load time.")]),e._v(" "),n("li",[e._v("A compiler such as Babel. It lets you write modern JavaScript code that still works in older browsers.")]),e._v(" "),n("li",[e._v("参考 https://blog.usejournal.com/creating-a-react-app-from-scratch-f3c693b84658")])])])]),e._v(" "),n("h3",{attrs:{id:"_4-2-2-create-react-app-highly-recommend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-create-react-app-highly-recommend"}},[e._v("#")]),e._v(" 4.2.2 create-react-app(highly recommend)")]),e._v(" "),n("p",[n("strong",[e._v("下面我们就采用第一种方式创建一个single-page app")])]),e._v(" "),n("p",[n("a",{attrs:{href:"https://create-react-app.dev/docs/documentation-intro",target:"_blank",rel:"noopener noreferrer"}},[e._v("完整文档"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("参考 https://code.visualstudio.com/docs/nodejs/reactjs-tutorial")]),e._v(" "),n("p",[e._v("使用reactjs生成器create-react-app generator有两种方法：")]),e._v(" "),n("p",[e._v("其一：直接用npx生成项目 "),n("code",[e._v("npx create-react-app hello-react")])]),e._v(" "),n("p",[e._v("其二:安装到node module path")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install -g create-react-app\n")])])]),n("p",[e._v("然后可以生成项目")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("create-react-app hello-react\n\n结果(package.json中的script定义)：\nSuccess! Created hello-react at C:\\Workspace\\Repository\\TestReact\\hello-react\nInside that directory, you can run several commands:\n\n  npm start\n    Starts the development server.\n\n  npm run build\n    Bundles the app into static files for production.\n\n  npm test\n    Starts the test runner.\n\n  npm run eject\n    Removes this tool and copies build dependencies, configuration files\n    and scripts into the app directory. If you do this, you can’t go back!\n\nWe suggest that you begin by typing:\n\n  cd hello-react\n  npm start\n\nHappy hacking!\n\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("cd my-app\ncode .\n")])])]),n("p",[n("strong",[e._v("debug react")])]),e._v(" "),n("p",[e._v("new react dev tool\nhttps://react-devtools-tutorial.now.sh/")]),e._v(" "),n("p",[e._v('go to vscode extension: install "debugger for chrome"\n&\nhttps://www.npmjs.com/package/@welldone-software/why-did-you-render')]),e._v(" "),n("p",[e._v('then go to run&debug:\nclick "create a launch.json file", select environment "chrome"，默认端口3000:')]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('\t{\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "type": "chrome",\n            "request": "launch",\n            "name": "Launch Chrome against localhost",\n            "url": "http://localhost:3000",\n            "webRoot": "${workspaceFolder}"\n        }\n    ]\n}\n')])])]),n("p",[e._v('make sure "npm start" first, then F5 or click the debug button')]),e._v(" "),n("p",[e._v("Chrome React Devtools extension")]),e._v(" "),n("p",[n("strong",[e._v("Linting")])]),e._v(" "),n("p",[e._v("frist install eslint module:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install -g eslint\n")])])]),n("p",[e._v('then in vscode extension install "eslint"')]),e._v(" "),n("p",[e._v("ctrl+shift+P : create eslint config:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("结果：\nPS C:\\Workspace\\Repository\\TestReact\\hello-react> node_modules\\.bin\\eslint.cmd --init\n? How would you like to use ESLint? To check syntax and find problems\n? What type of modules does your project use? JavaScript modules (import/export)\n? Which framework does your project use? React\n? Does your project use TypeScript? No\n? Where does your code run? Browser\n? What format do you want your config file to be in? JSON\n")])])]),n("p",[n("strong",[e._v("打包部署")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm run build\n结果：\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  bit.ly/CRA-deploy\n")])])]),n("p",[n("strong",[e._v("more: dependencies/import/router/typescript:")]),e._v("\nhttps://create-react-app.dev/docs")]),e._v(" "),n("p",[e._v("React.js and Spring Data REST\nhttps://spring.io/guides/tutorials/react-and-spring-data-rest/")]),e._v(" "),n("h3",{attrs:{id:"_4-2-3-webpack"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-webpack"}},[e._v("#")]),e._v(" 4.2.3 webpack")]),e._v(" "),n("p",[e._v("https://webpack.js.org/concepts/")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.valentinog.com/blog/babel/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tutorial: How to set up React, webpack, and Babel from scratch (2020)"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("strong",[e._v("step 1: setting up the project")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mkdir webpack-react-tutorial && cd $_\nmkdir -p src\nnpm init -y\n")])])]),n("p",[n("strong",[e._v("step 2: setting up webpack")])]),e._v(" "),n("p",[e._v("webpack will ingest raw React components for producing JavaScript code that (almost) every browser can understand.")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i webpack webpack-cli --save-dev\n")])])]),n("p",[e._v("package.json")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('"scripts": {\n  "build": "webpack --mode production"\n}\n')])])]),n("p",[e._v("At this point there is no need to define a configuration file for webpack. Older webpack versions would automatically look for a configuration file. Since version 4 that is no longer the case.")]),e._v(" "),n("p",[n("strong",[e._v("step 3: setting up Babel for transpiling our code")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i @babel/core babel-loader @babel/preset-env @babel/preset-react --save-dev\n")])])]),n("p",[e._v(".babelrc")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n  "presets": ["@babel/preset-env", "@babel/preset-react"]\n}\n')])])]),n("p",[e._v("webpack.config.js")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: {\n          loader: "babel-loader"\n        }\n      }\n    ]\n  }\n};\n')])])]),n("p",[e._v("The configuration is quite minimal. For every file with a js or jsx extension Webpack pipes the code through babel-loader. With this in place we're ready to write a React.")]),e._v(" "),n("p",[n("strong",[e._v("step 4: writing React components")])]),e._v(" "),n("p",[e._v("pull in react")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i react react-dom\nmkdir -p src/js/components/\n")])])]),n("p",[e._v("src/js/components/Form.js:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('import React, { Component } from "react";\nimport ReactDOM from "react-dom";\n\nclass Form extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      value: ""\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const { value } = event.target;\n    this.setState(() => {\n      return {\n        value\n      };\n    });\n  }\n\n  render() {\n    return (\n      <form>\n        <input\n          type="text"\n          value={this.state.value}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default Form;\n\nconst wrapper = document.getElementById("container");\nwrapper ? ReactDOM.render(<Form />, wrapper) : false;\n')])])]),n("p",[e._v("src/index.js:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('import Form from "./js/components/Form";\n')])])]),n("p",[e._v("npm run build")]),e._v(" "),n("p",[n("strong",[e._v("step 5:the HTML webpack plugin")])]),e._v(" "),n("p",[e._v("To display our React form we must tell webpack to produce an HTML page. The resulting bundle will be placed inside a <script> tag.")]),e._v(" "),n("p",[e._v("webpack needs two additional components for processing HTML: html-webpack-plugin and html-loader")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i html-webpack-plugin html-loader --save-dev\n")])])]),n("p",[e._v("Then update webpack.config.js:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('const HtmlWebPackPlugin = require("html-webpack-plugin");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: {\n          loader: "babel-loader"\n        }\n      },\n      {\n        test: /\\.html$/,\n        use: [\n          {\n            loader: "html-loader"\n          }\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new HtmlWebPackPlugin({\n      template: "./src/index.html",\n      filename: "./index.html"\n    })\n  ]\n};\n')])])]),n("p",[e._v("src/index.html:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <title>How to set up React, Webpack, and Babel</title>\n</head>\n<body>\n<div id="container"></div>\n</body>\n</html>\n')])])]),n("p",[e._v("npm run build")]),e._v(" "),n("p",[e._v("result published to ./dist")]),e._v(" "),n("p",[n("strong",[e._v("step 6: Configuring the webpack dev server")])]),e._v(" "),n("p",[e._v("You don't want to type npm run build every time you change a file.\nOnce configured webpack will launch your application inside a browser. Also, every time you save a file after a modification webpack dev server will refresh the browser's window.")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i webpack-dev-server --save-dev\n")])])]),n("p",[e._v("package.json")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('"start": "webpack-dev-server --open --mode development",\n')])])]),n("h3",{attrs:{id:"_4-2-4-mobx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-mobx"}},[e._v("#")]),e._v(" 4.2.4 mobx")]),e._v(" "),n("p",[n("strong",[e._v("concepts")])]),e._v(" "),n("p",[e._v("https://mobx.js.org/README.html\nhttps://cn.mobx.js.org/\nhttps://mobx.js.org/getting-started.html")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Use the @observable decorator or observable(object or array) functions to make objects trackable for MobX.")])]),e._v(" "),n("li",[n("p",[e._v("The @computed decorator can be used to create functions that can automatically derive their value from the state.")])]),e._v(" "),n("li",[n("p",[e._v("Use autorun to automatically run functions that depend on some observable state. This is useful for logging, making network requests, etc.")])]),e._v(" "),n("li",[n("p",[e._v("reactions\nwill not fire initially, only on change")])]),e._v(" "),n("li",[n("p",[e._v("transactions")])]),e._v(" "),n("li",[n("p",[e._v("actions")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('strict mode: only allow data modified in actions\n"never" (default): State can be modified from anywhere\n"observed": All state that is observed somewhere needs to be changed through actions. This is the recommended strictness mode in non-trivial applications.\n"always": State always needs be updated (which in practice also includes creation) in actions.\nimport { configure } from "mobx"\n// don\'t allow state modifications outside actions\nconfigure({ enforceActions: "always" })\n\n')])])])])]),e._v(" "),n("p",[n("strong",[e._v("actions VS flow(function * (fn)")])]),e._v(" "),n("p",[e._v("通过我发现的一个“bug”来理解下单线程非阻塞的JS模型在mobx flow中的运用，flow会根据异步请求将代码段切分成多块，每块都是一个action，也就是每块如果有状态变化都会触发render：")]),e._v(" "),n("p",[e._v("https://github.com/mobxjs/mobx/issues/2715")]),e._v(" "),n("p",[e._v("https://mobx.js.org/actions.html#using-flow-instead-of-async--await-")]),e._v(" "),n("div",{staticClass:"language-react extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("class testStore {\n  @observable tableData = []\n  @observable requestComplete = false\n  @action //这里的action是没用的，因为下面用了flow！You don't need action when using flow... the point of flow is to automatically insert actions in between time-separated blocks of code - that is - in between individual awaits - which are replaced by yields (which allows us to insert these actions).\n  retrieveTableData = (flow(function * () {\n    try {\n      console.log('Mark 1')\n      this.requestComplete = false\n      console.log('Mark 2')\n      const tempTableData = yield axios.post('someEndpoints','someParam') //以此分割成两块action，代码运行到此处，因为这里是等待异步请求，而js是非阻塞的单线程，所以就会跑去做其他事情，即如果之前观测数据requestComplete是true，这里改成了false，此时js就刚好腾出手来去触发render！\n      console.log('Mark 3')\n      if (Array.isArray(tempTableData)) {\n        this.tableData = doSthTo(tempTableData)\n        console.log('Mark 4')  \n      }\n      this.requestComplete = true\n      console.log('Mark 5')\n    } catch (error) {\n\t  console.log('Mark -1')\n      this.requestComplete = true\n    }\n  }))\n}\n\n@inject('testStore')\n@observer\nclass testTable extends Component {\n    componentDidMount () {\n    const { testStore } = this.props\n    testStore.retrieveTableData()\n  }\n  render () {\n    console.log('Mark render...')\n    return <Sth>\n  }\n")])])]),n("p",[e._v("#关于runInAction，在strict模式下，所有的setState操作都必须在action方法中，比如：\nloadWeather = city => {\nfetch(\n"),n("code",[e._v("https://abnormal-weather-api.herokuapp.com/cities/search?city=${city}")]),e._v("\n)\n.then(response => response.json())\n.then(data => {\nthis.setWeatherData(data);   //   <==== here\n});\n};")]),e._v(" "),n("pre",[n("code",[e._v("@action\nsetWeatherData = data => {\n  this.weatherData = data;   \n};\n\n可以看到这种写法为了设置weatherData还需要写一个action方法，可以通过runInAction简写成\nloadWeatherRunInThen = city => {\n  fetch(`https://abnormal-weather-api.herokuapp.com/cities/search?city=${city}`)\n    .then(response => response.json())\n    .then(data => {\n      runInAction(() => {\n        this.weatherData = data;         // <====== We dont have to define an action\n      });\n    });\n};\n```\n@action @action.bound https://stackoverflow.com/questions/48639891/difference-between-mobxs-action-bound-and-arrow-functions-on-class-functions\n")])]),e._v(" "),n("ul",[n("li",[e._v("Use the @observer decorator from the mobx-react package to make your React components truly reactive. They will update automatically and efficiently. Even when used in large complex applications with large amounts of data.")])]),e._v(" "),n("p",[e._v("mobx vs  redux:\nhttps://blog.logrocket.com/redux-vs-mobx/\nhttps://redux.js.org/introduction/getting-started")]),e._v(" "),n("p",[e._v("这个视频深入讲解了mobx的特性，如何转换现有js为mobx版本，并且对比react和加了mobx后的性能，调试技巧：\nhttps://www.youtube.com/watch?v=XGwuM_u7UeQ")]),e._v(" "),n("p",[e._v("mobx-ract Provider Injection基本原理：hooks\nhttps://reactjs.org/docs/hooks-overview.html")]),e._v(" "),n("p",[n("strong",[e._v("create-react-app + mobx")])]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.youtube.com/watch?v=Dp75-DnGFrU",target:"_blank",rel:"noopener noreferrer"}},[e._v("Introduction to MobX and React"),n("OutboundLink")],1)]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npx create-react-app hello-mobx\n\n//This moves files around and makes your app’s configuration accessible.\nnpm run eject\n\n")])])]),n("p",[e._v("eject result:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('? Are you sure you want to eject? This action is permanent. Yes\nEjecting...\n\nCopying files into C:\\Workspace\\Repository\\learn_coding\\frontend\\hello-mobx\n  Adding \\config\\env.js to the project\n  Adding \\config\\getHttpsConfig.js to the project\n  Adding \\config\\modules.js to the project\n  Adding \\config\\paths.js to the project\n  Adding \\config\\pnpTs.js to the project\n  Adding \\config\\webpack.config.js to the project\n  Adding \\config\\webpackDevServer.config.js to the project\n  Adding \\config\\jest\\cssTransform.js to the project\n  Adding \\config\\jest\\fileTransform.js to the project\n  Adding \\scripts\\build.js to the project\n  Adding \\scripts\\start.js to the project\n  Adding \\scripts\\test.js to the project\n\nUpdating the dependencies\n  Removing react-scripts from dependencies\n  Adding @babel/core to dependencies\n  Adding @svgr/webpack to dependencies\n  Adding @typescript-eslint/eslint-plugin to dependencies\n  Adding @typescript-eslint/parser to dependencies\n  Adding babel-eslint to dependencies\n  Adding babel-jest to dependencies\n  Adding babel-loader to dependencies\n  Adding babel-plugin-named-asset-import to dependencies\n  Adding babel-preset-react-app to dependencies\n  Adding camelcase to dependencies\n  Adding case-sensitive-paths-webpack-plugin to dependencies\n  Adding css-loader to dependencies\n  Adding dotenv to dependencies\n  Adding dotenv-expand to dependencies\n  Adding eslint to dependencies\n  Adding eslint-config-react-app to dependencies\n  Adding eslint-loader to dependencies\n  Adding eslint-plugin-flowtype to dependencies\n  Adding eslint-plugin-import to dependencies\n  Adding eslint-plugin-jsx-a11y to dependencies\n  Adding eslint-plugin-react to dependencies\n  Adding eslint-plugin-react-hooks to dependencies\n  Adding file-loader to dependencies\n  Adding fs-extra to dependencies\n  Adding html-webpack-plugin to dependencies\n  Adding identity-obj-proxy to dependencies\n  Adding jest to dependencies\n  Adding jest-environment-jsdom-fourteen to dependencies\n  Adding jest-resolve to dependencies\n  Adding jest-watch-typeahead to dependencies\n  Adding mini-css-extract-plugin to dependencies\n  Adding optimize-css-assets-webpack-plugin to dependencies\n  Adding pnp-webpack-plugin to dependencies\n  Adding postcss-flexbugs-fixes to dependencies\n  Adding postcss-loader to dependencies\n  Adding postcss-normalize to dependencies\n  Adding postcss-preset-env to dependencies\n  Adding postcss-safe-parser to dependencies\n  Adding react-app-polyfill to dependencies\n  Adding react-dev-utils to dependencies\n  Adding resolve to dependencies\n  Adding resolve-url-loader to dependencies\n  Adding sass-loader to dependencies\n  Adding semver to dependencies\n  Adding style-loader to dependencies\n  Adding terser-webpack-plugin to dependencies\n  Adding ts-pnp to dependencies\n  Adding url-loader to dependencies\n  Adding webpack to dependencies\n  Adding webpack-dev-server to dependencies\n  Adding webpack-manifest-plugin to dependencies\n  Adding workbox-webpack-plugin to dependencies\n\nUpdating the scripts\n  Replacing "react-scripts start" with "node scripts/start.js"\n  Replacing "react-scripts build" with "node scripts/build.js"\n  Replacing "react-scripts test" with "node scripts/test.js"\n\nConfiguring package.json\n  Adding Jest configuration\n  Adding Babel preset\n\nRunning npm install...\naudited 931631 packages in 24.439s\n\n59 packages are looking for funding\n  run `npm fund` for details\n\nfound 1 low severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\nEjected successfully!\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install mobx --save\nnpm install mobx-react --save\n")])])]),n("p",[e._v("由于create-react-app默认是不支持mobx的decorator的，为了enable decorator，需要这么做：\nhttps://mobx.js.org/best/decorators.html")]),e._v(" "),n("p",[n("strong",[e._v("Method 1 Babel 6: using babel-preset-mobx")])]),e._v(" "),n("p",[e._v("npm install --save-dev babel-preset-mobx\npackage.json OR .babelrc:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n    "presets": ["mobx"]\n}\n')])])]),n("p",[e._v("实际上我在Babel 7也测试成功，")]),e._v(" "),n("p",[n("strong",[e._v("Method 2 Babel 6: manually enabling decorators")])]),e._v(" "),n("p",[e._v("npm i --save-dev babel-plugin-transform-decorators-legacy")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n    "presets": ["es2015", "stage-1"],\n    "plugins": ["transform-decorators-legacy"]\n}\n')])])]),n("p",[e._v("未测试")]),e._v(" "),n("p",[n("strong",[e._v("Method 3 Babel 7")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install --save-dev @babel/plugin-proposal-decorators\nnpm install --save-dev @babel/plugin-proposal-class-properties\n")])])]),n("p",[e._v("package.json:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('"babel": {\n  "plugins":[\n    [\n      "@babel/plugin-proposal-decorators",\n      {\n        "legacy":true\n      }\n    ],\n    [\n      "@babel/plugin-proposal-class-properties",\n      {\n        "loose":true\n      }\n    ]\n  ],\n  "presets":[\n    "react-app"\n  ]\n}\n')])])]),n("h3",{attrs:{id:"_4-2-5-npm-packages"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-5-npm-packages"}},[e._v("#")]),e._v(" 4.2.5 npm packages")]),e._v(" "),n("h3",{attrs:{id:"_4-2-6-troubleshooting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-6-troubleshooting"}},[e._v("#")]),e._v(" 4.2.6 troubleshooting")]),e._v(" "),n("p",[e._v("?# resolve version by npm-force-resolutions\ne.g. Can't resolve './locale' in 'node_modules\\moment\\src\\lib\\locale'")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('npm install --save-dev npm-force-resolutions\npackage.json:\n\t"resolutions": {\n\t"moment": "2.24.0"\n\t}\n\t"scripts":{\n\t"preinstall": "npx npm-force-resolutions"\n\t....\n\t}\nnpm install\n')])])]),n("p",[e._v('mobx debug tools: google extension "MobX Developer Tools"')]),e._v(" "),n("h2",{attrs:{id:"_5-storybook"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-storybook"}},[e._v("#")]),e._v(" 5.Storybook")]),e._v(" "),n("p",[e._v("导读：https://www.youtube.com/watch?v=va-JzrmaiUM")]),e._v(" "),n("p",[e._v("创建demo项目:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npx create-react-app hello-storybook\nnpx storybook\n")])])]),n("p",[e._v("运行和发布:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm run storybook\nnpm run builds\n")])])]),n("p",[e._v("find all above code samples in https://github.com/lyhistory/learn_coding/tree/master/frontend")]),e._v(" "),n("hr"),e._v(" "),n("p",[e._v("ref:")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.valentinog.com/blog/babel/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tutorial: How to set up React, webpack, and Babel from scratch (2020)"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"https://medium.com/@siddharthac6/getting-started-with-react-js-using-webpack-and-babel-66549f8fbcb8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Getting started with REACT.js, using Webpack and Babel"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.codementor.io/@kakarganpat/how-to-setup-react-and-node-js-in-a-project-koxwqbssl",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to Setup React and Node JS in a project"),n("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);