(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{623:function(e,t,s){"use strict";s.r(t);var a=s(65),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("hr"),e._v(" "),s("h2",{attrs:{id:"sidebar-autosidebardepth-4footer-mit-licensed-copyright-©-2018-liu-yue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sidebar-autosidebardepth-4footer-mit-licensed-copyright-©-2018-liu-yue"}},[e._v("#")]),e._v(" sidebar: auto\nsidebarDepth: 4\nfooter: MIT Licensed | Copyright © 2018-LIU YUE")]),e._v(" "),s("p",[e._v("磁盘 disk (/dev/vda)=》分区 part (vda1 vda2.., fdisk /dev/vda) =》physical volume 物理卷 =》logic volume 逻辑卷")]),e._v(" "),s("h2",{attrs:{id:"built-in-tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#built-in-tools"}},[e._v("#")]),e._v(" built-in tools")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("df / lsblk - allows you to list available drives, including block devices.\nmount / umount - simple tools allowing you to detach a partition to change its properties.\nfdisk - management tool. It will recreate partitions with newly specified bounds.\ne2fsck - allows checking of the modified file system for errors.\nresize2fs - modifies existing file system to fit new size bounds.\n")])])]),s("h2",{attrs:{id:"file-sharing-protocol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-sharing-protocol"}},[e._v("#")]),e._v(" file sharing protocol")]),e._v(" "),s("p",[e._v("Linux: NFS\nWin: SMB")]),e._v(" "),s("h2",{attrs:{id:"lvm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lvm"}},[e._v("#")]),e._v(" LVM")]),e._v(" "),s("p",[e._v("keywords:\nlvm lun")]),e._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/linux_disk_lvm01.jpg",alt:""}})]),e._v(" "),s("p",[e._v("https://landoflinux.com/linux_lvm_command_examples.html")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\npvdisplay\n    pvdisplay -m    #显示逻辑卷和物理卷的关系 Display the mapping of physical extents to LVs and logical extents.\nvgdisplay\nlvdisplay\n\npvs - Display information about physical volumes\nvgs - Display information about volume groups\nlvs  - Display information about logical volumes\n\ndf -TH\n\nfdisk -l\n\nblkid\n\nlsblk\n\n/dev/mapper\n\n")])])]),s("p",[e._v("mount new disk\nhttps://support-intl.huaweicloud.com/zh-cn/qs-evs/evs_01_0033.html")]),e._v(" "),s("h3",{attrs:{id:"example-mount-raw-disk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#example-mount-raw-disk"}},[e._v("#")]),e._v(" example mount raw disk")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("fdisk -l /dev/vdb\n\nmkfs -t ext4 /dev/vdb1\nmkdir /test\nmount /dev/vdb1 /test\n\nmount -a\n\n##auto mount:\n\n vim /etc/fstab\n    /dev/vdb        /lyhistory/  xfs     defaults        0 0\n\n")])])]),s("h3",{attrs:{id:"example-mount-lvm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#example-mount-lvm"}},[e._v("#")]),e._v(" example mount lvm")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("new:\nfdisk -l\nfdisk -l /dev/vdb\npvcreate /dev/vdb1\nvgdisplay -l\npvs\nvgcreate lyhistory-vg /dev/vdb1\nvgs\nlvcreate -l 100%FREE -n lyhistory lyhistory-vg\nlvdisplay\nmkfs.xfs /dev/lyhistory-vg/lyhistory\nvi /etc/fstab\n    /dev/lyhistory-vg/lyhistory       /lyhistory                    xfs    defaults        0 0\n\nmkdir /lyhistory\nmount -a\nmount -l\nfdisk -l\n\n---------------------\nextend:\nlvs\npvs\npvcreate /dev/vdc\nvgextend rhel /dev/vdc\nlvcreate -n optgitlab -L 50G rhel\nlvcreate -n loggitlab -L 50G rhel\nvgs\ncd /var/opt/\nmkdir gitlab\ncd /var/log/\nmkdir gitlab\nmkfs.xfs /dev/rhel/optgitlab\nmkfs.xfs /dev/rhel/loggitlab\nvi /etc/fstab\n    /dev/rhel/optgitlab     /var/opt/gitlab xfs     defaults        0 0\n    /dev/rhel/loggitlab     /var/log/gitlab xfs     defaults        0 0\n\nmount -a\n")])])]),s("h3",{attrs:{id:"example-lvm-resize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#example-lvm-resize"}},[e._v("#")]),e._v(" example lvm resize")]),e._v(" "),s("p",[e._v("https://stackoverflow.com/questions/51663585/centos-disk-lvm-extension/52312111#52312111")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\n1) pvresize /dev/sda2\n\n    ,after execute, pls run pvs to check whether the pv size increased, if not, stop here\n\n2) vgextend centos /dev/sda2\n\n    ,after execute,pls check your vgs, see whether the size increased, if so go on to the next\n\n3) lvextend -l 100%FREE /dev/mapper/centos-root\n\n    ,after this, check lvs, if the root size not increased, go on\n\n4) try:\n\n    xfs_growfs /dev/mapper/centos-root or resize2fs /dev/mapper/centos-root\n\n")])])]),s("disqus")],1)}),[],!1,null,null,null);t.default=n.exports}}]);