(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{250:function(t,e,a){"use strict";a.r(e);var r=a(0),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("日常：浏览器挂代理，xray+burpsuite\n基本：根据target搜集subdomain，交给爬虫（crawllergo是不是也是会扫subdomain），爬虫爬url，交给xray，xray扫洞，发送结果通知\n升级：自己编写扫描器，集合各种工具（或自定义工具）")]),t._v(" "),a("h2",{attrs:{id:"xray基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray基本用法"}},[t._v("#")]),t._v(" Xray基本用法")]),t._v(" "),a("p",[t._v("https://xray.cool/")]),t._v(" "),a("p",[a("strong",[t._v("基本:")])]),t._v(" "),a("p",[t._v(".\\xray_windows_386.exe version\n.\\xray_windows_amd64.exe genca\n.\\xray_windows_amd64.exe webscan --listen 127.0.0.1:7777 --html-output xray-testphp.html\n./xray_windows_amd64 webscan --basic-crawler http://testphp.vulnweb.com/ --html-output xray-crawler-testphp.html\n快速检测单个目标 ./xray servicescan --target 127.0.0.1:8009\n批量检查的 1.file 中的目标, 一行一个目标，带端口 ./xray servicescan --target-file 1.file\n将检测结果输出到 json 文件中 ./xray servicescan --target 127.0.0.1:8099 --json-output 1.json")]),t._v(" "),a("p",[t._v("注意，速度太快会被ban，最好调整速度：\nmax_qps 每秒最大请求数，默认值为 500\nmax_parallel 插件调度并发数，默认值为 30")]),t._v(" "),a("p",[a("strong",[t._v("挂浏览器被动扫：")])]),t._v(" "),a("p",[t._v("第一次启动 xray 之后，当前目录会生成 config.yml")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('mitm:\n  ...\n  restriction:\n    includes:\n    - "target.com"\n')])])]),a("p",[t._v(".\\xray_windows_386.exe webscan --listen 127.0.0.1:7777 --html-output xray-report.html")]),t._v(" "),a("p",[a("strong",[t._v("browser->burp->xray")])]),t._v(" "),a("p",[t._v("启动xray：\n.\\xray_windows_386.exe webscan --listen 127.0.0.1:7777 --html-output xray-report.html")]),t._v(" "),a("p",[t._v("启动burp：\n更改User Options->Upstream Proxy Servers->Add\nDestination host: "),a("em",[t._v("target.com")]),t._v("\nProxy host:\t127.0.0.1\nProxy port: 7777")]),t._v(" "),a("h2",{attrs:{id:"基本联爬工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本联爬工具"}},[t._v("#")]),t._v(" 基本联爬工具")]),t._v(" "),a("p",[t._v("我捡到一个10W的洞 https://mp.weixin.qq.com/s/lxm38p7fSIfC6kPPE5HFGw")]),t._v(" "),a("p",[t._v("https://github.com/ehsahil/recon-my-way/tree/master/aquatone")]),t._v(" "),a("p",[a("strong",[t._v("Step 1: crawlergo+xray")])]),t._v(" "),a("p",[t._v("crawlergo\nhttps://github.com/0Kee-Team/crawlergo")]),t._v(" "),a("p",[t._v("https://github.com/lyhistory/crawlergo_x_XRAY\n./xray.exe webscan --listen 127.0.0.1:7777 --html-output proxy.html")]),t._v(" "),a("p",[t._v("launcher.py:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('proxies = {\n\t\t\'http\': \'http://127.0.0.1:7777\',\n\t\t\'https\': \'http://127.0.0.1:7777\',\n\t\t}\ncmd = ["./crawlergo", "-c", "C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe","-t", "20","-f","smart","--fuzz-path", "--output-mode", "json", target]\n\n')])])]),a("p",[t._v("https://github.com/ngalongc/bug-bounty-reference\nhttps://github.com/djadmin/awesome-bug-bounty")]),t._v(" "),a("p",[t._v("xray 与 crawlergo 动态爬虫联动\nhttps://assassins-white.github.io/2020/03/29/crawlergo%E8%81%94%E5%8A%A8xray%E5%AF%B9%E6%8E%A5%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%97%A5%E7%AB%99%E4%B8%80%E6%9D%A1%E9%BE%99/")]),t._v(" "),a("p",[a("strong",[t._v("Step 2 加通知：")])]),t._v(" "),a("p",[t._v("xray.exe webscan --listen 127.0.0.1:7777 --webhook-output http://你服务器IP:5000/webhook")]),t._v(" "),a("p",[t._v("自定义webhook或email\nhttps://www.cnblogs.com/yuki-nana/p/9775836.html\nhttps://assassins-white.github.io/2020/03/29/crawlergo%E8%81%94%E5%8A%A8xray%E5%AF%B9%E6%8E%A5%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%97%A5%E7%AB%99%E4%B8%80%E6%9D%A1%E9%BE%99/")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#接收漏洞,发送通知\npython xray_notify.py\n\n#接收爬虫url,扫描漏洞\n.\\xray_windows_amd64.exe webscan --listen 127.0.0.1:7777 --webhook-output http://127.0.0.1:5000/webhook_dingding\n\n#开启爬虫\npython launcher.py\n")])])]),a("p",[a("strong",[t._v("Step 3 分布式celery升级")])]),t._v(" "),a("p",[t._v("个采用 celery 的分布式扫描器原型，使得单个爬虫节点能结合多个扫描节点\nhttps://paper.seebug.org/1119/\n使用Celery加速你的爬虫\nhttps://www.cnblogs.com/TM0831/p/11405077.html\nhttps://blog.csdn.net/Lijuhao_blog/article/details/88983273\nhttps://blog.csdn.net/jclian91/article/details/86750042\nhttps://www.hongweipeng.com/index.php/archives/1676/")]),t._v(" "),a("hr")])}),[],!1,null,null,null);e.default=n.exports}}]);