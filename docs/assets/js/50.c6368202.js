(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{255:function(e,t,a){"use strict";a.r(t);var s=a(0),i=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"/docs/coder2hacker"}},[e._v("回目录")]),e._v("  《Chapter 3．基于Kali Linux搭建渗透环境》")]),e._v(" "),a("p",[e._v("常用：")]),e._v(" "),a("p",[e._v("Kali")]),e._v(" "),a("p",[e._v("Parrot-Security https://parrotlinux.org/")]),e._v(" "),a("p",[e._v("Blackarch https://blackarch.org/tools.html")]),e._v(" "),a("p",[e._v("Kalinux环境\nKali linux for virtualbox或者手动安装\nhttps://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/#1572305786534-030ce714-cc3b\n建议用官方优化过的virtualbox版本")]),e._v(" "),a("p",[e._v("OWASP\nbee-box")]),e._v(" "),a("p",[e._v("Kali Linux是基于Debian的GNS/Linux发行版，预装了众多开箱即用的hacking工具，专门用于执行安全任务，我们也将使用kali linux提供的工具包来完成渗透实验。\nKali Linux的前身是BackTrack，直至2013年被Kali Linux取代，\n2015年8月，Kali Linux第二版Kali Sana发布，2016年1月转为滚动发布，滚动发布意味着软件会持续更新而不需要更改操作系统版本，目前由Offensive Security公司进行维护")]),e._v(" "),a("h2",{attrs:{id:"kaili-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kaili-setup"}},[e._v("#")]),e._v(" kaili setup")]),e._v(" "),a("p",[e._v("Virtualbox 两种方式：")]),e._v(" "),a("p",[e._v("直接下载vbox.ova导入，或者下载iso自行安装选择 "),a("strong",[e._v("Debian 64bit")])]),e._v(" "),a("p",[e._v("基本设置：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("1.Setup SSH\napt-get install openssh-server\n/etc/ssh/sshd_config:\n\tPermitRootLogin yes\n\n#We now need to change the default SSH keys. The reason for this is because every Linux and Unix system uses #similar keys. An Attacker could potentially guess or crack your SSH keys and exploit your system using Man-#in-the-Middle techniques.\n\n#disable default ssh key\nsudo su\nupdate-rc.d -f ssh remove\nupdate-rc.d -f ssh defaults\n#backup default keys\ncd /etc/ssh/\nmkdir insecure_original_default_kali_keys \nmv ssh_host_* insecure_original_default_kali_keys/\n#create new keys\ndpkg-reconfigure openssh-server\n#restart\nsudo service ssh restart\nupdate-rc.d -f ssh enable 2 3 4 5\n\n2.Add new User\n如果是自行安装，默认用户root/toor，如果是用官方的vm版本，默认用户kali/kali，\n可以添加自定义用户：\nuseradd -m <username>\nusermod -a -G sudo <username>\nchsh -s /bin/bash lyhistory\n")])])]),a("p",[a("strong",[e._v("Kali****自带基本工具")])]),e._v(" "),a("p",[e._v("apt-get update")]),e._v(" "),a("p",[e._v("apt-get full upgrade")]),e._v(" "),a("p",[e._v("apt-get install "),a("strong",[e._v("kali-linux-web")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/kali/kali_linux_web.png",alt:""}})]),e._v(" "),a("p",[e._v("为什么要用firefox，因为firfox自己有一套证书系统，而且可以直接设置proxy，所以不需要整个电脑安装证书，以及设置全局proxy，所以firefox对于渗透测试来说是很好的工具")]),e._v(" "),a("p",[a("strong",[e._v("Firefox plugin****黑客插件")])]),e._v(" "),a("p",[e._v("https://github.com/FelisCatus/SwitchyOmega/releases")]),e._v(" "),a("p",[e._v("HackBar。hackbar quantum")]),e._v(" "),a("p",[e._v("Tamper Data and Tamper Data Icon Redux.")]),e._v(" "),a("p",[e._v("Proxy SwitchyOmega")]),e._v(" "),a("p",[e._v("FoxyProxy")]),e._v(" "),a("p",[e._v("wappalyzer")]),e._v(" "),a("p",[e._v("Cookies Manager+。")]),e._v(" "),a("p",[e._v("HttpRequester。")]),e._v(" "),a("p",[e._v("RESTClient。")]),e._v(" "),a("p",[e._v("User-Agent Switcher。")]),e._v(" "),a("p",[e._v("Tampermonkey。")]),e._v(" "),a("p",[e._v("XSS Me")]),e._v(" "),a("p",[e._v("SQL Inject Me")]),e._v(" "),a("p",[e._v("iMacros")]),e._v(" "),a("p",[e._v("FirePHP")]),e._v(" "),a("h2",{attrs:{id:"靶机-vulnerable-virtual-machine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#靶机-vulnerable-virtual-machine"}},[e._v("#")]),e._v(" 靶机 Vulnerable Virtual Machine")]),e._v(" "),a("p",[e._v("OWASP Broken Web Applications Project")]),e._v(" "),a("p",[e._v("https://sourceforge.net/projects/owaspbwa/files/")]),e._v(" "),a("p",[e._v("https://code.google.com/archive/p/owaspbwa/wikis/UserGuide.wiki")]),e._v(" "),a("p",[e._v("Download *.ova for virtualbox")]),e._v(" "),a("p",[a("strong",[e._v("root/owaspbwa")])]),e._v(" "),a("p",[e._v("我们的主要靶机是OWASP和bee-box，靶机是模拟重现真实生产环境发现的web应用漏洞。")]),e._v(" "),a("ul",[a("li",[e._v("OWASP")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/kali/owasp.png",alt:""}})]),e._v(" "),a("p",[e._v("The applications in the home page are organized in the following six groups:")]),e._v(" "),a("p",[e._v("1)"),a("strong",[e._v("Training applications")]),e._v(": These are the ones that have sections dedicated to practice-specific vulnerabilities or attack techniques; some of them include tutorials, explanations, or other kinds of guidance.")]),e._v(" "),a("p",[e._v("2)"),a("strong",[e._v("Realistic, intentionally vulnerable applications")]),e._v(": Applications that act as real-world applications (stores, blogs, and social networks) and are intentionally left vulnerable by their developers for the sake of training.")]),e._v(" "),a("p",[a("strong",[e._v("3)Old (vulnerable) versions of real applications")]),e._v(": Old versions of real applications, such as WordPress and Joomla, are known to have exploitable vulnerabilities; these are useful to test our vulnerability identification skills.")]),e._v(" "),a("p",[e._v("4)"),a("strong",[e._v("Applications for testing tools")]),e._v(": The applications in this group can be used as benchmarks for automated vulnerability scanners.")]),e._v(" "),a("p",[e._v("5)"),a("strong",[e._v("Demonstration pages/small applications")]),e._v(": These are small applications that have only one or a few vulnerabilities, for demonstration purposes only.")]),e._v(" "),a("p",[e._v("6)"),a("strong",[e._v("OWASP demonstration application")]),e._v(": OWASP AppSensor is an interesting application; it simulates a social network and could have some vulnerabilities in it. But it will log any attack attempts, which is useful when trying to learn, for example, how to bypass some security devices such as a web application firewall.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Beebox")]),e._v(" "),a("p",[e._v("https://sourceforge.net/projects/bwapp/files/bee-box/")])]),e._v(" "),a("li",[a("p",[e._v("More：")]),e._v(" "),a("p",[e._v("DVWA")]),e._v(" "),a("p",[a("strong",[e._v("Metasploitable2 3")]),e._v("(msfadmin/msfadmin)")]),e._v(" "),a("p",[e._v("​\thttps://sourceforge.net/projects/metasploitable/files/Metasploitable2/")]),e._v(" "),a("p",[e._v("​\t使用virtualbox方法：新建，然后选择Use an existing Hard Disk导入的vmware image")]),e._v(" "),a("p",[e._v("https://www.vulnhub.com/")]),e._v(" "),a("p",[e._v("https://sourceforge.net/projects/samurai")]),e._v(" "),a("p",[e._v("https://www.mavensecurity.com/resources/web-security-dojo")]),e._v(" "),a("p",[e._v("billu靶机")])])]),e._v(" "),a("p",[e._v("关于beebox：")]),e._v(" "),a("p",[e._v("http://itsecgames.com/")]),e._v(" "),a("p",[e._v("默认密码：bee/bug root/bug")]),e._v(" "),a("p",[e._v("可以直接用 "),a("strong",[e._v("OWASP Broken Web Applications Project")]),e._v(" 里的bWAPP；")]),e._v(" "),a("p",[e._v("或者")]),e._v(" "),a("p",[e._v("直接下载bWAPP安装在自己host比如php study下面")]),e._v(" "),a("p",[e._v("或者")]),e._v(" "),a("p",[e._v("直接下载beebox这个vm")]),e._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/coder2hacker/kali/beebox.png",alt:""}})]),e._v(" "),a("p",[e._v("关于DVWA:")]),e._v(" "),a("p",[e._v("OWASP BWA doesn't yet include an application that uses WebSockets, so we will need to use Damn Vulnerable Web Sockets (DVWS) (https://www.ow asp.org/index.php/OWASP_Damn_Vulnerable_Web_Sockets_(DVWS)")]),e._v(" "),a("p",[e._v("git clone https://github.com/interference-security/DVWS/")]),e._v(" "),a("p",[e._v("apt install php-mysqli")]),e._v(" "),a("p",[e._v("​      Replacing config file /etc/php/7.3/cli/php.ini with new version")]),e._v(" "),a("p",[e._v("vim /etc/php/7.3/apache2/php.ini")]),e._v(" "),a("p",[e._v("​      extension=mysqli")]),e._v(" "),a("p",[e._v("service mysql start")]),e._v(" "),a("p",[e._v("/etc/apache2/sites-available")]),e._v(" "),a("p",[e._v("​      │000-default.conf")]),e._v(" "),a("p",[e._v("cp -r DVWS /var/www/html/")]),e._v(" "),a("p",[e._v("mysql")]),e._v(" "),a("p",[e._v("​\tcreate database dvws_db;")]),e._v(" "),a("p",[e._v("​\tcreate user 'test'@'localhost' identified by '123456';")]),e._v(" "),a("p",[e._v("​\tgrant all privileges on "),a("em",[e._v(".")]),e._v(" to 'test'@'localhost' with grant option;")]),e._v(" "),a("p",[e._v("​\tflush privileges;")]),e._v(" "),a("p",[e._v("mysql dvws_db < /var/www/html/DVWS/includes/dvws_db.sql")]),e._v(" "),a("p",[e._v("vim /etc/hosts")]),e._v(" "),a("p",[e._v("127.0.0.1 dvws.local")]),e._v(" "),a("p",[e._v("service apache2 start")]),e._v(" "),a("p",[e._v("http://dvws.local/DVWS/")]),e._v(" "),a("p",[e._v("vim /var/www/html/DVWS/includes/connect-db.php")]),e._v(" "),a("p",[e._v("cd var/www/html/DVWS")]),e._v(" "),a("p",[e._v("php ws-socket.php")])])}),[],!1,null,null,null);t.default=i.exports}}]);