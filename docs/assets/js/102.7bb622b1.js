(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{304:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("整理 google doc：Basics: Linux Basic")]),e._v(" "),a("h2",{attrs:{id:"重定向-管道"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重定向-管道"}},[e._v("#")]),e._v(" 重定向/管道")]),e._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/software/linux/linux_redirect01.png",alt:""}})]),e._v(" "),a("ul",[a("li",[a("p",[e._v("重定向")]),e._v(" "),a("p",[e._v("输入<+输出流>")]),e._v(" "),a("p",[a("code",[e._v("exec 8<> /dev/tcp/www.baidu.com/80")])]),e._v(" "),a("p",[e._v("重定向到文件："),a("code",[e._v("> file")])]),e._v(" "),a("p",[e._v("重定向到文件描述符要加&"),a("code",[e._v(">& fd")])]),e._v(" "),a("p",[a("code",[e._v('echo -e "GET / HTTP/1.0\\n" 1>& 8')]),e._v(" "),a("code",[e._v("cat 0<& 8 或 cat<&8")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("标准输出重定向：")])])])]),e._v(" "),a("p",[e._v("比如标准输出重定向 java -jar **.jar > log.txt")]),e._v(" "),a("p",[e._v("2>&1 标准错误输出重定向到标准输出")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("标准输入重定向：管道|和<<< 以及命令替换$()：")])])]),e._v(" "),a("p",[e._v("首先$()主要则是command substitution，比如\nrm $(where connect.sh)")]),e._v(" "),a("p",[e._v('echo $(cmd) 和 echo "$(cmd)"，结果差不多，但是仍然有区别。注意观察，双引号转义完成的结果会自动增加单引号，而前者不会， 如果 $ 读取出的参数字符串包含空格，应该用双引号括起来，否则就会出错。')]),e._v(" "),a("p",[e._v("管道：")]),e._v(" "),a("p",[e._v("ps -aef | grep -v grep | grep \"java -server -jar\" | awk '{print $2}'\n$(2)获取管道前面等输出结果第二列,此时可以用$2替代；")]),e._v(" "),a("p",[e._v("标准输入重定向符：")]),e._v(" "),a("p",[e._v("<<< String 比如脚本中读取第一个参数并取分隔''的第一个值 "),a("code",[e._v("IFS='/' read -ra target_arr <<< \"$1\"")])]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("位置参数${}：")])])]),e._v(" "),a("p",[e._v("${}主要是作为positional parameter，")]),e._v(" "),a("p",[e._v("$｛2｝还可以表示获取脚本输入参数等第二个，此时也可以用$2替代，$#是输入参数个数；")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ animal=cat\n$ echo $animals\n# No such variable as “animals”.\n$ echo ${animal}s\ncats\n")])])]),a("p",[e._v("{}https://askubuntu.com/questions/339015/what-does-mean-in-the-find-command")]),e._v(" "),a("p",[e._v("https://labuladong.gitbook.io/algo/di-wu-zhang-ji-suan-ji-ji-shu/linux-jin-cheng https://labuladong.gitbook.io/algo/di-wu-zhang-ji-suan-ji-ji-shu/linuxshell")]),e._v(" "),a("p",[e._v("difference between ${} and $() in shell script https://superuser.com/questions/935374/difference-between-and-in-shell-script")]),e._v(" "),a("p",[e._v("cd /proc/$$/fd $$代表当前解释程序")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("哪些命令接受标准输入")])])]),e._v(" "),a("p",[e._v('命令默认都接受参数 -argument，有些命令还接受标准输入（可以使用管道符|和重定向符< <<<）,\n简单判别方式：命令是否可以阻塞终端（如cat不加任何命令会阻塞终端）\n如 echo"trade:trade"|chpasswd')]),e._v(" "),a("h2",{attrs:{id:"命令执行本质"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令执行本质"}},[e._v("#")]),e._v(" 命令执行本质")]),e._v(" "),a("p",[e._v("一个命令行终端是一个shell进程，在这个终端里执行的程序都是作为该shell进程的子进程。\n如果子进程命令阻塞终端shell进程，shell进程就会等待子进程退出才能接收其他命令；\n如果关掉了shell终端，，依附的所有子进程都会退出；\n加上&号可以避免这种情况，原理是将命令挂在systemd系统守护进程名下，其他办法还有nohup或者开tmux或者screen，并且加&可以让shell进程不再阻塞，从而继续响应新命令；")]),e._v(" "),a("p",[e._v("set -x 可以显示shell在执行什么程序")]),e._v(" "),a("p",[e._v("当使用 sudo 时，系统会使用 /etc/sudoers 这个文件中规定的该用户的权限和环境变量")]),e._v(" "),a("h2",{attrs:{id:"系统相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统相关"}},[e._v("#")]),e._v(" 系统相关")]),e._v(" "),a("h3",{attrs:{id:"内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内存"}},[e._v("#")]),e._v(" 内存")]),e._v(" "),a("p",[e._v("Linux used 内存到底哪里去了？ https://mp.weixin.qq.com/s/-WG0kjK_YQxrXuPi-OebsQ")]),e._v(" "),a("p",[a("img",{attrs:{src:"/docs/docs_image/software/linux/linux_memory01.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"包管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包管理"}},[e._v("#")]),e._v(" 包管理")]),e._v(" "),a("h3",{attrs:{id:"不同发行版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不同发行版"}},[e._v("#")]),e._v(" 不同发行版")]),e._v(" "),a("p",[e._v("Ubuntu based on debian,")]),e._v(" "),a("p",[e._v("Centos for bigdata")]),e._v(" "),a("p",[e._v("Redhat for databases(because those database companies use redhat, it’s tested)")]),e._v(" "),a("p",[e._v("amd64, i386,x64"),a("a",{attrs:{href:"https://askubuntu.com/questions/32402/amd64-i386-32bit-64bit-which-version-to-choose",target:"_blank",rel:"noopener noreferrer"}},[e._v(" https://askubuntu.com/questions/32402/amd64-i386-32bit-64bit-which-version-to-choose"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("dpkg(Ubuntu) , rpm(centos)")]),e._v(" "),a("p",[e._v("http://linuxintro.org/index.php?title=Dpkg-rpm_equivalent_commands&redirect=no")]),e._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),a("p",[e._v("Download or install:")]),e._v(" "),a("ol",[a("li",[e._v("add to apt/yum repository, and then apt-get/yum install ***")])]),e._v(" "),a("p",[e._v("Normally will be put in /usr/bin/")]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("download tar file, and extract, then set env variable or persist it in bashrc bash_profile")])]),e._v(" "),a("p",[e._v("Cons: if there is dependencies, you have to manually install them")]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("download deb for ubuntu or rpm for centos, and install it, it will help you install all related dependencies")])]),e._v(" "),a("p",[e._v("Know the version before installing:")]),e._v(" "),a("p",[a("code",[e._v("apt policy <packagename>")])]),e._v(" "),a("p",[a("code",[e._v("yum info/search <packagename>")])]),e._v(" "),a("p",[e._v("rpm -ivh -uvh VS yum install vs yum localinstall")]),e._v(" "),a("p",[e._v("[https://serverfault.com/questions/825320/difference-between-rpm-ivh-package-and-yum-install-package#:~:text=there%20is%20no%20difference%20if,works%20with%20file(s).](https://serverfault.com/questions/825320/difference-between-rpm-ivh-package-and-yum-install-package#:~:text=there is no difference if,works with file(s).)")]),e._v(" "),a("p",[e._v("Additionally, you can use yum localinstall "),a("packagename",[e._v(" to intelligently install dependencies as needed.")])],1),e._v(" "),a("p",[e._v("1、rpm包安装的，可以用rpm -qa看到，如果要查找某软件包是否安装，用 "),a("strong",[e._v('rpm -qa | grep "软件或者包的名字')]),e._v('"。')]),e._v(" "),a("p",[e._v('2、以deb包安装的，可以用dpkg -l能看到。如果是查找指定软件包，用dpkg -l | grep "软件或者包的名字"；')]),e._v(" "),a("p",[e._v('3、yum方法安装的，可以用yum list installed查找，如果是查找指定包，命令后加 | grep "软件名或者包名"；')]),e._v(" "),a("p",[e._v("4、如果是以源码包自己编译安装的，例如.tar.gz或者tar.bz2形式的，这个只能看可执行文件是否存在了，")]),e._v(" "),a("p",[e._v("上面两种方法都看不到这种源码形式安装的包。如果是以root用户安装的，可执行程序通常都在/sbin:/usr/bin目录下。")])])}),[],!1,null,null,null);t.default=n.exports}}]);