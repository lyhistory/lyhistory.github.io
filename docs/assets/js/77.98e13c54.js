(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{277:function(t,e,s){"use strict";s.r(e);var n=s(0),o=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本概念"}},[t._v("#")]),t._v(" 1. 基本概念")]),t._v(" "),s("h3",{attrs:{id:"_1-1-虚拟机和容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-虚拟机和容器"}},[t._v("#")]),t._v(" 1.1 虚拟机和容器")]),t._v(" "),s("p",[t._v("VM VS Container（docker vagrant）VS JVM:")]),t._v(" "),s("pre",[s("code",[t._v("Both provide a way to isolate applications and provide a virtual platform for applications to run on;\nA container is an isolated, lightweight silo for running an application on the host operating system. Containers build on top of the host operating system's kernel (which can be thought of as the buried plumbing of the operating system), and contain only apps and some lightweight operating system APIs and services that run in user mode;\nIn contrast to containers, VMs run a complete operating system–including its own kernel.\n提一下JVM,java虚拟机，只是给字节码byte code提供解释翻译加载运行的一个工具，同样的PVM也是类似；\n")])]),t._v(" "),s("p",[t._v("docker vs VMs vs vagrant\nDocker vs Vagrant: What You Need to Know https://www.ctl.io/developers/blog/post/docker-vs-vagrant\nhttps://www.quora.com/Whats-the-difference-between-a-VM-Docker-and-Vagrant")]),t._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/vm01.png",alt:""}})]),t._v(" "),s("p",[t._v("Linux Host docker+vagrant vs Win/mac Host docker+vagrant\n--https://blog.zenika.com/2014/10/07/setting-up-a-development-environment-using-docker-and-vagrant/")]),t._v(" "),s("p",[t._v("Vagrant is not just about creating VMs, it is about automating the work of setting up development environments for our projects. Also, we can check Vagrantfiles into source control with each project, so the environment is essentially stored with the code, without having to find a way to store a VM itself.")]),t._v(" "),s("p",[t._v("vagrant一般用来操作vm，自动化开发环境，比如可以参考hyperledger的vagrant脚本（Setup hyperledger cluster）；\n有点等价于docker的docker compose用来自动化docker容器；\n当然vagrant也可以用来操作docker容器；")]),t._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/vm02.png",alt:""}})]),t._v(" "),s("p",[t._v("cygwin vs vm\nCygwin is intended to give Windows a number of Unix tools;\nVMs are for when you want to run multiple operating systems at the same time. It's like having two computers without the expense of purchasing two sets of hardware.\n-- https://superuser.com/questions/53881/virtual-machines-vs-cygwin\nCygwin is POSIX (Portable Operating System Interface for uniX) compliant which basically means it shares a common API with all the other compliant operating systems. It does not mean applications compiled for other POSIX systems such as Linux software will automatically work within Cygwin. To add new POSIX software you still need to compile the software source code under Cygwin using its own compilers and libraries. This process is a requirement with most POSIX compliant operating systems e.g. software complied for FreeBDS (Unix) will not work under Debian/Ubuntu (Linux).\n--https://devtidbits.com/2011/07/01/cygwin-walkthrough-and-beginners-guide-is-it-linux-for-windows-or-a-posix-compatible-alternative-to-powershell/")]),t._v(" "),s("p",[t._v("kubernetes?\nhttps://kubernetes.io/docs/user-journeys/users/application-developer/foundational/#section-3")]),t._v(" "),s("h3",{attrs:{id:"_1-2-工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-工具"}},[t._v("#")]),t._v(" 1.2 工具")]),t._v(" "),s("p",[s("strong",[t._v("ConEmu:")])]),t._v(" "),s("pre",[s("code",[t._v("\tCtrl+Shift+O and Ctrl+Shift+E\nCmder: https://lfire.github.io/2017/03/02/cmder/ https://www.cnblogs.com/jcuan/p/6986869.html\n\thttps://cmder.net/\nset LC_ALL=zh-CN.UTF8\n")])]),t._v(" "),s("p",[t._v("xwindows http://x.cygwin.com/docs/ug/setup.html\nssh https://docs.oracle.com/cd/E24628_01/install.121/e22624/preinstall_req_cygwin_ssh.htm#EMBSC150")]),t._v(" "),s("p",[s("strong",[t._v("SCP:")]),t._v("\nscp /cygdrive/c/publish/PageHitExporter.py peter.liu@10.22.103.105:~/\nWinscp")]),t._v(" "),s("p",[s("strong",[t._v("Database: dbeaver")]),t._v("\nhttps://www.reddit.com/r/coolguides/comments/bu9611/cool_free_and_useful_software/?utm_source=reddit-android")]),t._v(" "),s("p",[t._v("**Compare:")]),t._v(" "),s("p",[t._v("cygwin vs git bash and others:\nhttps://macyves.wordpress.com/2014/09/18/hipsterising-windows-cygwin-vs-babun-vs-git-bash-vs-powershell-the-onion-scale/")]),t._v(" "),s("p",[t._v("cygwin vs putty:\nCygwin provides ports of GNU/Linux utilities to offer such an environment in Windows. This allows you to use common GNU/Linux tools and methodology, to an extent, to work with your Windows system just as you would on your Linux boxes.\nPuTTY is an SSH client and terminal emulator. SSH is a protocol for connecting to a system and open a shell or perform remote command execution. This is a common way of interfacing with a remote *nix system.\nSo, for example, if you wanted to use a Bash shell in Windows, you would install Cygwin. If, however, you are only interested in administering your Linux box remotely from Windows, you could choose to use PuTTY.\n-- www.reddit.com/r/learnprogramming/comments/qlt8w/cygwin_vs_putty/")]),t._v(" "),s("h2",{attrs:{id:"_2-基本环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-基本环境配置"}},[t._v("#")]),t._v(" 2. 基本环境配置")]),t._v(" "),s("h3",{attrs:{id:"_2-1-配置方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-配置方法"}},[t._v("#")]),t._v(" 2.1 配置方法")]),t._v(" "),s("p",[t._v("Hardware: ups(uninterrupted power supply)")]),t._v(" "),s("ul",[s("li",[s("ol",[s("li",[t._v("windows")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("windows+VM\ne.g http://www.cse.scu.edu/~mwang2/projects/CDH_installConfig1_13m.pdf")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"3"}},[s("li",[t._v("windows+POSIX (etc. cygwin)\ne.g run Hadoop in cygwin on windows")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"4"}},[s("li",[t._v("windows + docker (hyper-v || virtual box)\ne.g https://www.cloudera.com/documentation/enterprise/5-6-x/topics/quickstart_docker_container.html")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"5"}},[s("li",[t._v("linux")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"6"}},[s("li",[t._v("linux + docker")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"7"}},[s("li",[t._v("linux/win/mac + vm + vagrant\ne.g hyperledger cluster setup")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"8"}},[s("li",[t._v("linux/win/mac + docker + vagrant")])])])]),t._v(" "),s("p",[t._v("windows+subsysterm:\nhttps://docs.microsoft.com/en-us/windows/wsl/about")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all\n\nwindows store: ubuntu\n")])])]),s("h3",{attrs:{id:"_2-2-本地开发环境配置例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-本地开发环境配置例子"}},[t._v("#")]),t._v(" 2.2 本地开发环境配置例子")]),t._v(" "),s("p",[t._v("//obselete: not free: virtualbox + xshell + xmanager + virtualenv")]),t._v(" "),s("p",[t._v("virtualbox (save the state) +LVM+ cmder/ConEmu/cygwin (x11, tmux session+tmux-resurrect) + winscp + virtualenv")]),t._v(" "),s("ul",[s("li",[t._v("docker(docker compose+docker volume, supervisord:grafana influxdb postgresql mongodb)")])]),t._v(" "),s("p",[t._v("Other ssh client like: google chrome secure shell extension and http://web-console.org/")]),t._v(" "),s("h4",{attrs:{id:"_2-2-1-host-install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-host-install"}},[t._v("#")]),t._v(" 2.2.1 Host install")]),t._v(" "),s("p",[t._v("Mouse escape from ubuntu: Esc\nMouse escape from centos: right click / right Ctrl")]),t._v(" "),s("p",[s("strong",[t._v("SSH:")]),t._v("\nsudo yum install -y openssh-server\nhttps://bytefreaks.net/gnulinux/centos-6-install-start-and-stop-enable-and-disable-ssh-server")]),t._v(" "),s("p",[s("strong",[t._v("Tmux:")])]),t._v(" "),s("p",[t._v("Auto install:")]),t._v(" "),s("pre",[s("code",[t._v("Sudo yum install tmux\n")])]),t._v(" "),s("p",[t._v("Manually install:")]),t._v(" "),s("pre",[s("code",[t._v('tar -zxvf tmux-2.8.tar.gz\nLDFLAGS="-L/usr/local/lib -Wl,-rpath=/usr/local/lib" ./configure --prefix=/usr/local\nmake\nSudo make install\nhttps://gist.github.com/pierreprinetti/86fbcd28e5cc1b3e0b9b762e4c12fad2\n\nTmux plugin manager https://github.com/tmux-plugins/tpm\nTmux plugins / workflow\n\thttps://github.com/tmux-plugins/tmux-resurrect\n\thttps://github.com/tmux-plugins/tmux-resurrect/blob/master/docs/restoring_pane_contents.md\ntmux source ~/.tmux.conf\nsudo chown test:root .tmux -R\n\nEnable tmux copy mode: add into .tmux.conf: setw -g mode-keys vi\n')])]),t._v(" "),s("p",[t._v("Reload: Ctrl+b Shift+I\nSave: Ctrl+b ctrl+s\nRecover: Ctrl+b ctrl+r")]),t._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/vm03.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"_2-2-2-连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-连接"}},[t._v("#")]),t._v(" 2.2.2 连接")]),t._v(" "),s("p",[t._v("X11 with cygwin::cmd(when x11 gui needed):")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\\cygwin\\bin\\run.exe --quote /usr/bin/bash.exe -l -c "cd; /usr/bin/xinit /etc/X11/xinit/startxwinrc -- /usr/bin/XWin :1 -multiwindow -listen tcp"\nd:\\cygwin\\bin\\run.exe --quote /usr/bin/bash.exe -l -c "cd; /usr/bin/xinit /etc/X11/xinit/startxwinrc -- /usr/bin/XWin :1 -multiwindow -listen tcp"\n')])])]),s("p",[t._v("ssh:\n"),s("code",[t._v("ssh -Y <username>@10.20.130.54")])]),t._v(" "),s("p",[t._v("X11 with cmder/xming:\n注意如果是bash的话不要用下面的\nset DISPLAY=127.0.0.1:0.0\n要用 export DISPLAY=127.0.0.1:0.0")]),t._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/vm04.png",alt:""}})]),t._v(" "),s("p",[t._v("Test:: xeyes or xclock\n?#issues: Error: no DISPLAY environment variable specified\nSolution: Remember ssh -Y OR Tick forward x11 if using putty and for ssh shell remebmer -Y\n?#issues: running but not showing")]),t._v(" "),s("p",[t._v("In case no ip address allocated :\n"),s("code",[t._v("sudo dhclient")])]),t._v(" "),s("p",[s("strong",[t._v("Disable ipv6")]),t._v("::https://www.thegeekdiary.com/centos-rhel-7-how-to-disable-ipv6/\n/etc/sysctl.conf:\nnet.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\nsysctl -p")]),t._v(" "),s("p",[s("strong",[t._v("Expose port::")]),t._v("\n[root@localhost conf]# firewall-cmd --get-active-zones\n[root@localhost conf]# firewall-cmd --get-default-zone\npublic\n[root@localhost conf]# firewall-cmd --zone=public --add-port=8080/tcp --permanent\nsuccess\n[root@localhost conf]# firewall-cmd --reload")]),t._v(" "),s("h4",{attrs:{id:"_2-2-3-基本开发设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-基本开发设置"}},[t._v("#")]),t._v(" 2.2.3 基本开发设置")]),t._v(" "),s("p",[s("strong",[t._v("用户管理")]),t._v("\ngroupadd gapp\nuseradd newUser –g newGroup –d /home/newUser\npasswd newUser")]),t._v(" "),s("p",[t._v("id\nuid=1001(newUser) gid=500(newGroup) groups=500(newGroup)\nusermod -aG wheel newUser\nid\nuid=1001(newUser) gid=500(newGroup) groups=500(newGroup),10(wheel)")]),t._v(" "),s("p",[t._v("mkdir -p /path/to/app\nchown root:newGroup /path/\nchown root:newGroup /apex/to/\n$ chown -R newUser:newGroup /path/to/app")]),t._v(" "),s("p",[t._v("最简单暴力方式：\nchmod u+w /etc/sudoers\nusername ALL=(ALL) ALL\nchmod u-w /etc/sudoers")]),t._v(" "),s("p",[s("strong",[t._v("开发环境")]),t._v("\nJava\nyum install maven\nsudo yum -y install tree\nPython\nsudo yum install python-devel\nsudo yum install epel-release\nsudo yum install python-pip\nhttps://linuxize.com/post/how-to-install-pip-on-centos-7/")]),t._v(" "),s("h2",{attrs:{id:"_3-具体操作系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-具体操作系统"}},[t._v("#")]),t._v(" 3.具体操作系统")]),t._v(" "),s("p",[t._v("根据用途设置用户名 如 blockchain/123456")]),t._v(" "),s("h3",{attrs:{id:"_3-1-安装ubuntu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-安装ubuntu"}},[t._v("#")]),t._v(" 3.1 安装Ubuntu")]),t._v(" "),s("p",[s("strong",[t._v("测试过的例子：")]),t._v("\npreditionIO dev环境，Eth开发 hyperledger")]),t._v(" "),s("p",[s("strong",[t._v("安装步骤：")]),t._v("\nUbuntu(64-bit);Create a virtual hard disk now;VDI;Dynamic allocated;")]),t._v(" "),s("p",[s("strong",[t._v("Ssh")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo apt-get install openssh-server\nsudo service ssh status\nsudo service ssh restart\n")])])]),s("p",[t._v("If failed connect ssh, then try to check firewall and the Network:\nSudo ufw status\nOr when you changed the network type, you may need to restart vm\nMore:\t\nDNS setting or DNS resolve")]),t._v(" "),s("h3",{attrs:{id:"_3-2-安装centos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-安装centos"}},[t._v("#")]),t._v(" 3.2 安装centos")]),t._v(" "),s("p",[s("strong",[t._v("测试过的例子：")]),t._v("\npreditionIO uat环境模拟，hyperledger EOS开发")]),t._v(" "),s("p",[s("strong",[t._v("安装步骤：")]),t._v("\n选择DVD ISO\nRedhat(64-bit);Create a virtual hard disk now;VDI;Dynamic allocated;")]),t._v(" "),s("p",[s("strong",[t._v("Minimal version to GUI version:")]),t._v('\nyum -y groups install "GNOME Desktop"\nstartx\nhttps://unix.stackexchange.com/questions/181503/how-to-install-desktop-environments-on-centos-7')]),t._v(" "),s("p",[t._v("config x11\nhttps://prasadlinuxblog.wordpress.com/2018/05/29/how-configure-x11-forwarding-in-centos-rhel-6-7/\nyum install -y xorg-x11-server-Xorg xorg-x11-xauth xorg-x11-apps\nvim /etc/ssh/sshd_config\nX11Forwarding yes\nsystemctl restart sshd")]),t._v(" "),s("p",[t._v("cmder x11\nhttps://stackoverflow.com/questions/35211892/using-conemu-terminal-with-xming\nDISPLAY=XMING_ID;export DISPLAY;\nhttps://jdhao.github.io/2018/03/02/Windows-connect-server-x11-with-gitbash/")]),t._v(" "),s("p",[s("strong",[t._v("DNS setting for centos")]),t._v("\nvim /etc/sysconfig/network-scripts/ifcfg-enp0s3")]),t._v(" "),s("h2",{attrs:{id:"_4-troubleshooting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-troubleshooting"}},[t._v("#")]),t._v(" 4. Troubleshooting")]),t._v(" "),s("p",[s("img",{attrs:{src:"/docs/docs_image/software/linux/vm_troubleshooting01.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"/docs/docs_image/software/linux/vm_troubleshooting02.png",alt:""}})]),t._v(" "),s("p",[t._v("?# failed install virtualbox on win10(64), fatal error\nThe VirtualBox Support article I have a 64bit host, but can't install 64bit guests lists the following conditions for 64-bit guests: https://superuser.com/questions/1241956/virtualbox-only-allowing-32-bit-os")]),t._v(" "),s("p",[t._v("?#Not enough space for docker images\nGparted to resize => refer to “Ubuntu >Resize> Step2”\nhttp://derekmolloy.ie/resize-a-virtualbox-disk/\nhttps://gparted.sourceforge.io/download.php")]),t._v(" "),s("p",[t._v("?#issues: Enabling Intel VT and AMD-V virtualization hardware extensions in BIOS https://docs-old.fedoraproject.org/en-US/Fedora/13/html/Virtualization_Guide/sect-Virtualization-Troubleshooting-Enabling_Intel_VT_and_AMD_V_virtualization_hardware_extensions_in_BIOS.html\nIntel VT / AMD-V是做什么用的? https://zhidao.baidu.com/question/96510766.html\n主板VT-X、AMD-V虚拟化设置教程 www.veryhuo.com/a/view/110093.html")]),t._v(" "),s("p",[t._v("?#Shared folder\nCould not mount the media/drive 'C:\\Program Files\\Oracle\\VirtualBox/VBoxGuestAdditions.iso' (VERR_PDM_MEDIA_LOCKED).\nhttps://superuser.com/questions/760327/vbox-guest-additions-iso-cant-be-mounted-because-of-verr-pdm-media-locked")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cd /media \nmkdir cdrom \nmount /dev/cdrom /media/cdrom\nsh VBoxLinuxAdditions.run\n")])])]),s("p",[t._v("Virtualbox shared folder permissions https://stackoverflow.com/questions/26740113/virtualbox-shared-folder-permissions")]),t._v(" "),s("h2",{attrs:{id:"_5-other-stuff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-other-stuff"}},[t._v("#")]),t._v(" 5. Other stuff")]),t._v(" "),s("p",[t._v("cool-retro-term https://github.com/Swordfish90/cool-retro-term")]),t._v(" "),s("p",[t._v("Storage: IDE vs SATA\nhttps://www.virtualbox.org/manual/ch05.html\nhttps://www.virtualbox.org/manual/ch01.html#idm485")]),t._v(" "),s("p",[t._v("The 2018 DevOps RoadMap https://hackernoon.com/the-2018-devops-roadmap-31588d8670cb")])])}),[],!1,null,null,null);e.default=o.exports}}]);