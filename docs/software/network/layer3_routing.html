<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本概念 | 计算机基础教程</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9742852210287449" crossorigin="anonymous"></script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=AW-748196294"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  
		  gtag('config', 'AW-748196294');
        </script>
    <script>
			(function() { // DON'T EDIT BELOW THIS LINE
			
			})();
		 </script>
    <meta name="description" content="软件开发教程，白帽黑客入门教程，区块链入门教程，物联网，大数据">
    
    <link rel="preload" href="/docs/assets/css/0.styles.d4eb5ad8.css" as="style"><link rel="preload" href="/docs/assets/js/app.f3b5d2d6.js" as="script"><link rel="preload" href="/docs/assets/js/2.d450803a.js" as="script"><link rel="preload" href="/docs/assets/js/280.6941e4c0.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.6280ea0f.js"><link rel="prefetch" href="/docs/assets/js/100.dd7b2eaf.js"><link rel="prefetch" href="/docs/assets/js/101.120a98da.js"><link rel="prefetch" href="/docs/assets/js/102.1651235e.js"><link rel="prefetch" href="/docs/assets/js/103.d597125d.js"><link rel="prefetch" href="/docs/assets/js/104.ff56395e.js"><link rel="prefetch" href="/docs/assets/js/105.560d6962.js"><link rel="prefetch" href="/docs/assets/js/106.f13a7d16.js"><link rel="prefetch" href="/docs/assets/js/107.045ca855.js"><link rel="prefetch" href="/docs/assets/js/108.87efcedf.js"><link rel="prefetch" href="/docs/assets/js/109.aa3e7576.js"><link rel="prefetch" href="/docs/assets/js/11.68ab8c41.js"><link rel="prefetch" href="/docs/assets/js/110.c91e11ed.js"><link rel="prefetch" href="/docs/assets/js/111.3f0ac95e.js"><link rel="prefetch" href="/docs/assets/js/112.605bdc23.js"><link rel="prefetch" href="/docs/assets/js/113.4be855c2.js"><link rel="prefetch" href="/docs/assets/js/114.7dd886cd.js"><link rel="prefetch" href="/docs/assets/js/115.3174bf56.js"><link rel="prefetch" href="/docs/assets/js/116.c5bbe50c.js"><link rel="prefetch" href="/docs/assets/js/117.caeddc4a.js"><link rel="prefetch" href="/docs/assets/js/118.3c6e58d6.js"><link rel="prefetch" href="/docs/assets/js/119.0d6f1c81.js"><link rel="prefetch" href="/docs/assets/js/12.42639e7a.js"><link rel="prefetch" href="/docs/assets/js/120.d4501723.js"><link rel="prefetch" href="/docs/assets/js/121.1c102c4f.js"><link rel="prefetch" href="/docs/assets/js/122.d59d35bf.js"><link rel="prefetch" href="/docs/assets/js/123.29688b75.js"><link rel="prefetch" href="/docs/assets/js/124.09f5746a.js"><link rel="prefetch" href="/docs/assets/js/125.efea9bcc.js"><link rel="prefetch" href="/docs/assets/js/126.78bb787e.js"><link rel="prefetch" href="/docs/assets/js/127.ece9e615.js"><link rel="prefetch" href="/docs/assets/js/128.c0f197d8.js"><link rel="prefetch" href="/docs/assets/js/129.3ac4512a.js"><link rel="prefetch" href="/docs/assets/js/13.4f960cca.js"><link rel="prefetch" href="/docs/assets/js/130.dd2a1e2a.js"><link rel="prefetch" href="/docs/assets/js/131.6bd8f4d8.js"><link rel="prefetch" href="/docs/assets/js/132.df88ea23.js"><link rel="prefetch" href="/docs/assets/js/133.a3b5fe0a.js"><link rel="prefetch" href="/docs/assets/js/134.ad499f1b.js"><link rel="prefetch" href="/docs/assets/js/135.e27d6df5.js"><link rel="prefetch" href="/docs/assets/js/136.db1b386f.js"><link rel="prefetch" href="/docs/assets/js/137.b076086e.js"><link rel="prefetch" href="/docs/assets/js/138.6edd42b3.js"><link rel="prefetch" href="/docs/assets/js/139.594db60d.js"><link rel="prefetch" href="/docs/assets/js/14.707b2351.js"><link rel="prefetch" href="/docs/assets/js/140.529f22b1.js"><link rel="prefetch" href="/docs/assets/js/141.25bf61d8.js"><link rel="prefetch" href="/docs/assets/js/142.b9b9be79.js"><link rel="prefetch" href="/docs/assets/js/143.2ad03972.js"><link rel="prefetch" href="/docs/assets/js/144.4b7a00a3.js"><link rel="prefetch" href="/docs/assets/js/145.6a3ef15e.js"><link rel="prefetch" href="/docs/assets/js/146.71f24f49.js"><link rel="prefetch" href="/docs/assets/js/147.a435857d.js"><link rel="prefetch" href="/docs/assets/js/148.8cd0636b.js"><link rel="prefetch" href="/docs/assets/js/149.59500037.js"><link rel="prefetch" href="/docs/assets/js/15.234d315c.js"><link rel="prefetch" href="/docs/assets/js/150.49caeee8.js"><link rel="prefetch" href="/docs/assets/js/151.fddc5e98.js"><link rel="prefetch" href="/docs/assets/js/152.38a198ce.js"><link rel="prefetch" href="/docs/assets/js/153.1a9f7c90.js"><link rel="prefetch" href="/docs/assets/js/154.bd050107.js"><link rel="prefetch" href="/docs/assets/js/155.1159a78e.js"><link rel="prefetch" href="/docs/assets/js/156.1f5f9e09.js"><link rel="prefetch" href="/docs/assets/js/157.a3f38260.js"><link rel="prefetch" href="/docs/assets/js/158.1e91a361.js"><link rel="prefetch" href="/docs/assets/js/159.e7aa7e41.js"><link rel="prefetch" href="/docs/assets/js/16.4a51c985.js"><link rel="prefetch" href="/docs/assets/js/160.a14306aa.js"><link rel="prefetch" href="/docs/assets/js/161.b6e6822d.js"><link rel="prefetch" href="/docs/assets/js/162.d830fa56.js"><link rel="prefetch" href="/docs/assets/js/163.036b22f1.js"><link rel="prefetch" href="/docs/assets/js/164.5857fdbc.js"><link rel="prefetch" href="/docs/assets/js/165.50947da1.js"><link rel="prefetch" href="/docs/assets/js/166.714b3640.js"><link rel="prefetch" href="/docs/assets/js/167.b2cff198.js"><link rel="prefetch" href="/docs/assets/js/168.34e075cb.js"><link rel="prefetch" href="/docs/assets/js/169.76549873.js"><link rel="prefetch" href="/docs/assets/js/17.006a54ef.js"><link rel="prefetch" href="/docs/assets/js/170.d251807d.js"><link rel="prefetch" href="/docs/assets/js/171.bd487667.js"><link rel="prefetch" href="/docs/assets/js/172.e3a9e812.js"><link rel="prefetch" href="/docs/assets/js/173.80869caa.js"><link rel="prefetch" href="/docs/assets/js/174.7827131f.js"><link rel="prefetch" href="/docs/assets/js/175.6ee7d79a.js"><link rel="prefetch" href="/docs/assets/js/176.a4fecc5a.js"><link rel="prefetch" href="/docs/assets/js/177.ad2c0780.js"><link rel="prefetch" href="/docs/assets/js/178.f67c11cc.js"><link rel="prefetch" href="/docs/assets/js/179.885cef6f.js"><link rel="prefetch" href="/docs/assets/js/18.f05e0591.js"><link rel="prefetch" href="/docs/assets/js/180.8ae8692d.js"><link rel="prefetch" href="/docs/assets/js/181.697b1f75.js"><link rel="prefetch" href="/docs/assets/js/182.11476875.js"><link rel="prefetch" href="/docs/assets/js/183.cd8aab0f.js"><link rel="prefetch" href="/docs/assets/js/184.a6c0fbe9.js"><link rel="prefetch" href="/docs/assets/js/185.4601014d.js"><link rel="prefetch" href="/docs/assets/js/186.7ab19c26.js"><link rel="prefetch" href="/docs/assets/js/187.f67b4f96.js"><link rel="prefetch" href="/docs/assets/js/188.477a5835.js"><link rel="prefetch" href="/docs/assets/js/189.1a5ad809.js"><link rel="prefetch" href="/docs/assets/js/19.0be4353a.js"><link rel="prefetch" href="/docs/assets/js/190.c0f18fde.js"><link rel="prefetch" href="/docs/assets/js/191.8ca4812a.js"><link rel="prefetch" href="/docs/assets/js/192.dde11235.js"><link rel="prefetch" href="/docs/assets/js/193.88669354.js"><link rel="prefetch" href="/docs/assets/js/194.8ae5c728.js"><link rel="prefetch" href="/docs/assets/js/195.a463164e.js"><link rel="prefetch" href="/docs/assets/js/196.47f3c9fc.js"><link rel="prefetch" href="/docs/assets/js/197.0065d329.js"><link rel="prefetch" href="/docs/assets/js/198.658385f3.js"><link rel="prefetch" href="/docs/assets/js/199.71dc01ef.js"><link rel="prefetch" href="/docs/assets/js/20.3b79ab50.js"><link rel="prefetch" href="/docs/assets/js/200.17d68cc2.js"><link rel="prefetch" href="/docs/assets/js/201.b2b8b8a4.js"><link rel="prefetch" href="/docs/assets/js/202.95d11e68.js"><link rel="prefetch" href="/docs/assets/js/203.960d31ec.js"><link rel="prefetch" href="/docs/assets/js/204.66a3ddbb.js"><link rel="prefetch" href="/docs/assets/js/205.472c9cbc.js"><link rel="prefetch" href="/docs/assets/js/206.dd9df3d0.js"><link rel="prefetch" href="/docs/assets/js/207.b180755c.js"><link rel="prefetch" href="/docs/assets/js/208.952ccdc4.js"><link rel="prefetch" href="/docs/assets/js/209.e30442b0.js"><link rel="prefetch" href="/docs/assets/js/21.9312e011.js"><link rel="prefetch" href="/docs/assets/js/210.c71f633e.js"><link rel="prefetch" href="/docs/assets/js/211.4fca6eef.js"><link rel="prefetch" href="/docs/assets/js/212.8537f88b.js"><link rel="prefetch" href="/docs/assets/js/213.594847b7.js"><link rel="prefetch" href="/docs/assets/js/214.463a1959.js"><link rel="prefetch" href="/docs/assets/js/215.6971ffc8.js"><link rel="prefetch" href="/docs/assets/js/216.3e1b7339.js"><link rel="prefetch" href="/docs/assets/js/217.05645c53.js"><link rel="prefetch" href="/docs/assets/js/218.8754bb3b.js"><link rel="prefetch" href="/docs/assets/js/219.aa6527a4.js"><link rel="prefetch" href="/docs/assets/js/22.840bab1f.js"><link rel="prefetch" href="/docs/assets/js/220.111da57f.js"><link rel="prefetch" href="/docs/assets/js/221.6a59a9e0.js"><link rel="prefetch" href="/docs/assets/js/222.3ac8bdb5.js"><link rel="prefetch" href="/docs/assets/js/223.1a16a1c2.js"><link rel="prefetch" href="/docs/assets/js/224.dd5faaeb.js"><link rel="prefetch" href="/docs/assets/js/225.23e55812.js"><link rel="prefetch" href="/docs/assets/js/226.800c79e9.js"><link rel="prefetch" href="/docs/assets/js/227.5084e9c9.js"><link rel="prefetch" href="/docs/assets/js/228.f5966dad.js"><link rel="prefetch" href="/docs/assets/js/229.2d0c31fc.js"><link rel="prefetch" href="/docs/assets/js/23.eb14ea0a.js"><link rel="prefetch" href="/docs/assets/js/230.300148d6.js"><link rel="prefetch" href="/docs/assets/js/231.b1e26be6.js"><link rel="prefetch" href="/docs/assets/js/232.059c505d.js"><link rel="prefetch" href="/docs/assets/js/233.df9280b4.js"><link rel="prefetch" href="/docs/assets/js/234.d21644c2.js"><link rel="prefetch" href="/docs/assets/js/235.d4460d3b.js"><link rel="prefetch" href="/docs/assets/js/236.8bb49f02.js"><link rel="prefetch" href="/docs/assets/js/237.f7140b42.js"><link rel="prefetch" href="/docs/assets/js/238.95430d39.js"><link rel="prefetch" href="/docs/assets/js/239.261712eb.js"><link rel="prefetch" href="/docs/assets/js/24.6a3523bd.js"><link rel="prefetch" href="/docs/assets/js/240.38ee337d.js"><link rel="prefetch" href="/docs/assets/js/241.f40397f5.js"><link rel="prefetch" href="/docs/assets/js/242.64630cb9.js"><link rel="prefetch" href="/docs/assets/js/243.ebe87ecb.js"><link rel="prefetch" href="/docs/assets/js/244.59373918.js"><link rel="prefetch" href="/docs/assets/js/245.06410403.js"><link rel="prefetch" href="/docs/assets/js/246.5af5410e.js"><link rel="prefetch" href="/docs/assets/js/247.df4f4f02.js"><link rel="prefetch" href="/docs/assets/js/248.3cdd6d9c.js"><link rel="prefetch" href="/docs/assets/js/249.77ca8aaa.js"><link rel="prefetch" href="/docs/assets/js/25.0d5a5353.js"><link rel="prefetch" href="/docs/assets/js/250.8c75088c.js"><link rel="prefetch" href="/docs/assets/js/251.d6e181e4.js"><link rel="prefetch" href="/docs/assets/js/252.35a42de2.js"><link rel="prefetch" href="/docs/assets/js/253.a3a2519d.js"><link rel="prefetch" href="/docs/assets/js/254.46ac4f4b.js"><link rel="prefetch" href="/docs/assets/js/255.7d9d3285.js"><link rel="prefetch" href="/docs/assets/js/256.264318b3.js"><link rel="prefetch" href="/docs/assets/js/257.73a18588.js"><link rel="prefetch" href="/docs/assets/js/258.db91946d.js"><link rel="prefetch" href="/docs/assets/js/259.ed217b03.js"><link rel="prefetch" href="/docs/assets/js/26.3a5a1001.js"><link rel="prefetch" href="/docs/assets/js/260.2098ed49.js"><link rel="prefetch" href="/docs/assets/js/261.f7ecfd2a.js"><link rel="prefetch" href="/docs/assets/js/262.8200335d.js"><link rel="prefetch" href="/docs/assets/js/263.5e98ca21.js"><link rel="prefetch" href="/docs/assets/js/264.af46e3d4.js"><link rel="prefetch" href="/docs/assets/js/265.8f9770a9.js"><link rel="prefetch" href="/docs/assets/js/266.fdc35c2c.js"><link rel="prefetch" href="/docs/assets/js/267.45256123.js"><link rel="prefetch" href="/docs/assets/js/268.0db74a41.js"><link rel="prefetch" href="/docs/assets/js/269.96bf5145.js"><link rel="prefetch" href="/docs/assets/js/27.2fd17597.js"><link rel="prefetch" href="/docs/assets/js/270.a2a8d685.js"><link rel="prefetch" href="/docs/assets/js/271.80c618b8.js"><link rel="prefetch" href="/docs/assets/js/272.1af647eb.js"><link rel="prefetch" href="/docs/assets/js/273.86894be5.js"><link rel="prefetch" href="/docs/assets/js/274.65f4bed7.js"><link rel="prefetch" href="/docs/assets/js/275.31ce2614.js"><link rel="prefetch" href="/docs/assets/js/276.6e464a86.js"><link rel="prefetch" href="/docs/assets/js/277.9583139c.js"><link rel="prefetch" href="/docs/assets/js/278.6384aaeb.js"><link rel="prefetch" href="/docs/assets/js/279.68947328.js"><link rel="prefetch" href="/docs/assets/js/28.c8f68f87.js"><link rel="prefetch" href="/docs/assets/js/281.216abc76.js"><link rel="prefetch" href="/docs/assets/js/282.e1c9392b.js"><link rel="prefetch" href="/docs/assets/js/283.156aa1e0.js"><link rel="prefetch" href="/docs/assets/js/284.9aaabb45.js"><link rel="prefetch" href="/docs/assets/js/285.d3e30f81.js"><link rel="prefetch" href="/docs/assets/js/286.e78c0e38.js"><link rel="prefetch" href="/docs/assets/js/287.1c326756.js"><link rel="prefetch" href="/docs/assets/js/288.64dd2607.js"><link rel="prefetch" href="/docs/assets/js/289.33c8dd2f.js"><link rel="prefetch" href="/docs/assets/js/29.4ca7de48.js"><link rel="prefetch" href="/docs/assets/js/290.2cfaa9e0.js"><link rel="prefetch" href="/docs/assets/js/291.9612fd2e.js"><link rel="prefetch" href="/docs/assets/js/292.39a45f0f.js"><link rel="prefetch" href="/docs/assets/js/293.c2910cee.js"><link rel="prefetch" href="/docs/assets/js/294.1a7d8bdf.js"><link rel="prefetch" href="/docs/assets/js/295.429492e3.js"><link rel="prefetch" href="/docs/assets/js/296.5850d321.js"><link rel="prefetch" href="/docs/assets/js/297.ee526ea1.js"><link rel="prefetch" href="/docs/assets/js/298.4ad8b9fb.js"><link rel="prefetch" href="/docs/assets/js/299.0fa4a4c3.js"><link rel="prefetch" href="/docs/assets/js/3.d8468ba9.js"><link rel="prefetch" href="/docs/assets/js/30.88f734f4.js"><link rel="prefetch" href="/docs/assets/js/300.967725d5.js"><link rel="prefetch" href="/docs/assets/js/301.6fba530e.js"><link rel="prefetch" href="/docs/assets/js/302.c7b19d9b.js"><link rel="prefetch" href="/docs/assets/js/303.c9c22407.js"><link rel="prefetch" href="/docs/assets/js/304.55b24672.js"><link rel="prefetch" href="/docs/assets/js/305.ee18239f.js"><link rel="prefetch" href="/docs/assets/js/306.1394394d.js"><link rel="prefetch" href="/docs/assets/js/307.874736fb.js"><link rel="prefetch" href="/docs/assets/js/308.08e05281.js"><link rel="prefetch" href="/docs/assets/js/309.ab1320d3.js"><link rel="prefetch" href="/docs/assets/js/31.812febfc.js"><link rel="prefetch" href="/docs/assets/js/310.2917c730.js"><link rel="prefetch" href="/docs/assets/js/311.2250928b.js"><link rel="prefetch" href="/docs/assets/js/312.dc9ed218.js"><link rel="prefetch" href="/docs/assets/js/313.5f7354dc.js"><link rel="prefetch" href="/docs/assets/js/314.a2c3822b.js"><link rel="prefetch" href="/docs/assets/js/315.f4ebf138.js"><link rel="prefetch" href="/docs/assets/js/316.0fe20027.js"><link rel="prefetch" href="/docs/assets/js/317.338d1286.js"><link rel="prefetch" href="/docs/assets/js/318.96d07074.js"><link rel="prefetch" href="/docs/assets/js/319.67375a13.js"><link rel="prefetch" href="/docs/assets/js/32.efb9fa2b.js"><link rel="prefetch" href="/docs/assets/js/320.65d4cb05.js"><link rel="prefetch" href="/docs/assets/js/321.62007294.js"><link rel="prefetch" href="/docs/assets/js/322.de6904eb.js"><link rel="prefetch" href="/docs/assets/js/323.6dd9cbd0.js"><link rel="prefetch" href="/docs/assets/js/324.44b75b17.js"><link rel="prefetch" href="/docs/assets/js/325.6ff6abb7.js"><link rel="prefetch" href="/docs/assets/js/326.af03122c.js"><link rel="prefetch" href="/docs/assets/js/327.b9a1294a.js"><link rel="prefetch" href="/docs/assets/js/328.7141ca86.js"><link rel="prefetch" href="/docs/assets/js/329.6f043d29.js"><link rel="prefetch" href="/docs/assets/js/33.e8d002e6.js"><link rel="prefetch" href="/docs/assets/js/330.5339ae91.js"><link rel="prefetch" href="/docs/assets/js/331.f3a0ae22.js"><link rel="prefetch" href="/docs/assets/js/332.89b57255.js"><link rel="prefetch" href="/docs/assets/js/333.2065e258.js"><link rel="prefetch" href="/docs/assets/js/334.912b1efb.js"><link rel="prefetch" href="/docs/assets/js/335.b9e12774.js"><link rel="prefetch" href="/docs/assets/js/336.badc35e4.js"><link rel="prefetch" href="/docs/assets/js/337.7b9cd2de.js"><link rel="prefetch" href="/docs/assets/js/338.31a13056.js"><link rel="prefetch" href="/docs/assets/js/339.59056abd.js"><link rel="prefetch" href="/docs/assets/js/34.7debaff4.js"><link rel="prefetch" href="/docs/assets/js/340.3e0ef988.js"><link rel="prefetch" href="/docs/assets/js/341.79b60e7a.js"><link rel="prefetch" href="/docs/assets/js/342.1ca133c5.js"><link rel="prefetch" href="/docs/assets/js/343.e7176e20.js"><link rel="prefetch" href="/docs/assets/js/344.542e0141.js"><link rel="prefetch" href="/docs/assets/js/345.09658144.js"><link rel="prefetch" href="/docs/assets/js/346.2b048854.js"><link rel="prefetch" href="/docs/assets/js/347.cba5e80b.js"><link rel="prefetch" href="/docs/assets/js/348.21f3c6a5.js"><link rel="prefetch" href="/docs/assets/js/349.575c8e38.js"><link rel="prefetch" href="/docs/assets/js/35.419ae8aa.js"><link rel="prefetch" href="/docs/assets/js/350.9318f172.js"><link rel="prefetch" href="/docs/assets/js/351.9a633e72.js"><link rel="prefetch" href="/docs/assets/js/352.1c9c2c54.js"><link rel="prefetch" href="/docs/assets/js/353.4abd03cf.js"><link rel="prefetch" href="/docs/assets/js/354.82cb73b3.js"><link rel="prefetch" href="/docs/assets/js/355.554f84a2.js"><link rel="prefetch" href="/docs/assets/js/356.70b03c38.js"><link rel="prefetch" href="/docs/assets/js/357.10181c54.js"><link rel="prefetch" href="/docs/assets/js/358.111240b0.js"><link rel="prefetch" href="/docs/assets/js/359.7b0a105d.js"><link rel="prefetch" href="/docs/assets/js/36.144c0c9d.js"><link rel="prefetch" href="/docs/assets/js/360.7b0aaa32.js"><link rel="prefetch" href="/docs/assets/js/361.0fc63c1c.js"><link rel="prefetch" href="/docs/assets/js/362.aea2daa8.js"><link rel="prefetch" href="/docs/assets/js/363.c3b5f161.js"><link rel="prefetch" href="/docs/assets/js/364.69520334.js"><link rel="prefetch" href="/docs/assets/js/365.7a2c02e5.js"><link rel="prefetch" href="/docs/assets/js/366.9ec8c8b0.js"><link rel="prefetch" href="/docs/assets/js/367.8d7ffc0a.js"><link rel="prefetch" href="/docs/assets/js/368.f7a9a256.js"><link rel="prefetch" href="/docs/assets/js/369.b5c1335d.js"><link rel="prefetch" href="/docs/assets/js/37.14945475.js"><link rel="prefetch" href="/docs/assets/js/370.b5f6396b.js"><link rel="prefetch" href="/docs/assets/js/371.7470a948.js"><link rel="prefetch" href="/docs/assets/js/372.8a1ecb6c.js"><link rel="prefetch" href="/docs/assets/js/38.86e1cb4f.js"><link rel="prefetch" href="/docs/assets/js/39.351f0ffc.js"><link rel="prefetch" href="/docs/assets/js/4.6d27a4d7.js"><link rel="prefetch" href="/docs/assets/js/40.edec7486.js"><link rel="prefetch" href="/docs/assets/js/41.e086c257.js"><link rel="prefetch" href="/docs/assets/js/42.be094b47.js"><link rel="prefetch" href="/docs/assets/js/43.5e89fd04.js"><link rel="prefetch" href="/docs/assets/js/44.90a633ec.js"><link rel="prefetch" href="/docs/assets/js/45.f6c9f171.js"><link rel="prefetch" href="/docs/assets/js/46.26056234.js"><link rel="prefetch" href="/docs/assets/js/47.60a0ffb3.js"><link rel="prefetch" href="/docs/assets/js/48.cb7836d7.js"><link rel="prefetch" href="/docs/assets/js/49.e02b00fd.js"><link rel="prefetch" href="/docs/assets/js/5.3f8add54.js"><link rel="prefetch" href="/docs/assets/js/50.085679f8.js"><link rel="prefetch" href="/docs/assets/js/51.1711c0b5.js"><link rel="prefetch" href="/docs/assets/js/52.316fca4c.js"><link rel="prefetch" href="/docs/assets/js/53.304208d7.js"><link rel="prefetch" href="/docs/assets/js/54.23dbc7f7.js"><link rel="prefetch" href="/docs/assets/js/55.38293be8.js"><link rel="prefetch" href="/docs/assets/js/56.a9114d19.js"><link rel="prefetch" href="/docs/assets/js/57.a160db01.js"><link rel="prefetch" href="/docs/assets/js/58.edb10a0c.js"><link rel="prefetch" href="/docs/assets/js/59.881f3b69.js"><link rel="prefetch" href="/docs/assets/js/6.46c18dae.js"><link rel="prefetch" href="/docs/assets/js/60.a73250e3.js"><link rel="prefetch" href="/docs/assets/js/61.7a3ec1d5.js"><link rel="prefetch" href="/docs/assets/js/62.e528d9c3.js"><link rel="prefetch" href="/docs/assets/js/63.f35a521c.js"><link rel="prefetch" href="/docs/assets/js/64.2b24d5e0.js"><link rel="prefetch" href="/docs/assets/js/65.dabf4313.js"><link rel="prefetch" href="/docs/assets/js/66.9ce31f6b.js"><link rel="prefetch" href="/docs/assets/js/67.43831855.js"><link rel="prefetch" href="/docs/assets/js/68.1541268f.js"><link rel="prefetch" href="/docs/assets/js/69.988f4492.js"><link rel="prefetch" href="/docs/assets/js/7.be017326.js"><link rel="prefetch" href="/docs/assets/js/70.a8bf1434.js"><link rel="prefetch" href="/docs/assets/js/71.f925cfec.js"><link rel="prefetch" href="/docs/assets/js/72.4cc4b709.js"><link rel="prefetch" href="/docs/assets/js/73.91da6b8a.js"><link rel="prefetch" href="/docs/assets/js/74.9c4d392c.js"><link rel="prefetch" href="/docs/assets/js/75.b7358cb3.js"><link rel="prefetch" href="/docs/assets/js/76.2369e6c7.js"><link rel="prefetch" href="/docs/assets/js/77.2619c27d.js"><link rel="prefetch" href="/docs/assets/js/78.8c6fe860.js"><link rel="prefetch" href="/docs/assets/js/79.a677a882.js"><link rel="prefetch" href="/docs/assets/js/8.ee4d56b4.js"><link rel="prefetch" href="/docs/assets/js/80.0f780c8a.js"><link rel="prefetch" href="/docs/assets/js/81.6b0e1e78.js"><link rel="prefetch" href="/docs/assets/js/82.d175d70f.js"><link rel="prefetch" href="/docs/assets/js/83.56b2ed24.js"><link rel="prefetch" href="/docs/assets/js/84.bf73bf5b.js"><link rel="prefetch" href="/docs/assets/js/85.3350db79.js"><link rel="prefetch" href="/docs/assets/js/86.a6715be6.js"><link rel="prefetch" href="/docs/assets/js/87.6dda8387.js"><link rel="prefetch" href="/docs/assets/js/88.f0f32c09.js"><link rel="prefetch" href="/docs/assets/js/89.3d6e839c.js"><link rel="prefetch" href="/docs/assets/js/9.a5996d1e.js"><link rel="prefetch" href="/docs/assets/js/90.3a2f84ba.js"><link rel="prefetch" href="/docs/assets/js/91.b7120088.js"><link rel="prefetch" href="/docs/assets/js/92.758bd9dc.js"><link rel="prefetch" href="/docs/assets/js/93.6d78b268.js"><link rel="prefetch" href="/docs/assets/js/94.79ab27dd.js"><link rel="prefetch" href="/docs/assets/js/95.3000b404.js"><link rel="prefetch" href="/docs/assets/js/96.21cd94f2.js"><link rel="prefetch" href="/docs/assets/js/97.ec77883f.js"><link rel="prefetch" href="/docs/assets/js/98.7e4dd49d.js"><link rel="prefetch" href="/docs/assets/js/99.41131ae1.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.d4eb5ad8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">计算机基础教程</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  机器指令
</a></div><div class="nav-item"><a href="/docs/software/" class="nav-link router-link-active">
  软件基础
</a></div><div class="nav-item"><a href="/docs/coder2hacker/" class="nav-link">
  白帽黑客
</a></div><div class="nav-item"><a href="/docs/blockchain/" class="nav-link">
  区块链
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  机器指令
</a></div><div class="nav-item"><a href="/docs/software/" class="nav-link router-link-active">
  软件基础
</a></div><div class="nav-item"><a href="/docs/coder2hacker/" class="nav-link">
  白帽黑客
</a></div><div class="nav-item"><a href="/docs/blockchain/" class="nav-link">
  区块链
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基本概念</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/software/network/layer3_routing.html#基本概念" class="sidebar-link">基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#arp" class="sidebar-link">ARP</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由器-vs-三层交换机" class="sidebar-link">路由器 VS 三层交换机</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由器-vs-网关-不是具体某一层" class="sidebar-link">路由器 VS 网关（不是具体某一层）</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由器-网关-网络层-网卡-网桥" class="sidebar-link">路由器 网关（网络层） 网卡 网桥</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由-vs-nat" class="sidebar-link">路由 VS NAT</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#mpls-vs-ip-routing" class="sidebar-link">MPLS VS IP Routing</a></li></ul></li><li><a href="/docs/software/network/layer3_routing.html#路由表-routing-table" class="sidebar-link">路由表 routing table</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#工具" class="sidebar-link">工具</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#route-vs-ip-route" class="sidebar-link" style="padding-left:3rem;">route VS ip route:</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#arpspoof-arp欺骗攻击" class="sidebar-link" style="padding-left:3rem;">arpspoof ARP欺骗攻击</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由类型分类一" class="sidebar-link">路由类型分类一：</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由类型分类二" class="sidebar-link">路由类型分类二</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#example-vpn-改变路由" class="sidebar-link">Example: VPN 改变路由</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由收敛-routing-convergence" class="sidebar-link">路由收敛 Routing Convergence</a></li></ul></li><li><a href="/docs/software/network/layer3_routing.html#protocols" class="sidebar-link">Protocols</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#内部网关协议-interior-gateway-protocol-igp" class="sidebar-link">内部网关协议 Interior Gateway Protocol，IGP</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#外部网关协议-exterior-gateway-protocol-egp" class="sidebar-link">外部网关协议 Exterior Gateway Protocol，EGP</a></li></ul></li><li><a href="/docs/software/network/layer3_routing.html#troubleshooting" class="sidebar-link">Troubleshooting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#intranet-access-issue-raised-by-wrong-arp" class="sidebar-link">intranet access issue raised by wrong arp</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#win10下设置自动跳跃数" class="sidebar-link">Win10下设置自动跳跃数</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#asymmetric-routing-非对称路由" class="sidebar-link">Asymmetric Routing 非对称路由</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#双网卡路由问题" class="sidebar-link" style="padding-left:3rem;">双网卡路由问题</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由环路" class="sidebar-link">路由环路</a></li><li class="sidebar-sub-header"><a href="/docs/software/network/layer3_routing.html#路由黑洞-vs-黑洞路由" class="sidebar-link">路由黑洞 vs 黑洞路由</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <p>Routing is the process of selecting a path for traffic in a network or between or across multiple networks. Broadly, routing is performed in many types of networks, including circuit-switched networks, such as the public switched telephone network (PSTN), and computer networks, such as the Internet.</p> <p>In packet switching networks, routing is the higher-level decision making that directs network packets from their source toward their destination through intermediate network nodes by specific packet forwarding mechanisms. Packet forwarding is the transit of network packets from one network interface to another. Intermediate nodes are typically network hardware devices such as:</p> <ul><li>routers,</li> <li>gateways,</li> <li>firewalls,</li> <li>or switches.
General-purpose computers also forward packets and perform routing, although they have no specially optimized hardware for the task.</li></ul> <p>The routing process usually directs forwarding on the basis of routing tables. Routing tables maintain a record of the routes to various network destinations. Routing tables may be specified by an administrator, learned by observing network traffic or built with the assistance of routing protocols.</p> <p>Routing, in a narrower sense of the term, often refers to IP routing and is contrasted with bridging. IP routing assumes that network addresses are structured and that similar addresses imply proximity within the network. Structured addresses allow a single routing table entry to represent the route to a group of devices. In large networks, structured addressing (routing, in the narrow sense) outperforms unstructured addressing (bridging). Routing has become the dominant form of addressing on the Internet. Bridging is still widely used within local area networks.</p> <h3 id="arp"><a href="#arp" class="header-anchor">#</a> ARP</h3> <p>ARP协议位于TCP/IP协议栈的网络层和数据链路层之间,可以看作是这两层之间的一个接口。具体来说,ARP协议工作在TCP/IP协议中的网络层,
‌主要负责将网络层地址（‌如IPv4地址）‌解析为链路层地址（‌如MAC地址）‌。‌当主机需要向另一个主机发送数据时，‌它会发送ARP请求广播，‌询问网络中哪个设备的IP地址与目标IP地址匹配。‌收到请求的设备会回应自己的MAC地址，‌这样发送方就知道了目标设备的MAC地址，‌进而可以直接发送数据到目标设备，‌而不需要再进行广播。‌</p> <p>虽然交换机和ARP在计算机网络中扮演不同的角色，‌但它们之间有一定的联系。‌交换机通过学习MAC地址进行数据帧的转发，‌而ARP协议则负责将IP地址解析为MAC地址，‌确保数据能够正确发送到目标设备。‌在大型网络中，‌ARP和交换机共同工作，‌使得数据能够高效、‌准确地传输到目的设备。‌</p> <p>路由器和ARP的关系主要体现在路由器通过ARP协议获取物理地址，‌以及通过绑定IP和MAC地址来防止ARP欺骗。‌
路由器作为网络通信的关键设备，‌其功能之一是通过ARP（‌地址解析协议）‌将网络中的IP地址转换为对应的物理地址，‌从而确保数据包能够准确地发送到目标设备。‌ARP协议允许主机发送包含目标IP地址的ARP请求广播到网络上的所有主机，‌并接收返回消息来确定目标的物理地址。‌这个过程是TCP/IP协议栈中的一部分，‌确保了数据包的正确路由。‌</p> <p>为了防止ARP欺骗，‌路由器支持IP和MAC地址的绑定功能。‌这种绑定可以通过两种方式进行：‌手动添加和通过ARP扫描导入条目。‌手动添加虽然操作复杂，‌但安全性高，‌适用于存在ARP欺骗的情况下；‌而通过ARP扫描导入条目则简单快捷，‌但要求网络中没有ARP欺骗，‌否则可能会绑定错误的IP MAC条目导致某些主机无法上网。‌此外，‌为了防止ARP欺骗，‌不仅需要在路由器上绑定主机的MAC地址，‌还必须在主机上绑定路由器的MAC地址，‌进行双向绑定，‌以确保网络安全。‌</p> <h3 id="路由器-vs-三层交换机"><a href="#路由器-vs-三层交换机" class="header-anchor">#</a> 路由器 VS 三层交换机</h3> <p><a href="https://mp.weixin.qq.com/s/0bULeAB9kA5etngHrAXvcw" target="_blank" rel="noopener noreferrer">三层交换机和路由器啥区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>1、性能不同：三层交换机硬件转发数据而路由基于CPU转发数据，三层交换机比路由器更强大的转发性能</p> <p>Re：不对。为了保护CPU资源，对于跨三层转发的数据包不论是路由器还是三层交换都采用的是“一次CPU路由，多次硬件转发”机制。
自己找台千兆路由和千兆三层交换配置VLAN，去对比测试不同网段终端交互的吞吐量就知道了，肯定都要到千兆才算合格！但别跟我说你能接受千兆路由器跨三层转发吞吐量达不到千兆，那我真的给你👍👍，代表厂商感谢你的理解！</p> <p>2.路由功能不同：路由器支持丰富的路由功能，三层交换机只具备基本的路由功能</p> <p>Re：不对。这个不多讲了吧，静态路由、OSPF、ISIS、RIP、PBR、BGP、PIM、路由策略等路由功能三层交换机基本都支持。比如锐捷的RG-S5750C-24GT8XS-X：</p> <p>3.规格不同：路由器端口数少而三层交换端口数多</p> <p>Re：是区别但不是重点。我们讨论的是本质区别，有硬件需求让厂商定制个十几、二十个LAN口的路由器给你用都行，无非是内部堆硬件交换芯片而已。</p> <p>4.机制不同：三层交换机基于MAC和IP转发数据，路由器基于IP转发数据</p> <p>Re：不对。路由器LAN-LAN转发不就是基于MAC的么？如果路由器是基于IP转发的，那么二层arp(无IP头部)等报文就不要在LAN转发了，这样LAN下的设备之间就无法通信了。</p> <p>首先，大家可以想想什么时候会去使用路由器而不会用三层交换机？</p> <p>我就提1个最简单的且最常见的：NAT功能，用路由器来区分内外网而不用交换机。</p> <p>想必你们可能会很疑惑：目前具备丰富路由功能的三层交换机为啥基本不支持NAT功能？路由器会有WAN口而三层交换机没有。是因为路由器的设计能基于“会话”去控制连接，可以工作在第四层，从而实现数据包的NAT转发。</p> <p>比如NAPT机制，一条LAN内网TCP连接会转换成WAN外网TCP连接，源/目的端口也会转换，这样就会在路由器内部生成1条“会话映射表”，基于这条TCP连接的数据流就会被路由器内网&lt;---&gt;外网放行和双向转发。</p> <p>而三层交换机无“会话”的概念，它只能处理数据包无法处理“会话”，最多工作在第三层。</p> <p>路由器基于“session”的特性，它能实现NAT、DMZ、PPPoE拨号、虚拟服务器、防火墙(访问控制)等基于连接的功能，能够提供广域网服务。路由器和防火墙一样，是有iptable链表的。很多教材中说路由器是工作在三层的设备，我其实更愿意说它是工作在第四层的设备，因为它能基于TCP/UDP连接实现交换机所没有的功能和需求。
举个实际的例子：任何项目招投标，路由器都要求有这个参数:带机量
带机量是在有线场景下根据设备支持的上网流量最大会话数除以每个用户占用的应用连接数估算的结果，供选型参考，不构成商业承诺。</p> <p>这个就是会话数规格，交换机是没有的。</p> <p>那么什么时候会去使用三层交换机而不会用路由器呢？</p> <p>承载大量交换业务的时候用交换机而不是路由器。交换机的使命就是“数据交换”。所谓术业有专攻，控制会话的任务交给你“路由器或防火墙”，核心数据交换的任务则交给我“三层交换机”。</p> <p>举个最直接的例子就是Fabric网络中的VXLAN技术仅三层交换机才支持，这种纯“MAC in UDP”的封包转发技术在10G甚至上100G的东西流量网络架构中不会涉及“会话处理”，三层交换机只需要全力去实现路由交换的能力即可。</p> <p>总结:</p> <ul><li><p>路由器和三层交换机的本质区别在于，前者可以基于“session”去控制连接而后者不行；后者的主要工作是全力承载高速流量的交换转发。</p></li> <li><p>基于此，也就能知道两者在网络架构中的基本位置：出口连接外网的位置使用路由器，而核心做路由交换的位置用三层交换机，各司其职为IT网络保驾护航。</p></li></ul> <h3 id="路由器-vs-网关-不是具体某一层"><a href="#路由器-vs-网关-不是具体某一层" class="header-anchor">#</a> 路由器 VS 网关（不是具体某一层）</h3> <p>路由器是产品，网关是概念</p> <p>路由器用于连接两个相似类型的网络，网关用于连接两个不同的网络。由于这种逻辑，路由器可能被视为网关，但网关并不总是被视为路由器。路由器是最常用的网关，用于将家庭或企业网络连接到互联网。</p> <p>所有网络都有一个边界，限制与直接连接到它的设备的通信。因此，如果网络想要与该边界之外的设备，节点或网络通信，则它们需要网关的功能。网关通常被表征为路由器和调制解调器的组合。</p> <p>网关在网络边缘实现，并管理从该网络内部或外部定向的所有数据。当一个网络想要与另一个网络通信时，数据包将传递到网关，然后通过最有效的路径路由到目的地。除路由数据外，网关还将存储有关主机网络内部路径的信息以及遇到的任何其他网络的路径。</p> <p>网关基本上是协议转换器，促进两个协议之间的兼容性，并在开放系统互连（OSI）模型的任何层上操作。</p> <h3 id="路由器-网关-网络层-网卡-网桥"><a href="#路由器-网关-网络层-网卡-网桥" class="header-anchor">#</a> 路由器 网关（网络层） 网卡 网桥</h3> <ul><li>网关 网桥 网卡
网关是邮电局,所有的信息必须通过这里的打包、封箱、寻址，才能发出去与收进来；网卡是设备，也就是邮电局邮筒，你家的信箱；而网桥是邮递员，但他只负责一个镇里面(局域网)不负责广域网</li></ul> <p>网桥你可以理解为少口交换机，他们都能转发MAC地址，工作在前两层（物理层和数据链路层），只能分析MAC地址不能解析IP地址，只不过一般的网桥没有交换机插口多，是早期的网络产品，现在基本已经淘汰。路由器更好理解了，他能工作在前三层(物理层，数据链路层和网络层），一般只工作在第三层，顾名思义，他能“路由”网络层里的重要东西，就是IP地址，举个例子，两台主机如果IP地址在同一网段，比如192.168.1.1和192.168.1.2，它们之间通讯只要有个网桥或交换机就行了，甚至什么设备不用直接一个网线连就行(现在的操作系统都很智能，不像以前的95，98），但是如果他们工作在不同网段，像172.16.50.1和192.168.1.1，明显IP不同类，这是要通讯就得需要一个路由，帮助他们选择路径，select path(选择路径)在中文意思里就叫路由，能完成这个工作的设备叫路由器，当然你光有设备还不行，你的设置它，就是规定它如何选择路径，这是你就得给他一个网关地址，告诉它如果机器A要访问B,通讯IP地址不同类，就让A把数据包给网关地址，让网关来处理，而网关就是路由器的IP地址，说白了就是给路由器，让它来处理，替主机A来找到主机B</p> <ul><li><p>网卡和路由器
要说网卡和路由器的区别，他们存在着很大的区别，唯一的连接就是它们之间的那根网线。网卡工作在物理层，路由器工作在网络层，网卡是用来连上路由的，就像手机与基站的区别，网卡是你你电脑上面的，通过网卡你才能和路由相连，路由是用来连上外网的，只有连上外网你才能上网。。电脑(网卡)-路由-上网。一个是接收器，一个是发射器。网卡是安装在电脑里面的!算是电脑连上网络的最基础层吧!有了网卡你就可以连上网,路由器是连接网卡和网卡之间,就是电脑和电脑的那个工具!有可路由器你就可以建个局域网和多台机用一个帐号上网！所以说网卡是地基,路由器就是连接网卡的桥梁!</p></li> <li><p>网关和路由器
顾名思义，网关（Gateway）就是一个网络连接到另一个网络的“关口”。<br>
按照不同的分类标准，网关也有很多种。TCP/IP协议里的网关是最常用的，在这里我们所讲的“网关”均指TCP/IP协议下的网关。
那么网关到底是什么呢？网关实质上是一个网络通向其他网络的IP地址。比如有网络A和网络B，网络A的IP地址范围为“192.168.1.1~192. 168.1.254”，子网掩码为255.255.255.0；网络B的IP地址范围为“192.168.2.1~192.168.2.254”，子网掩码为255.255.255.0。在没有路由器的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台交换机（或集线器）上，TCP/IP协议也会根据子网掩码（255.255.255.0）判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机。网络B向网络A转发数据包的过程也是如此。
所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信。那么这个IP地址是哪台机器的IP地址呢？网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。<br>
路由器（Router）是一种负责寻径的网络设备，它在互连网络中从多条路径中寻找通讯量最少的一条网络路径提供给用户通信。路由器用于连接多个逻辑上分开的网络。对用户提供最佳的通信路径，路由器利用路由表为数据传输选择路径，路由表包含网络地址以及各地址之间距离的清单，路由器利用路由表查找数据包从当前位置到目的地址的正确路径。路由器使用最少时间算法或最优路径算法来调整信息传递的路径，如果某一网络路径发生故障或堵塞，路由器可选择另一条路径，以保证信息的正常传输。路由器可进行数据格式的转换，成为不同协议之间网络互连的必要设备。<br>
路由器使用寻径协议来获得网络信息，采用基于“寻径矩阵”的寻径算法和准则来选择最优路径。按照OSI参考模型，路由器是一个网络层系统。路由器分为单协议路由器和多协议路由器。<br>
比如如果给你一个IP地址为116.24.143.126,子网掩码255.255.255.224,也就是在这段地址中有32个地址,其中30个可用,去掉网关,还有29个可分配.地址是从116.24.143.96-127,第一个可用的IP是97,最后一个是126,这个例子里,你拿126做网关了,所以从97至125这29个地址是可被你分配的. 同理.116.24.143.126,掩码255.255.255.0,那你就有253个地址可被你分配使用.也就是1-125,127-254. 116.24.143.166,掩码是255.255.255.128,就是有125个地址可被你分配使用.即129-165,167-254.  每段地址有多少可用,不是看IP的最后一位数,而是看子网掩码</p></li></ul> <h3 id="路由-vs-nat"><a href="#路由-vs-nat" class="header-anchor">#</a> 路由 VS NAT</h3> <p>本质区别：数据包通过路由可以从一个网络到另一个网络，他是通过数据包的目的IP和源IP实现的，当一个数据包进入路由器是，路由器会根据她的目标ip和源ip在路由表中查找，并将数据包原封不动的传向路由器的某个端口。而数据包通过NAT，NAT将会根据规则将数据包中的源ip和目标IP改变，并在NAT机器上做改变记录。</p> <p>简而言之，路由不改变数据包包头信息，NAT则改变;</p> <p>表面区别:路由打通的两个网段地位是公平的，既都是公网或都是私网，理解起来比较简单，因为路由不改变包头信息，所以如果用路由连接公网和私网的话，目的地址为私网(192.168.1.2)的数据包在公网上找不到归宿。其实路由表里面也没有相关的路由信息。</p> <p><strong>NAT打通的可以是两个公平的网络，也可以是一个内网和一个外网。</strong>
内网机器访问外网肯定要NAT</p> <h3 id="mpls-vs-ip-routing"><a href="#mpls-vs-ip-routing" class="header-anchor">#</a> MPLS VS IP Routing</h3> <p>In MPLS, the switching of traffic is based on the labels assigned to the network packets. While in IP routing, it is based on the destination IP address. In MPLS, a fixed and dedicated path is established for the routing of network packets.</p> <p>IP Routing:
Before routers can forward a packet to its final IP address, they must first determine where the packet needs to go. Routers do this by referencing and maintaining a routing table, which tells them how to forward each packet. Each router examines the packet's headers, consults its internal routing table, and forwards the packet to the next network. A router in the next network goes through the same process, and the process repeats until the packet arrives at its destination.</p> <p>This approach to routing works well for most purposes; most of the Internet runs using IP addresses and routing tables. However, some users or organizations want their data to travel faster over paths they can directly control.</p> <p>MPLS:
In typical Internet routing, each individual router makes decisions independently based on its own internal routing table. Even if two packets come from the same place and are going to the same destination, they may take different network paths if a router updates its routing table after the first packet passes through. However, with MPLS, packets take the same path every time.
MPLS can be &quot;private&quot; in the sense that only one organization uses certain MPLS paths. However, MPLS does not encrypt traffic. If packets are intercepted along the paths, they can be read. A virtual private network (VPN) does provide encryption and is one method for keeping network connections truly private.</p> <h2 id="路由表-routing-table"><a href="#路由表-routing-table" class="header-anchor">#</a> 路由表 routing table</h2> <p>计算机和路由器既有ARP表，也有路由表</p> <p>windows路由表详解
https://mp.weixin.qq.com/s/Dep37CyOd0Szr_fzjQFOkA</p> <p>理解Windows中的路由表和默认网关
https://developer.aliyun.com/article/447528</p> <h3 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h3> <h4 id="route-vs-ip-route"><a href="#route-vs-ip-route" class="header-anchor">#</a> route VS ip route:</h4> <p>route is a fairly simple tool, perfect for creating static routes. It's still present in many distributions for compatibility. ip route is much more powerful, it has much more functionality, and can create more specialized rules.</p> <div class="language- extra-class"><pre class="language-text"><code>ip route add default via 子网网关 dev 网卡名称 table 路由表名称

ip route add 子网网段 dev 网卡名称 table 路由表名称

ip rule add from 网卡地址 table 路由表名称

EXAMPLE:

ip route add default via 10.0.0.1 dev eth0 table 10

ip route add 10.0.0.0/24 dev eth0 table 10

ip rule add from 10.0.0.115 table 10

</code></pre></div><h4 id="arpspoof-arp欺骗攻击"><a href="#arpspoof-arp欺骗攻击" class="header-anchor">#</a> arpspoof ARP欺骗攻击</h4> <h3 id="路由类型分类一"><a href="#路由类型分类一" class="header-anchor">#</a> 路由类型分类一：</h3> <ul><li>主机路由
主机路由是路由选择表中指向单个IP地址或主机名的路由记录。主机路由的Flags字段为H。例如，在下面的示例中，本地主机通过IP地址192.168.1.1的路由器到达IP地址为 172.0.0.5 的主机。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Destination    Gateway        Genmask             Flags  Metric    Ref  Use  Iface
-----------    ------         -------             -----  -----     ---  ---  -----      
172.0.0.5      192.168.1.1    255.255.255.255     UH     0         0    0    eth0
</code></pre></div><ul><li>网络路由
网络路由是代表主机可以到达的网络。网络路由的Flags字段为N。例如，在下面的示例中，本地主机将发送到网络 128.1.1.0 的数据包转发到IP地址为192.168.1.1的路由器。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Destination    Gateway        Genmask             Flags  Metric    Ref  Use  Iface
-----------    ------         -------             -----  -----     ---  ---  -----      
128.1.1.0      192.168.1.1    255.255.255.255     UN     0         0    0    eth0
</code></pre></div><ul><li>默认路由
当主机不能在路由表中查找到目标主机的IP地址或网络路由时，数据包就被发送到默认路由（默认网关 default 0.0.0.0）上。默认路由的Flags字段为G。例如，在下面的示例中，默认路由是IP地址为192.168.1.1的路由器</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Destination    Gateway        Genmask             Flags  Metric    Ref  Use  Iface
-----------    ------         -------             -----  -----     ---  ---  -----      
default        192.168.1.1    255.255.255.255     UG     0         0    0    eth0
</code></pre></div><h3 id="路由类型分类二"><a href="#路由类型分类二" class="header-anchor">#</a> 路由类型分类二</h3> <ul><li><p>destination based routing</p></li> <li><p>source based routing
Scenario:
<a href="https://serverfault.com/questions/226114/linux-2-network-card-routing-depending-on-the-interface-used" target="_blank" rel="noopener noreferrer">How do I create routing table so packet are returned via the interface where the packet coming from ie : &quot;if packet coming to eth0, it should come out from eth0 using eth0 gateway. If packet is coming from eth1, then the outgoing response also coming out from eth1 using eth1 gateway&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://wiki.wlug.org.nz/SourceBasedRouting" target="_blank" rel="noopener noreferrer">A simple introduction (with a nice easy example) to source based routing<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h3 id="example-vpn-改变路由"><a href="#example-vpn-改变路由" class="header-anchor">#</a> <strong>Example: VPN 改变路由</strong></h3> <div class="language- extra-class"><pre class="language-text"><code>===========================================================================

IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0      192.168.5.1     192.168.5.24     50
          0.0.0.0        128.0.0.0      100.64.38.1      100.64.38.3      6
		128.0.0.0        128.0.0.0      100.64.38.1      100.64.38.3      6
</code></pre></div><p>0.0.0.0/128.0.0.0 covers 0.0.0.0 – 127.255.255.255
128.0.0.0/128.0.0.0 covers 128.0.0.1 – 255.255.255.255</p> <p>The reason this works is because when it comes to routing, a more specific route is always preferred over a more general route. And 0.0.0.0/0.0.0.0 (the default gateway) is as general as it gets. But if we insert the above two routes, the fact they are more specific means one of them will always be chosen before 0.0.0.0/0.0.0.0 since those two routes still cover the entire IP spectrum (0.0.0.0 thru 255.255.255.255).</p> <p>VPNs do this to avoid messing w/ existing routes. They don’t need to delete anything that was already there, or even examine the routing table. They just add their own routes when the VPN comes up, and remove them when the VPN is shutdown. Simple.</p> <p><a href="https://superuser.com/questions/851462/understanding-routing-table-with-openvpn" target="_blank" rel="noopener noreferrer">Understanding Routing Table with OpenVPN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="路由收敛-routing-convergence"><a href="#路由收敛-routing-convergence" class="header-anchor">#</a> 路由收敛 Routing Convergence</h3> <p>https://network-insight.net/2014/08/25/routing-convergence/</p> <h2 id="protocols"><a href="#protocols" class="header-anchor">#</a> Protocols</h2> <p>OSPF and RIP are Interior Gateway Protocols (IGP) and distribute routing information within an autonomous system,
Therefore, both are confined to a single domain for routing (intra-domain). whereas BGP is a Exterior Gateway Protocol, primarily designed to be used to route between routing domains (inter-domain).</p> <p>一般会先使用IGP协议在自治系统内部计算和发现路由条目，再通过BGP协议将IGP协议产生的路由传递至其他的AS（自治系统）。</p> <p>BGP解决的是AS之间的路由学习问题，当今互联网是全球互联，在中国，互联网运营商有移动、电信和联通。每个公司都有自己的自治系统，并且内部运行IGP协议。但是互联网又要求互联，所以通过BGP就可以在电信和联通等之间学习对方的AS内部路由，使电信和联通的用户之间互相通信。</p> <h3 id="内部网关协议-interior-gateway-protocol-igp"><a href="#内部网关协议-interior-gateway-protocol-igp" class="header-anchor">#</a> 内部网关协议 Interior Gateway Protocol，IGP</h3> <p>主要包含RIP、OSPF、ISIS、EIGRP</p> <p>IGP路由协议运行在AS内部，解决的是AS内部的选路问题。主要作用是发现、计算路由。</p> <p>OSPF
Open Shortest Path First (OSPF) is a link-state routing protocol that was developed for IP networks and is based on the Shortest Path First (SPF) algorithm. OSPF is an Interior Gateway Protocol (IGP).</p> <h3 id="外部网关协议-exterior-gateway-protocol-egp"><a href="#外部网关协议-exterior-gateway-protocol-egp" class="header-anchor">#</a> 外部网关协议 Exterior Gateway Protocol，EGP</h3> <p>通常就是指BGP，它运行在AS与AS之间，解决的是AS之间的选路问题。BGP的主要作用是控制路由条目的传播和选择最优路由。</p> <p>https://support.huawei.com/enterprise/zh/doc/EDOC1000089018/c3e1df01</p> <p>在BGP术语中，全球互联网是由成千上万相关联的自治系统(AS)组成，其中每一个AS代表每一个特定运营商提供的一个网络管理域（据说，美国前总统乔治.布什都有自己的 AS 编号）</p> <ul><li>单线：服务器上只接一根网线。优点就是超级稳定，速度很快。缺点是不能访问其他运营商的网络</li> <li>双线：服务器上接两根不同通讯运营商的网线。为了解决联通不能访问电信网络，电信不能访问联通网络的问题，双线应运而生。优点可以访问其他运营商的网络，缺点就是不稳定，访问别家网络时延迟较高。</li> <li>三线、多线：服务器上接三或以上根不同通讯运营商的网线。通常三线也被称为多线。国内除了电信联通外，还有移动和众多小的通讯运营商，所以多线就问世了。多线的优点和缺点和其实和双线一样，</li> <li>BGP线路：无论是单线，双线，还是多线，都需要有对应的IP地址，即双线双IP、多线多IP，访问速度还是非常有限制的。但BGP可以做到多线单IP，通过每个供应商独有的AS号来实现互联互通。还有个优点就是当其中一条线路挂了，能实现迅速链接其他网络，减少故障带来的损失。当然BGP也是有缺点的，最大的一点就是费用比较高。</li></ul> <p>BGP</p> <p>Private leased line (also known as MPLS) provides a dedicated connection that offers lots of bandwidth and it does not route through the Internet. The connection is routed using BGP (border gateway protocol) usually via a telecom provider at their backend infrastructure to establish the secure connection.</p> <p><a href="https://linux.cn/article-4609-1.html" target="_blank" rel="noopener noreferrer">Quagga 把 LINUX 变成 BGP 路由器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>如何注册BGP，可以找一个本地互联网注册机构 Local Internet Registry (LIR) 或  区域互联网注册机构 RIR:
<a href="https://linuxword.com/?p=6287" target="_blank" rel="noopener noreferrer">BGP简介和如何申请个人ASN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.reddit.com/r/ipv6/comments/yoesvg/advice_for_getting_my_own_asn/" target="_blank" rel="noopener noreferrer">Advice for getting my own ASN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <h3 id="intranet-access-issue-raised-by-wrong-arp"><a href="#intranet-access-issue-raised-by-wrong-arp" class="header-anchor">#</a> intranet access issue raised by wrong arp</h3> <p>I got an issue access the shared folder on the other pc in the same intranet at home, actually it was working fine a few days ago.
both pc are win10 os.</p> <p>without firm knowlege on networking I started to google without thinking, tried all the online suggestions but no luck;</p> <p>ok, it could be something wrong either on my win10 or the other one, so I turned off firewall, started all the &quot;file and printer sharing&quot; realted services, turned on sharing for private/public network, grant remote access to both everyone and guest with full permissions,
even tried modify regedit(registry editor) to enable AllowInsecureGuestAuth, still no luck;</p> <p>finally I come to think of ping, source ip:192.168.0.141, target ip:192.168.0.113, so ping 192.168.0.113 result in:</p> <div class="language- extra-class"><pre class="language-text"><code>Pinging 192.168.0.113 with 32 bytes of data:
Reply from *192.168.0.141*: Destination host unreachable.
</code></pre></div><p>the ip &quot;Reply from &quot; is the source machine, it indicates that it's something wrong with the source machine,
then I run 'arp -a',
<img src="/docs/docs_image/software/network/arp.png" alt="">
now things get a bit clear, the target ip isn't in the arp table, I tried arp -d to reset arp, but not working, so I decided the easiest way is to restart router to clear the arp table;
after restarting router, all settled!</p> <p>finally thoughts: I should spare some time to learn networking.
refer:
https://www.coursera.org/learn/network-protocols-architecture</p> <p>整理了8张图详解ARP原理
https://zhuanlan.zhihu.com/p/395157603</p> <h3 id="win10下设置自动跳跃数"><a href="#win10下设置自动跳跃数" class="header-anchor">#</a> Win10下设置自动跳跃数</h3> <p>跃点：即路由。一个路由为一个跃点。传输过程中需要经过多个网络，每个被经过的网络设备点（有能力路由的）叫做一个跃点，地址就是它的ip。跃点数是经过了多少个跃点的累加器，为了防止无用的数据包在网上流散。 为路由指定所需跃点数的整数值（范围是 1 ~ 9999），它用来在路由表里的多个路由中选择与转发包中的目标地址最为匹配的路由。所选的路由具有最少的跃点数。跃点数能够反映跃点的数量、路径的速度、路径可靠性、路径吞吐量以及管理属性。
自动跃点这个功能适用于有多个相同速度的网络接口的场合，例如，当每个网络接口都被分配了一个默认网关时。在这种情况下，用户可能需要手动配置一个网络接口上的跃点数，然后启用“自动跃点计数”功能来配置其他网络接口上的跃点数。使用这种设置可以控制在 IP 流量路由中首先使用的网络接口。
简单来说电脑两张网卡，一个内网一个外网，如果使用一个必须断开另外一个非常麻烦，使用自动跃点就可以轻松在两个网络中进行切换。</p> <p>先用win+R打开命令提示符，输入“route print”即可显示当前计算机的路由表，我们可以看出第一条是我们本地计算机，最后一个35表示优先级，</p> <p>在我们连接了WiFi热点后，再次输入命令查看路由表，发现路由表多出一行，这就是我的WiFi，优先级为50，低于以太网；</p> <p>现在我们设置自动跳跃数，打开“网络连接”，右键以太网，选择“属性”；
在以太网状态窗口中单击“属性”按钮；
在以太网属性窗口中双击“Internet协议版本4（TCP/IPV4）”；
双击“高级”按钮；
把勾选的“自动跳跃点”去掉，把接口跃点数改为35，单击“确定”；
打开命令提示符再次查看一下路由表，发现WiFi热点的路由优先级已经高于以太网了
<a href="https://baijiahao.baidu.com/s?id=1757152878290441136&amp;wfr=spider&amp;for=pc#/" target="_blank" rel="noopener noreferrer">Windows主机连接WIFI无法访问内网的网络故障<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="asymmetric-routing-非对称路由"><a href="#asymmetric-routing-非对称路由" class="header-anchor">#</a> Asymmetric Routing 非对称路由</h3> <p>What is Asymmetric Routing?
In Asymmetric routing, a packet traverses from a source to a destination in one path and takes a different path when it returns to the source. This is commonly seen in Layer-3 routed networks.</p> <p>Issues to Consider with Asymmetric Routing
Asymmetric routing is not a problem by itself, but will cause problems when Network Address Translation (NAT) or firewalls are used in the routed path. For example, in firewalls, state information is built when the packets flow from a higher security domain to a lower security domain. The firewall will be an exit point from one security domain to the other. If the return path passes through another firewall, the packet will not be allowed to traverse the firewall from the lower to higher security domain because the firewall in the return path will not have any state information. The state information exists in the first firewall.</p> <p><a href="https://www.auvik.com/franklyit/blog/asymmetric-routing-issue/" target="_blank" rel="noopener noreferrer">Finding &amp; Fixing Asymmetric Routing Issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="双网卡路由问题"><a href="#双网卡路由问题" class="header-anchor">#</a> 双网卡路由问题</h4> <p><a href="https://mp.weixin.qq.com/s/odiTqa1FdA3J3vt3_Jnrlg" target="_blank" rel="noopener noreferrer">Windows电脑有两张网卡，如何实现网卡1访问外网而网卡2访问内网？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
为什么需要双网卡，场景：</p> <ul><li><ol><li>降低成本，缩减虚拟机，一台虚拟机上跑两个应用，程序代码中做了 IP 地址限制，所以需要在一台虚拟机上配置两个内网 IP 地址</li></ol></li> <li><ol start="2"><li>隔离业务（程序运行）网和管理（运维）网，以免运维的时候影响业务网的流量带宽，并且业务网内有安全组设置，而管理网则是通过跳板机</li></ol></li></ul> <p>一般云上的虚拟机默认是给主网卡一个路由表，然后扩展网卡需要手动创建路由，如果不创建则会出现下面的问题：</p> <p><a href="https://support.huaweicloud.com/intl/zh-cn/vpc_faq/vpc_faq_0079.html?utm_campaign=ua&amp;utm_content=ecs&amp;utm_term=detail_nics#section2" target="_blank" rel="noopener noreferrer">如何配置多网卡弹性云服务器的策略路由？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://support.huaweicloud.com/intl/zh-cn/bestpractice-vpc/bestpractice_0020.html" target="_blank" rel="noopener noreferrer">为多网卡Linux云服务器配置策略路由 (IPv4/IPv6)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>例子：
虚拟机上有两个内网 IP 地址分别是：172.16.173.158/24 和 172.16.174.31/24 ，和一条去往 172.16.173.1 的默认路由</p> <div class="language- extra-class"><pre class="language-text"><code>[root@XXX ~]# ip add | grep 172
inet 172.16.173.158/24 brd 172.16.173.255 scope global noprefixroute dynamic eth0
inet 172.16.174.31/24 brd 172.16.174.255 scope global noprefixroute dynamic eth1
[root@XXX ~]# 
[root@XXX ~]# ip route
default via 172.16.173.1 dev eth0 proto dhcp metric 100 
169.254.169.254 via 172.16.173.254 dev eth0 proto dhcp metric 100 
172.16.173.0/24 dev eth0 proto kernel scope link src 172.16.173.158 metric 100 
172.16.174.0/24 dev eth1 proto kernel scope link src 172.16.174.31 metric 101 
[root@XXX ~]#
</code></pre></div><p>假设现在有一台服务器 A ，想去访问 172.16.174.31 上的应用（ A 发起一个目的 IP 为 172.16.174.31 的 TCP 连接）。</p> <p>那么 172.16.174.31 在往回发送数据包时，数据包会通过默认路由从 eth0 网卡发送给 172.16.173.1（ eth0 网卡上配置的 IP 地址是 172.16.173.158 ），这也就意味着在回包的时候不是 172.16.174.31 回的，而是 172.16.173.158 回的（即 IP 数据包的源 IP 地址是 172.16.173.158 ）。</p> <p>对于服务器 A 来说，A 是要跟 172.16.174.31 建立 TCP 连接，结果却收到来自 172.16.173.158 的回复，那么这个 TCP 连接自然是建立不起来的。如何解决这个问题呢？针对不同的网卡使用不同的路由表进行路由（即根据源 IP 地址进行路由）即可：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@XXX ~]# echo 1 &gt; /proc/sys/net/ipv4/ip_forward    # 开启 IP 路由转发功能
[root@XXX ~]# ip rule add from 172.16.173.158 table 10  # 针对不同的网卡（或 IP 地址）配置多个路由表
[root@XXX ~]# ip rule add from 172.16.174.31 table 20

[root@XXX ~]# ip route add default via 172.16.173.1 table 10  # 在不同的路由表中配置默认路由
[root@XXX ~]# ip route add default via 172.16.174.1 table 20
[root@XXX ~]# ip route flush cache  # 刷新
</code></pre></div><p>虚拟机重启后上述配置就失效了。如果希望重启后还能生效，可以将上述命令加 -p 或者添加到 /etc/rc.local 。</p> <div class="language- extra-class"><pre class="language-text"><code>[root@XXX ~]# ip route list table 10
default via 172.16.173.1 dev eth0 
[root@XXX ~]# ip route list table 20
default via 172.16.174.1 dev eth1 
[root@XXX ~]#
</code></pre></div><p><a href="https://support.huawei.com/enterprise/zh/knowledge/EKB1000028248" target="_blank" rel="noopener noreferrer">双网卡设备因路由配置不规范导致通信异常<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="路由环路"><a href="#路由环路" class="header-anchor">#</a> 路由环路</h3> <p>在维护路由表信息的时候，如果在拓扑发生改变后，网络收敛缓慢产生了不协调或者矛盾的路由选择条目，就会发生路由环路的问题，这种条件下，路由器对无法到达的网络路由不予理睬，导致用户的数据包不停在网络上循环发送，最终造成网络资源的严重浪费。</p> <h3 id="路由黑洞-vs-黑洞路由"><a href="#路由黑洞-vs-黑洞路由" class="header-anchor">#</a> 路由黑洞 vs 黑洞路由</h3> <blockquote><p>路由黑洞：
路由黑洞一般是在网络边界做汇总回程路由的时候产生的一种不太愿意出现的现象，就是汇总的时候有时会有一些网段并不在内网中存在，但是又包含在汇总后的网段中，如果在这个汇总的边界设备上同时还配置了缺省路由，就可能出现一些问题。这时，如果有数据包发向那些不在内网出现的网段（但是又包含在汇总网段）所在的路由器，根据最长匹配原则，并没有找到对应的路由，只能根据默认路由又回到原来的路由器，这就形成了环路，直到TTL值超时，丢弃。</p></blockquote> <blockquote><p>黑洞路由：
一条路由无论是静态还是动态，都需要关联到一个出接口，在众多的出接口中，有一种接口非常特殊，即Null（无效）接口，这种类型的接口只有一个编号0，类似（交换机、路由器）的出接口Interface g或e 0/0/0; Null0是系统保留的逻辑接口，当转发网络设备在转发某些数据包时，如果使用出接口为Null0的路由，那么这些报文会被直接丢弃，就像直接丢进一个黑洞里，因此出接口为Null0的路由被称为黑洞路由。</p></blockquote> <blockquote><p>https://www.cnblogs.com/ggc-gyx/p/16745273.html</p></blockquote> <p>什么是云路由？
云路由使用边界网关协议（BGP）动态管理两个虚拟云网络之间或云网络与本地网络之间的连接。云路由可自动适应云中不断变化的网络条件。  云路由器（虚拟化路由器功能的软件）可促进云路由。</p> <p>什么是 DNS 路由？
域名系统（DNS）将人类可读的域名（例如，www.amazon.com）转换为机器可读的 IP 地址（例如，192.0.2.44）。将此名称信息映射到计算机信息的数据单独存储在 DNS 服务器上。在将数据发送到任何网站之前，路由器必须与 DNS 服务器通信，以确定数据包的确切机器地址。</p> <p>DNS 服务器通信可能会成为瓶颈，尤其是当许多用户想要同时访问网站时。DNS 路由是指管理与 DNS 服务器通信的各种路由策略和算法。基于延迟的路由和基于地理位置的路由等多种策略有助于管理 DNS 服务器通信负载。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.f3b5d2d6.js" defer></script><script src="/docs/assets/js/2.d450803a.js" defer></script><script src="/docs/assets/js/280.6941e4c0.js" defer></script>
  </body>
</html>
