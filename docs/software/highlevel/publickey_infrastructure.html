<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机基础教程</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9742852210287449" crossorigin="anonymous"></script>
    <script>
			(function() { // DON'T EDIT BELOW THIS LINE
			
			})();
		 </script>
    <meta name="description" content="软件开发教程，白帽黑客入门教程，区块链入门教程，物联网，大数据">
    
    <link rel="preload" href="/docs/assets/css/0.styles.10344a3e.css" as="style"><link rel="preload" href="/docs/assets/js/app.46ca9026.js" as="script"><link rel="preload" href="/docs/assets/js/2.19baf9f4.js" as="script"><link rel="preload" href="/docs/assets/js/192.2323cd4f.js" as="script"><link rel="preload" href="/docs/assets/js/11.0d0890d4.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.de7befbc.js"><link rel="prefetch" href="/docs/assets/js/100.cb5997ee.js"><link rel="prefetch" href="/docs/assets/js/101.a2309c58.js"><link rel="prefetch" href="/docs/assets/js/102.126c51c4.js"><link rel="prefetch" href="/docs/assets/js/103.7296298c.js"><link rel="prefetch" href="/docs/assets/js/104.bd40b9fc.js"><link rel="prefetch" href="/docs/assets/js/105.a27a160a.js"><link rel="prefetch" href="/docs/assets/js/106.2d331009.js"><link rel="prefetch" href="/docs/assets/js/107.1aff401b.js"><link rel="prefetch" href="/docs/assets/js/108.ad3fec2e.js"><link rel="prefetch" href="/docs/assets/js/109.b9a56042.js"><link rel="prefetch" href="/docs/assets/js/110.09b14bc3.js"><link rel="prefetch" href="/docs/assets/js/111.3985d3a0.js"><link rel="prefetch" href="/docs/assets/js/112.7ad0d8ff.js"><link rel="prefetch" href="/docs/assets/js/113.6b90886e.js"><link rel="prefetch" href="/docs/assets/js/114.17cd72c2.js"><link rel="prefetch" href="/docs/assets/js/115.555a919f.js"><link rel="prefetch" href="/docs/assets/js/116.46b5e401.js"><link rel="prefetch" href="/docs/assets/js/117.40ac4d43.js"><link rel="prefetch" href="/docs/assets/js/118.6484a7d9.js"><link rel="prefetch" href="/docs/assets/js/119.e7c22cf6.js"><link rel="prefetch" href="/docs/assets/js/12.eec9a325.js"><link rel="prefetch" href="/docs/assets/js/120.9b3130db.js"><link rel="prefetch" href="/docs/assets/js/121.9251f1c2.js"><link rel="prefetch" href="/docs/assets/js/122.a616d443.js"><link rel="prefetch" href="/docs/assets/js/123.12e07e9b.js"><link rel="prefetch" href="/docs/assets/js/124.2a7b3154.js"><link rel="prefetch" href="/docs/assets/js/125.9e83fc7b.js"><link rel="prefetch" href="/docs/assets/js/126.03dc14f8.js"><link rel="prefetch" href="/docs/assets/js/127.bc2cb0eb.js"><link rel="prefetch" href="/docs/assets/js/128.7b1189eb.js"><link rel="prefetch" href="/docs/assets/js/129.e33e834d.js"><link rel="prefetch" href="/docs/assets/js/13.82a6a883.js"><link rel="prefetch" href="/docs/assets/js/130.d03dc671.js"><link rel="prefetch" href="/docs/assets/js/131.5ae82f80.js"><link rel="prefetch" href="/docs/assets/js/132.865d4175.js"><link rel="prefetch" href="/docs/assets/js/133.5bcabfb5.js"><link rel="prefetch" href="/docs/assets/js/134.8291d2bb.js"><link rel="prefetch" href="/docs/assets/js/135.25f290cb.js"><link rel="prefetch" href="/docs/assets/js/136.966b0ced.js"><link rel="prefetch" href="/docs/assets/js/137.2b342e43.js"><link rel="prefetch" href="/docs/assets/js/138.d055147f.js"><link rel="prefetch" href="/docs/assets/js/139.ee7bb0d0.js"><link rel="prefetch" href="/docs/assets/js/14.617538a8.js"><link rel="prefetch" href="/docs/assets/js/140.10a8c146.js"><link rel="prefetch" href="/docs/assets/js/141.257904b0.js"><link rel="prefetch" href="/docs/assets/js/142.673fa72d.js"><link rel="prefetch" href="/docs/assets/js/143.83e6bda5.js"><link rel="prefetch" href="/docs/assets/js/144.8a76ea52.js"><link rel="prefetch" href="/docs/assets/js/145.9e2a8b8d.js"><link rel="prefetch" href="/docs/assets/js/146.4f42e5fa.js"><link rel="prefetch" href="/docs/assets/js/147.f1b915b1.js"><link rel="prefetch" href="/docs/assets/js/148.5746af9f.js"><link rel="prefetch" href="/docs/assets/js/149.a1db9f44.js"><link rel="prefetch" href="/docs/assets/js/15.dd9c9ae3.js"><link rel="prefetch" href="/docs/assets/js/150.b404a7bf.js"><link rel="prefetch" href="/docs/assets/js/151.21d829af.js"><link rel="prefetch" href="/docs/assets/js/152.99ecedaa.js"><link rel="prefetch" href="/docs/assets/js/153.71f9a01d.js"><link rel="prefetch" href="/docs/assets/js/154.51d303a4.js"><link rel="prefetch" href="/docs/assets/js/155.75fde608.js"><link rel="prefetch" href="/docs/assets/js/156.2d43d432.js"><link rel="prefetch" href="/docs/assets/js/157.9122558a.js"><link rel="prefetch" href="/docs/assets/js/158.de854267.js"><link rel="prefetch" href="/docs/assets/js/159.b4f6262e.js"><link rel="prefetch" href="/docs/assets/js/16.55fe291d.js"><link rel="prefetch" href="/docs/assets/js/160.159b1344.js"><link rel="prefetch" href="/docs/assets/js/161.2b64106f.js"><link rel="prefetch" href="/docs/assets/js/162.92c0b23e.js"><link rel="prefetch" href="/docs/assets/js/163.f4f1860b.js"><link rel="prefetch" href="/docs/assets/js/164.6c130817.js"><link rel="prefetch" href="/docs/assets/js/165.89b93ef7.js"><link rel="prefetch" href="/docs/assets/js/166.b76de7f9.js"><link rel="prefetch" href="/docs/assets/js/167.2d6aa890.js"><link rel="prefetch" href="/docs/assets/js/168.ddc1c304.js"><link rel="prefetch" href="/docs/assets/js/169.9c1e4b6f.js"><link rel="prefetch" href="/docs/assets/js/17.9e2716ee.js"><link rel="prefetch" href="/docs/assets/js/170.7c71335c.js"><link rel="prefetch" href="/docs/assets/js/171.eb3ed743.js"><link rel="prefetch" href="/docs/assets/js/172.e9e7fa1b.js"><link rel="prefetch" href="/docs/assets/js/173.9f9d1168.js"><link rel="prefetch" href="/docs/assets/js/174.4b1f9246.js"><link rel="prefetch" href="/docs/assets/js/175.f6400bab.js"><link rel="prefetch" href="/docs/assets/js/176.cd2ea6d2.js"><link rel="prefetch" href="/docs/assets/js/177.8f6a5327.js"><link rel="prefetch" href="/docs/assets/js/178.88c0cd1d.js"><link rel="prefetch" href="/docs/assets/js/179.fae8dace.js"><link rel="prefetch" href="/docs/assets/js/18.daae7ca7.js"><link rel="prefetch" href="/docs/assets/js/180.1299e786.js"><link rel="prefetch" href="/docs/assets/js/181.ff5e8b9a.js"><link rel="prefetch" href="/docs/assets/js/182.94fa890a.js"><link rel="prefetch" href="/docs/assets/js/183.0229ea88.js"><link rel="prefetch" href="/docs/assets/js/184.e3528d92.js"><link rel="prefetch" href="/docs/assets/js/185.dde00398.js"><link rel="prefetch" href="/docs/assets/js/186.ab02c37b.js"><link rel="prefetch" href="/docs/assets/js/187.270db8ed.js"><link rel="prefetch" href="/docs/assets/js/188.26b8da58.js"><link rel="prefetch" href="/docs/assets/js/189.da713167.js"><link rel="prefetch" href="/docs/assets/js/19.e3bdcb7b.js"><link rel="prefetch" href="/docs/assets/js/190.6d6802cc.js"><link rel="prefetch" href="/docs/assets/js/191.00ba67f4.js"><link rel="prefetch" href="/docs/assets/js/193.03113abc.js"><link rel="prefetch" href="/docs/assets/js/194.1501b470.js"><link rel="prefetch" href="/docs/assets/js/195.126c65bf.js"><link rel="prefetch" href="/docs/assets/js/196.d7158fb3.js"><link rel="prefetch" href="/docs/assets/js/197.43520067.js"><link rel="prefetch" href="/docs/assets/js/198.80665f46.js"><link rel="prefetch" href="/docs/assets/js/199.ae6d1c9a.js"><link rel="prefetch" href="/docs/assets/js/20.9b3c5387.js"><link rel="prefetch" href="/docs/assets/js/200.7d60f93f.js"><link rel="prefetch" href="/docs/assets/js/201.3d5aed52.js"><link rel="prefetch" href="/docs/assets/js/202.2e10fdd4.js"><link rel="prefetch" href="/docs/assets/js/203.c570936d.js"><link rel="prefetch" href="/docs/assets/js/204.da75cda8.js"><link rel="prefetch" href="/docs/assets/js/205.5642d8dd.js"><link rel="prefetch" href="/docs/assets/js/206.727f8396.js"><link rel="prefetch" href="/docs/assets/js/207.bb0c02af.js"><link rel="prefetch" href="/docs/assets/js/208.7c33ce06.js"><link rel="prefetch" href="/docs/assets/js/209.1fb1ecd9.js"><link rel="prefetch" href="/docs/assets/js/21.c1d47393.js"><link rel="prefetch" href="/docs/assets/js/210.130cac77.js"><link rel="prefetch" href="/docs/assets/js/211.ae2c7d53.js"><link rel="prefetch" href="/docs/assets/js/212.5b0bbc2a.js"><link rel="prefetch" href="/docs/assets/js/213.04988342.js"><link rel="prefetch" href="/docs/assets/js/214.eadeed8d.js"><link rel="prefetch" href="/docs/assets/js/215.87034d98.js"><link rel="prefetch" href="/docs/assets/js/216.c514a5a9.js"><link rel="prefetch" href="/docs/assets/js/217.253147f4.js"><link rel="prefetch" href="/docs/assets/js/218.b2f2faf6.js"><link rel="prefetch" href="/docs/assets/js/219.9accf734.js"><link rel="prefetch" href="/docs/assets/js/22.11b04029.js"><link rel="prefetch" href="/docs/assets/js/220.b2a3b6f9.js"><link rel="prefetch" href="/docs/assets/js/221.fe9105a9.js"><link rel="prefetch" href="/docs/assets/js/222.24f9ecd9.js"><link rel="prefetch" href="/docs/assets/js/223.62c2353c.js"><link rel="prefetch" href="/docs/assets/js/224.15df5540.js"><link rel="prefetch" href="/docs/assets/js/225.9d658716.js"><link rel="prefetch" href="/docs/assets/js/226.4d306bdd.js"><link rel="prefetch" href="/docs/assets/js/227.8b8298be.js"><link rel="prefetch" href="/docs/assets/js/228.8c4a9838.js"><link rel="prefetch" href="/docs/assets/js/229.f47c26ef.js"><link rel="prefetch" href="/docs/assets/js/23.0d6a05a3.js"><link rel="prefetch" href="/docs/assets/js/230.2862d91e.js"><link rel="prefetch" href="/docs/assets/js/231.8bd2264b.js"><link rel="prefetch" href="/docs/assets/js/232.2da83d1e.js"><link rel="prefetch" href="/docs/assets/js/233.7bc1e774.js"><link rel="prefetch" href="/docs/assets/js/234.8e244e03.js"><link rel="prefetch" href="/docs/assets/js/235.d57fb4f7.js"><link rel="prefetch" href="/docs/assets/js/236.97ed8d8b.js"><link rel="prefetch" href="/docs/assets/js/237.f8755508.js"><link rel="prefetch" href="/docs/assets/js/238.d14df6e2.js"><link rel="prefetch" href="/docs/assets/js/239.1f1fb21c.js"><link rel="prefetch" href="/docs/assets/js/24.aaf93134.js"><link rel="prefetch" href="/docs/assets/js/240.5e65e757.js"><link rel="prefetch" href="/docs/assets/js/241.95e1b970.js"><link rel="prefetch" href="/docs/assets/js/242.b7c121b4.js"><link rel="prefetch" href="/docs/assets/js/243.96345227.js"><link rel="prefetch" href="/docs/assets/js/244.05d9364e.js"><link rel="prefetch" href="/docs/assets/js/245.018f424d.js"><link rel="prefetch" href="/docs/assets/js/246.a50de2ef.js"><link rel="prefetch" href="/docs/assets/js/247.0675f398.js"><link rel="prefetch" href="/docs/assets/js/248.bf171b53.js"><link rel="prefetch" href="/docs/assets/js/249.be171077.js"><link rel="prefetch" href="/docs/assets/js/25.4d2833d3.js"><link rel="prefetch" href="/docs/assets/js/250.94711bb7.js"><link rel="prefetch" href="/docs/assets/js/251.4d312291.js"><link rel="prefetch" href="/docs/assets/js/252.acfda035.js"><link rel="prefetch" href="/docs/assets/js/253.c8e3a27c.js"><link rel="prefetch" href="/docs/assets/js/254.510d20e1.js"><link rel="prefetch" href="/docs/assets/js/255.fa161ffb.js"><link rel="prefetch" href="/docs/assets/js/256.b98ddf39.js"><link rel="prefetch" href="/docs/assets/js/257.5be6cdd6.js"><link rel="prefetch" href="/docs/assets/js/258.86289bc5.js"><link rel="prefetch" href="/docs/assets/js/259.031c9883.js"><link rel="prefetch" href="/docs/assets/js/26.f88ec453.js"><link rel="prefetch" href="/docs/assets/js/260.61a9d7bf.js"><link rel="prefetch" href="/docs/assets/js/261.a3335fe2.js"><link rel="prefetch" href="/docs/assets/js/262.ce1b8cff.js"><link rel="prefetch" href="/docs/assets/js/263.0913b9ef.js"><link rel="prefetch" href="/docs/assets/js/264.30015502.js"><link rel="prefetch" href="/docs/assets/js/265.2c40cf0f.js"><link rel="prefetch" href="/docs/assets/js/266.a532ab73.js"><link rel="prefetch" href="/docs/assets/js/267.b7582616.js"><link rel="prefetch" href="/docs/assets/js/268.e8f546b4.js"><link rel="prefetch" href="/docs/assets/js/269.328e32a2.js"><link rel="prefetch" href="/docs/assets/js/27.5f8116be.js"><link rel="prefetch" href="/docs/assets/js/270.bdabfb40.js"><link rel="prefetch" href="/docs/assets/js/271.909929b5.js"><link rel="prefetch" href="/docs/assets/js/272.654b3a75.js"><link rel="prefetch" href="/docs/assets/js/273.f69bb781.js"><link rel="prefetch" href="/docs/assets/js/274.6e9d0943.js"><link rel="prefetch" href="/docs/assets/js/275.e9dc99d9.js"><link rel="prefetch" href="/docs/assets/js/276.e568da80.js"><link rel="prefetch" href="/docs/assets/js/277.b5342dab.js"><link rel="prefetch" href="/docs/assets/js/278.c0afe2de.js"><link rel="prefetch" href="/docs/assets/js/279.89bddbb1.js"><link rel="prefetch" href="/docs/assets/js/28.60b2572a.js"><link rel="prefetch" href="/docs/assets/js/280.2b468a6c.js"><link rel="prefetch" href="/docs/assets/js/281.a970d1f7.js"><link rel="prefetch" href="/docs/assets/js/282.f9e0a425.js"><link rel="prefetch" href="/docs/assets/js/283.d53bab35.js"><link rel="prefetch" href="/docs/assets/js/29.f87d0c95.js"><link rel="prefetch" href="/docs/assets/js/3.6d6c4f92.js"><link rel="prefetch" href="/docs/assets/js/30.e84bd8a2.js"><link rel="prefetch" href="/docs/assets/js/31.09dd0cc2.js"><link rel="prefetch" href="/docs/assets/js/32.51872e81.js"><link rel="prefetch" href="/docs/assets/js/33.60612b75.js"><link rel="prefetch" href="/docs/assets/js/34.fb6b55a7.js"><link rel="prefetch" href="/docs/assets/js/35.6ab2993a.js"><link rel="prefetch" href="/docs/assets/js/36.2230e690.js"><link rel="prefetch" href="/docs/assets/js/37.6b4ee5e4.js"><link rel="prefetch" href="/docs/assets/js/38.7a85a64a.js"><link rel="prefetch" href="/docs/assets/js/39.d50118ff.js"><link rel="prefetch" href="/docs/assets/js/4.0ccab874.js"><link rel="prefetch" href="/docs/assets/js/40.9e98ff60.js"><link rel="prefetch" href="/docs/assets/js/41.5aac740f.js"><link rel="prefetch" href="/docs/assets/js/42.c1b54139.js"><link rel="prefetch" href="/docs/assets/js/43.97d37e0c.js"><link rel="prefetch" href="/docs/assets/js/44.852f70eb.js"><link rel="prefetch" href="/docs/assets/js/45.793a68d4.js"><link rel="prefetch" href="/docs/assets/js/46.6567118d.js"><link rel="prefetch" href="/docs/assets/js/47.2c6598c4.js"><link rel="prefetch" href="/docs/assets/js/48.d274b6db.js"><link rel="prefetch" href="/docs/assets/js/49.1ca359af.js"><link rel="prefetch" href="/docs/assets/js/5.a677bf9d.js"><link rel="prefetch" href="/docs/assets/js/50.baa2a13e.js"><link rel="prefetch" href="/docs/assets/js/51.b1d0db7a.js"><link rel="prefetch" href="/docs/assets/js/52.9973ddde.js"><link rel="prefetch" href="/docs/assets/js/53.2a2bdead.js"><link rel="prefetch" href="/docs/assets/js/54.123b4e82.js"><link rel="prefetch" href="/docs/assets/js/55.87ffcdd0.js"><link rel="prefetch" href="/docs/assets/js/56.76d41909.js"><link rel="prefetch" href="/docs/assets/js/57.ed137147.js"><link rel="prefetch" href="/docs/assets/js/58.60bb2396.js"><link rel="prefetch" href="/docs/assets/js/59.b404bd44.js"><link rel="prefetch" href="/docs/assets/js/6.199ebd26.js"><link rel="prefetch" href="/docs/assets/js/60.5fc5458e.js"><link rel="prefetch" href="/docs/assets/js/61.9bb5de28.js"><link rel="prefetch" href="/docs/assets/js/62.8732fe6f.js"><link rel="prefetch" href="/docs/assets/js/63.c4237453.js"><link rel="prefetch" href="/docs/assets/js/64.f537d09f.js"><link rel="prefetch" href="/docs/assets/js/65.8a8a0546.js"><link rel="prefetch" href="/docs/assets/js/66.8accc573.js"><link rel="prefetch" href="/docs/assets/js/67.438f08ce.js"><link rel="prefetch" href="/docs/assets/js/68.25f2fdbe.js"><link rel="prefetch" href="/docs/assets/js/69.c932f095.js"><link rel="prefetch" href="/docs/assets/js/7.945b5e6c.js"><link rel="prefetch" href="/docs/assets/js/70.f89364d9.js"><link rel="prefetch" href="/docs/assets/js/71.63ca3162.js"><link rel="prefetch" href="/docs/assets/js/72.711a9bed.js"><link rel="prefetch" href="/docs/assets/js/73.bde3f6c5.js"><link rel="prefetch" href="/docs/assets/js/74.60ac19cf.js"><link rel="prefetch" href="/docs/assets/js/75.8aab3cba.js"><link rel="prefetch" href="/docs/assets/js/76.a513446f.js"><link rel="prefetch" href="/docs/assets/js/77.b3c30d1a.js"><link rel="prefetch" href="/docs/assets/js/78.84965158.js"><link rel="prefetch" href="/docs/assets/js/79.f83c8df8.js"><link rel="prefetch" href="/docs/assets/js/8.b362decf.js"><link rel="prefetch" href="/docs/assets/js/80.0d5e7ef5.js"><link rel="prefetch" href="/docs/assets/js/81.0656e670.js"><link rel="prefetch" href="/docs/assets/js/82.801c21cd.js"><link rel="prefetch" href="/docs/assets/js/83.bc5a8e97.js"><link rel="prefetch" href="/docs/assets/js/84.a937aab0.js"><link rel="prefetch" href="/docs/assets/js/85.3e50b401.js"><link rel="prefetch" href="/docs/assets/js/86.35b22fa7.js"><link rel="prefetch" href="/docs/assets/js/87.f151c6c6.js"><link rel="prefetch" href="/docs/assets/js/88.fb113634.js"><link rel="prefetch" href="/docs/assets/js/89.dfc93bf9.js"><link rel="prefetch" href="/docs/assets/js/9.0dce023c.js"><link rel="prefetch" href="/docs/assets/js/90.2864eba0.js"><link rel="prefetch" href="/docs/assets/js/91.2442172a.js"><link rel="prefetch" href="/docs/assets/js/92.7e26f2cf.js"><link rel="prefetch" href="/docs/assets/js/93.3cf4ff09.js"><link rel="prefetch" href="/docs/assets/js/94.a4212bf6.js"><link rel="prefetch" href="/docs/assets/js/95.86c671de.js"><link rel="prefetch" href="/docs/assets/js/96.4850eff4.js"><link rel="prefetch" href="/docs/assets/js/97.52df5eb2.js"><link rel="prefetch" href="/docs/assets/js/98.f19901bb.js"><link rel="prefetch" href="/docs/assets/js/99.05f18e4e.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.10344a3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">计算机基础教程</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  机器指令
</a></div><div class="nav-item"><a href="/docs/software/" class="nav-link router-link-active">
  软件基础
</a></div><div class="nav-item"><a href="/docs/coder2hacker/" class="nav-link">
  白帽黑客
</a></div><div class="nav-item"><a href="/docs/blockchain/" class="nav-link">
  区块链
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  机器指令
</a></div><div class="nav-item"><a href="/docs/software/" class="nav-link router-link-active">
  软件基础
</a></div><div class="nav-item"><a href="/docs/coder2hacker/" class="nav-link">
  白帽黑客
</a></div><div class="nav-item"><a href="/docs/blockchain/" class="nav-link">
  区块链
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/software/highlevel/publickey_infrastructure.html#clarification" class="sidebar-link">Clarification</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/software/highlevel/publickey_infrastructure.html#_1-overview" class="sidebar-link">1.Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_1-1-secure-messaging" class="sidebar-link">1.1 Secure messaging</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_1-2-message-digest" class="sidebar-link">1.2 Message digest</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_1-3-digital-signature" class="sidebar-link">1.3 Digital signature</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_1-4-digital-certificate" class="sidebar-link">1.4 Digital certificate</a></li></ul></li><li><a href="/docs/software/highlevel/publickey_infrastructure.html#_2-methods" class="sidebar-link">2.Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_2-1-certificate-authority-or-self-signed-with-x-509" class="sidebar-link">2.1 Certificate authority or Self-signed with X.509</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_2-2-wot" class="sidebar-link">2.2 WOT</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_2-3-pgp" class="sidebar-link">2.3 PGP</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_2-4-blockchain-based-pki" class="sidebar-link">2.4 Blockchain-based PKI</a></li></ul></li><li><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-fundametal" class="sidebar-link">3.Fundametal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-1-ssl-tls" class="sidebar-link">3.1 SSL/TLS</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-1-1-implementation" class="sidebar-link" style="padding-left:3rem;">3.1.1 Implementation</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-1-2-certifications-x-509-cert-always-related-to-ca-party" class="sidebar-link" style="padding-left:3rem;">3.1.2 Certifications - X.509 cert - always related to CA party</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-1-3-algorithm-for-tls-whole-flow" class="sidebar-link" style="padding-left:3rem;">3.1.3 Algorithm for TLS whole flow</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-1-4-protocol-handshake" class="sidebar-link" style="padding-left:3rem;">3.1.4 Protocol - Handshake</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-2-manager-tools" class="sidebar-link">3.2 Manager tools</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-2-1-交互工具-openssl-keytool" class="sidebar-link" style="padding-left:3rem;">3.2.1 交互工具：Openssl keytool</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_3-2-2-存储-truststore-keystore" class="sidebar-link" style="padding-left:3rem;">3.2.2 存储：Truststore &amp; Keystore</a></li></ul></li><li><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-use-case" class="sidebar-link">4. Use case</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-1-authenticate-digital-signature" class="sidebar-link">4.1 Authenticate / Digital Signature</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-2-1-ssl-tls-https" class="sidebar-link">4.2(1) SSL/ TLS / HTTPS</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-2-2-dns-over-tls-and-dns-over-https-different" class="sidebar-link">4.2(2) DNS over TLS and DNS over HTTPS different</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-2-3-ssl-pin-key-distribution-problem" class="sidebar-link">4.2(3) SSL PIN (Key Distribution Problem)</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-3-ssh" class="sidebar-link">4.3 SSH</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-4-authroize-authentication" class="sidebar-link">4.4 authroize&amp;authentication</a></li><li class="sidebar-sub-header"><a href="/docs/software/highlevel/publickey_infrastructure.html#_4-5-blockchain-ecc" class="sidebar-link">4.5 blockchain - ECC</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="/docs/software">回目录</a>  《公钥基础设施Public key infrastructure》</p> <h2 id="clarification"><a href="#clarification" class="header-anchor">#</a> Clarification</h2> <p>注意本篇主要是在应用实现层面描述PKI，密码学层面参考 <a href="../../blockchain/cryptography/cryptography">Cryptograhy Fundamental</a>，下面总结一下密码学层面的知识点：
<a href="HardDrive:/blockchain/cryptography">private reference- cryptography</a>:</p> <p>​		https://www.youtube.com/playlist?list=PLoJC20gNfC2gAB-eg7oaUTheB_JgQY4-q
​		http://crypto-textbook.com/</p> <p><strong>PKI infrastructure:</strong></p> <ol><li>Ensuring the contents of the document are encrypted such that the document is kept confidential.</li> <li>Ensuring the document is not altered during transmission.</li> <li>Since Alice does not know Bob, he has to somehow prove that the document is indeed sent by him.</li> <li>Ensuring Alice receives the document and that she cannot deny receiving it in future.
PKI supports all the above four requirements with methods such as secure messaging, message digests, digital signatures, and non-repudiation services.</li></ol> <p><strong>Keys</strong></p> <ul><li><p>Authentication</p> <p>provides some degree of certainty that a given message has come from a legitimate source.
Digital signature with private key</p></li> <li><p>Integrity/Tamper detection</p> <p>merely shows evidence that a message may have been altered.
Over Distance: when communicate, hash function
Over time: merkle tree
Centralize integrity
Decentralize integrity</p></li> <li><p>Non-repudiation</p> <p>is a concept, or a way, to ensure that the sender or receiver of a message cannot deny either sending or receiving such a message in future. One of the important audit checks for non-repudiation is a time stamp. The time stamp is an audit trail that provides information of the time the message is sent by the sender and the time the message is received by the receiver.</p></li></ul> <p><strong>Public key cryptography</strong></p> <p>Public key cryptography (negotiating exchange symmetric master secret key)
Rsa dsa ecdsa ecc
Symmetric (Exchange message)
Des …
Hash function (Integrity)
Md5 hmac</p> <p>下面开始从软件应用层面总结：</p> <h2 id="_1-overview"><a href="#_1-overview" class="header-anchor">#</a> 1.Overview</h2> <h3 id="_1-1-secure-messaging"><a href="#_1-1-secure-messaging" class="header-anchor">#</a> 1.1 Secure messaging</h3> <p>To ensure that the document is protected from eavesdropping and not altered during the transmission, Bob will first encrypt the document using Alice’s public key. This ensures two things: one, that the document is encrypted, and two, only Alice can open it as the document requires the private key of Alice to open it. To summarize, encryption is accomplished using the public key of the receiver and the receiver decrypts with his or her private key. In this method, Bob could ensure that the document is encrypted and only the intended receiver (Alice) can open it. However, Bob cannot ensure whether the contents are altered (Integrity) during transmission by document encryption alone.</p> <h3 id="_1-2-message-digest"><a href="#_1-2-message-digest" class="header-anchor">#</a> 1.2 Message digest</h3> <p>In order to ensure that the document is not altered during transmission, Bob performs a hash function on the document. The hash value is a computational value based on the contents of the document. This hash value is known as the message digest. By performing the same hash function on the decrypted document the message, the digest can be obtained by Alice and she can compare it with the one sent by Bob to ensure that the contents are not altered.
This process will ensure the integrity requirement.</p> <h3 id="_1-3-digital-signature"><a href="#_1-3-digital-signature" class="header-anchor">#</a> 1.3 Digital signature</h3> <p>https://en.wikipedia.org/wiki/Digital_signature
In order to prove that the document is sent by Bob to Alice, Bob needs to use a digital signature. Using a digital signature means applying the sender’s private key to the message, or document, or to the message digest. This process is known as as signing. Only by using the sender’s public key can the message be decrypted.</p> <p>Bob will encrypt the message digest with his private key to create a digital signature. In the scenario illustrated in the image above, Bob will encrypt the document using Alice’s public key and sign it using his digital signature. This ensures that Alice can verify that the document is sent by Bob, by verifying the digital signature (Bob’s private key) using Bob’s public key. Remember a private key and the corresponding public key are linked, albeit mathematically. Alice can also verify that the document is not altered by validating the message digest, and also can open the encrypted document using her private key.
Message authentication is an authenticity verification procedure that facilitates the verification of the integrity of the message as well as the authenticity of the source from which the message is received.</p> <h3 id="_1-4-digital-certificate"><a href="#_1-4-digital-certificate" class="header-anchor">#</a> 1.4 Digital certificate</h3> <p>By digitally signing the document, Bob has assured that the document is sent by him to Alice. However, he has not yet proved that he is Bob. To prove this, Bob needs to use a digital certificate.
A digital certificate is an electronic identity issued to a person, system, or an organization by a competent authority after verifying the credentials of the entity. A digital certificate is a public key that is unique for each entity. A certification authority issues digital certificates.
In PKI, digital certificates are used for authenticity verification of an entity. An entity can be an individual, system, or an organization.
An organization that is involved in issuing, distributing, and revoking digital certificates is known as a Certification Authority (CA). A CA acts as a notary by verifying an entity’s identity.
One of the important PKI standards pertaining to digital certificates is X.509. It is a standard published by the International Telecommunication Union (ITU) that specifies the standard format for digital certificates.
PKI also provides key exchange functionality that facilitates the secure exchange of public keys such that the authenticity of the parties can be verified.</p> <h2 id="_2-methods"><a href="#_2-methods" class="header-anchor">#</a> 2.Methods</h2> <h3 id="_2-1-certificate-authority-or-self-signed-with-x-509"><a href="#_2-1-certificate-authority-or-self-signed-with-x-509" class="header-anchor">#</a> 2.1 Certificate authority or Self-signed with X.509</h3> <p>如果有域名建议用 CA的证书，可以用Let's Encrypt获取，或者可以使用第三方DNS解析自带的，比如cloudflare的证书；</p> <p>如果没有域名比如本地测试环境那只能用自签名证书；</p> <p>ca 证书链 chain of trust</p> <p>PGP VS X.509
http://world.std.com/~cme/html/web.html</p> <h3 id="_2-2-wot"><a href="#_2-2-wot" class="header-anchor">#</a> 2.2 WOT</h3> <p><img src="/docs/docs_image/software/cryptography/pki01.png" alt=""></p> <h3 id="_2-3-pgp"><a href="#_2-3-pgp" class="header-anchor">#</a> 2.3 PGP</h3> <p>How PGP works ? and how to make it Pretty Great Privacy
OpenPGP Message Format: https://tools.ietf.org/html/rfc4880</p> <p>How PGP works https://users.ece.cmu.edu/~adrian/630-f04/PGP-intro.html
Explanation of the web of trust of PGP https://www.rubin.ch/pgp/weboftrust.en.html</p> <p>Both when encrypting messages and when verifying signatures, it is critical that the public key used to send messages to someone or some entity actually does 'belong' to the intended recipient. Simply downloading a public key from somewhere is not a reliable assurance of that association; deliberate (or accidental) impersonation is possible. From its first version, PGP has always included provisions for distributing user's public keys in an 'identity certification ', which is also constructed cryptographically so that any tampering (or accidental garble) is readily detectable. However, merely making a certificate which is impossible to modify without being detected is insufficient; this can prevent corruption only after the certificate has been created, not before. Users must also ensure by some means that the public key in a certificate actually does belong to the person or entity claiming it. From its first release, PGP products have included an internal certificate 'vetting scheme' to assist with this, a trust model which has been called a web of trust. A given public key (or more specifically, information binding a user name to a key) may be digitally signed by a third party user to attest to the association between someone (actually a user name) and the key. There are several levels of confidence which can be included in such signatures. Although many programs read and write this information, few (if any) include this level of certification when calculating whether to trust a key.</p> <p>From Pretty Good To Great
Enhancing PGP using Bitcoin and the Blockchain https://arxiv.org/abs/1508.04868
Bitcoin pgp?? https://bitcointalk.org/index.php?topic=186264.msg1929410#msg1929410
https://www.quora.com/What-are-the-main-benefits-of-using-blockchain-techs-Vs-PGP</p> <h3 id="_2-4-blockchain-based-pki"><a href="#_2-4-blockchain-based-pki" class="header-anchor">#</a> 2.4 Blockchain-based PKI</h3> <h2 id="_3-fundametal"><a href="#_3-fundametal" class="header-anchor">#</a> 3.Fundametal</h2> <h3 id="_3-1-ssl-tls"><a href="#_3-1-ssl-tls" class="header-anchor">#</a> 3.1 SSL/TLS</h3> <p>SSL is deprecated predecessor of TLS, latest version is TLS1.3
https://en.wikipedia.org/wiki/Transport_Layer_Security#Protocol_details
Encryption is through the following Algorithm and Protocol
Identification is guaranteed by CA</p> <p><img src="/docs/docs_image/software/cryptography/pki02.png" alt=""></p> <h4 id="_3-1-1-implementation"><a href="#_3-1-1-implementation" class="header-anchor">#</a> 3.1.1 Implementation</h4> <p>https://en.wikipedia.org/wiki/Comparison_of_TLS_implementations</p> <ul><li><p>openssl:</p> <p>is a software library for applications that secure communications over computer networks against eavesdropping or need to identify the party at the other end. It is widely used by Internet servers, including the majority of HTTPS websites.</p> <p>经常被用来配置https</p></li> <li><p>Bouncy Castle (cryptography):</p> <p>is a collection of APIs used in cryptography. It includes APIs for both the Java and the C# programming languages</p> <p>参考我写的一个密码学小工具：《blockchain_cryptography.md》</p></li></ul> <h4 id="_3-1-2-certifications-x-509-cert-always-related-to-ca-party"><a href="#_3-1-2-certifications-x-509-cert-always-related-to-ca-party" class="header-anchor">#</a> 3.1.2 Certifications - X.509 cert - always related to CA party</h4> <p>a standard defining the format of public key certificates
https://en.wikipedia.org/wiki/X.509</p> <p><img src="/docs/docs_image/software/cryptography/pki03.png" alt=""></p> <h4 id="_3-1-3-algorithm-for-tls-whole-flow"><a href="#_3-1-3-algorithm-for-tls-whole-flow" class="header-anchor">#</a> 3.1.3 Algorithm for TLS whole flow</h4> <p><strong>Step 1:Key exchange or key agreement algorithm</strong></p> <p>​	Purpose: to negotiate and generate master secret key
​	https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5551094/</p> <ul><li><p>RSA</p></li> <li><p>Diffie hellman Perfect Forward Secrecy https://www.youtube.com/watch?v=IkM3R-KDu44</p></li> <li><p>ECC</p></li></ul> <p>服务端配置例子：</p> <div class="language- extra-class"><pre class="language-text"><code>-- redhat服务器配置:
https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-hardening_tls_configuration
#openssl ciphers -v
#openssl ciphers -v 'HIGH'

Cipher Suites are named combinations of:
Key Exchange Algorithms (RSA, DH, ECDH, DHE, ECDHE, PSK)
Authentication/Digital Signature Algorithm (RSA, ECDSA, DSA)
Bulk Encryption Algorithms (AES, CHACHA20, Camellia, ARIA)
Message Authentication Code Algorithms (SHA-256, POLY1305)
Type of Encryption TLS v1.3, v1.2, v1.1, v1.0  or SSL v3, v2
Here is an example of a TLS v1.2 cipher suite from Openssl command 'openssl ciphers -v' output:
ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD
Key Exchange: ECDHE
Signature: RSA
Bulk Encryption: AES256-GCM
Message Authentication: SHA384

-- apache httpd服务端配置:
/etc/httpd/conf.d/ssl.conf
#   SSL Engine Switch:
#   Enable/Disable SSL for this virtual host.
SSLEngine on

#   SSL Protocol support:
# List the enable protocol levels with which clients will be able to
# connect.  Disable SSLv2 access by default:
SSLProtocol all -SSLv2 -SSLv3

#   SSL Cipher Suite:
#   List the ciphers that the client is permitted to negotiate.
#   See the mod_ssl documentation for a complete list.
SSLCipherSuite HIGH:3DES:!aNULL:!MD5:!SEED:!IDEA

注意有些SSLCipherSuite存在风险，需要配置好
</code></pre></div><p><strong>Step 2-Part 1: Cipher to exchange message with master secret key</strong></p> <p><strong>Step 2-Part 2: Data integrity</strong></p> <p><img src="/docs/docs_image/software/cryptography/pki04.png" alt=""></p> <p>解释：</p> <p>1.秘钥交换一般都是用DH（什么情况用RSA ECC？）</p> <p>2.第二步的通信过程一般都是采用对称加密，因为比非对称快</p> <p>3.为什么有了第一步的DH和第二步的对称加密，很多情况还需要设置RSA，比如nginx需要设置ssl_certificate（RSA公钥和认证信息）和ssl_certificate_key（RSA私钥），因为第一步的key exchange过程，客户端也需要验证服务端的身份，所以服务端需要用私钥加密，然后客户端通过服务端的证书包含的公钥进行验证，防止通话对象是黑客而不是真正的服务器。</p> <p>4.为什么第一步不干脆用RSA呢</p> <p>简单讲，就是为了预防将来如果服务器私钥泄露，那么之前的对话如果没记录了，所有客户端跟服务端的对话将被解密，影响比较大，所以不应该使用私钥直接跟所有客户端对话，而应该进一步提升安全性（有点类似密码加盐的策略）</p> <blockquote><p>The downside of this handshake is that the messages secured by it are  only as safe as the private key. Suppose a third party has recorded the  handshake and the subsequent communication. If that party gets access to the private key in the future, they will be able to decrypt the  pre-main secret and derive the session key. With that they can decrypt  the entire message. This is true even if the certificate is expired or  revoked. This leads us to another form of handshake that can provide  confidentiality even if the private key is compromised.</p> <p>https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/</p></blockquote> <p>5.为什么需要pre-master secret key，pre-master VS master key</p> <p>The client generates a random number, called a <strong>Pre</strong>-<strong>Master Secret key</strong>. Upon receiving a Certificate message, it checks authentication of the server's certificate and extracts its public <strong>key</strong>. The <strong>Pre</strong>-<strong>Master Secret key</strong> is encrypted by the server's public <strong>key</strong> and sent via the ClientKeyExchange message to the server.</p> <blockquote><p>The point of the pre-master key is to have a uniform format for the  master key (e.g. this helps sharing session parameters between multiple  front-ends). SSL is generic: it supports several kinds of key exchange  algorithms, in particular RSA asymmetric encryption, and various <a href="http://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank" rel="noopener noreferrer">Diffie-Hellman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> variants. All these methods do not yield &quot;shared secret&quot; of the same  size and format. Notably, with DH, you get a group element, in whatever  group you are working, which can be an elliptic curve or something else; the shared secret is, as a binary string, somewhat biased, and is not  chosen by the client.</p> <p>Defining that the key exchange mechanism yields a pre-master secret  (with characteristics derived from the actual key exchange mechanism),  to be hashed into a master secret, thus allows for a better modularity.</p> <p>https://security.stackexchange.com/questions/54399/whats-the-point-of-the-pre-master-key</p></blockquote> <p>https://crypto.stackexchange.com/questions/27131/differences-between-the-terms-pre-master-secret-master-secret-private-key</p> <p>简单来说就是为了统一master key的格式，比如pre-master key可能是通过DH或者其他的方式交互产生的（比如服务端发给客户端8即2<sup>3</sup>,客户端选一个比如4及2<sup>2</sup>，然后将4发给服务端，然后客户端和服务端都各自可以算出 (2<sup>2</sup>)<sup>3</sup>=2<sup>6</sup>=64，作为pre master key），然后至于master key何时生成：</p> <blockquote><p>3.The client generates a random number, called a Pre-Master Secret key. Upon receiving a Certificate message, it checks authentication of the  server’s certificate and extracts its public key. The Pre-Master Secret  key is encrypted by the server’s public key and sent via the  ClientKeyExchange message to the server. Meanwhile, the <a href="https://www.sciencedirect.com/topics/computer-science/key-derivation-function" target="_blank" rel="noopener noreferrer">Key Derivation Function<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (KDF) generates a master key derived from the Pre-Secret Master key.</p> <p>4.On the server side, the ClientKeyExchange message is decrypted by the  server’s private key, resulting in the Pre-Master Secret key. Using the  same KDF as the client, the master key is derived from the Pre-Master  Secret key.</p> <p>https://www.sciencedirect.com/topics/computer-science/master-secret-key</p></blockquote> <p>6.master key vs session key？</p> <p>The client and server then use the master secret to calculate several  session keys for use in that session only – 4 session keys, to be  precise.</p> <p>The 4 kinds of session keys created in each TLS handshake are:</p> <ul><li>The &quot;client write key&quot;</li> <li>The &quot;server write key&quot;</li> <li>The &quot;client write MAC key&quot;</li> <li>The &quot;server write MAC key&quot;</li></ul> <p>https://www.cloudflare.com/learning/ssl/what-is-a-session-key/</p> <p>7.TLS handshakes occur after a TCP connection has been opened via a TCP handshake.</p> <h4 id="_3-1-4-protocol-handshake"><a href="#_3-1-4-protocol-handshake" class="header-anchor">#</a> 3.1.4 Protocol - Handshake</h4> <p>Tcp handshake =&gt; TLS/SSL Handshake</p> <p>The TLS handshake happens after the TCP handshake. For the TCP or for the transport layer, everything in the TLS handshake is just application data. Once the TCP handshake is completed the TLS layer will initiate the TLS handshake.</p> <p>https://medium.facilelogin.com/nuts-and-bolts-of-transport-layer-security-tls-2c5af298c4be</p> <p>A walk-through of a TCP handshake http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art058
The TLS Handshake at a High Level http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art057
A walk-through of an SSL handshake http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art059
SSL Certificate Exchange https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art061</p> <p>https://www.youtube.com/watch?v=iQsKdtjwtYI</p> <p><img src="/docs/docs_image/software/cryptography/pki05.png" alt=""></p> <h3 id="_3-2-manager-tools"><a href="#_3-2-manager-tools" class="header-anchor">#</a> 3.2 Manager tools</h3> <p>管理：private key public key certificate</p> <p>比如我们可以使用openssl工具手动生成自签名的证书，也可以通过ca购买证书（也要先通过openssl工具生成csr）；</p> <p>一个web应用如果需要提供以https的方式访问的服务的话，我们需要一个数字证书，这个证书的配置是在nginx或apache的配置文件或者其他web容器的配置文件中进行配置的。当然这个可以保存在keystore中。</p> <p>例子：nginx https配置 参考《buildingblock/nginx.md》</p> <h4 id="_3-2-1-交互工具-openssl-keytool"><a href="#_3-2-1-交互工具-openssl-keytool" class="header-anchor">#</a> 3.2.1 交互工具：Openssl keytool</h4> <p>openssl是常用的一个开源安全通信library，这里指其开源的toolkit</p> <p>keytool是JDK里面内置的一个数字证书生产工具</p> <p>证书类型：</p> <ul><li><p>.PEM：</p> <p>(originally “Privacy Enhanced Mail”) is the most common format for X.509 certificates, CSRs(Cerificate Signing Request), and cryptographic keys. A PEM file is a text file containing one or more items in Base64 ASCII encoding, each with plain-text headers and footers (e.g. -----BEGIN CERTIFICATE----- and -----END CERTIFICATE-----). A single PEM file could contain an end-entity certificate, a private key, or multiple certificates forming a complete chain of trust.</p> <p>are usually seen with the extensions .crt, .pem, .cer, and .key (for private keys), but you may also see them with different extensions</p></li> <li><p>.DER：</p> <p>(Distinguished Encoding Rules) is a binary encoding for X.509 certificates and private keys. Unlike PEM, DER-encoded files do not contain plain text statements such as -----BEGIN CERTIFICATE-----. DER files are most commonly seen in Java contexts.</p> <p>DER-encoded files are usually found with the extensions .der and .cer</p></li> <li><p>PKCS</p> <ul><li><p>PKCS#7 (also known as P7B)</p> <p>is a container format for digital certificates that is most often found in Windows and Java server contexts, and usually has the extension .p7b. PKCS#7 files are not used to store private keys.</p></li> <li><p>PKCS#12 (also known as PKCS12 or PFX)</p> <p>is a common binary format for storing a certificate chain and private key in a single, encryptable file, and usually have the filename extensions .p12 or .pfx.</p></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>#View contents of PEM certificate file
openssl x509 -in CERTIFICATE.pem -text -noout 
#Convert PEM certificate to DER
openssl x509 -outform der -in CERTIFICATE.pem -out CERTIFICATE.der
#Convert PEM certificate with chain of trust to PKCS#7
openssl crl2pkcs7 -nocrl -certfile CERTIFICATE.pem -certfile MORE.pem -out CERTIFICATE.p7b
#Convert PEM certificate with chain of trust and private key to PKCS#12
openssl pkcs12 -export -out CERTIFICATE.pfx -inkey PRIVATEKEY.key -in CERTIFICATE.crt -certfile MORE.crt

#View contents of DER-encoded certificate file
openssl x509 -inform der -in CERTIFICATE.der -text -noout
#Convert DER-encoded certificate to PEM
openssl x509 -inform der -in CERTIFICATE.der -out CERTIFICATE.pem
#Convert DER-encoded certificate with chain of trust and private key to PKCS#12
https://www.ssl.com/how-to/create-a-pfx-p12-certificate-file-using-openssl/
</code></pre></div><h4 id="_3-2-2-存储-truststore-keystore"><a href="#_3-2-2-存储-truststore-keystore" class="header-anchor">#</a> 3.2.2 存储：Truststore &amp; Keystore</h4> <p>keystore可以看成一个放key的库，key就是公钥，私钥，数字签名等组成的一个信息。</p> <p>truststore是放信任的证书的一个store
truststore和keystore的性质是一样的，都是存放key的一个仓库，区别在于，truststore里存放的是只包含公钥的数字证书，代表了可以信任的证书，而keystore是包含私钥的。</p> <ul><li>Truststore</li></ul> <p>(as name suggest) is used to store certificates from trusted Certificate authorities(CA) which are used to verify certificate presented by Server in SSL Connection</p> <ul><li>Keystore</li></ul> <p><img src="/docs/docs_image/software/cryptography/pki06.png" alt=""></p> <p>while keyStore is used to store private key and own identity certificate which program should present to other parties (Server or client) to verify its identity</p> <p>https://en.wikipedia.org/wiki/Keystore
Import a private key into a Java Key Store http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art049
Import an encrypted private key into a Java KeyStore https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art050
A Utility for Viewing Java Keystore Contents http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art045</p> <p>KEYSTORE vs private key vs certificate</p> <p>Difference between trustStore vs keyStore in Java SSLRead more: http://www.java67.com/2012/12/difference-between-truststore-vs.html#ixzz5UBSznugK www.java67.com/2012/12/difference-between-truststore-vs.html</p> <p>Manage keys, certificates and keystores https://www.ibm.com/support/knowledgecenter/en/SSCQGF_7.2.0/com.ibm.IBMDI.doc_7.2/adminguide63.htm#ktrustmgmt</p> <p>https://github.com/ethereum/go-ethereum/wiki/Mobile:-Account-management</p> <h2 id="_4-use-case"><a href="#_4-use-case" class="header-anchor">#</a> 4. Use case</h2> <p>Encryption and decryption, digital signature, and key exchange are the three primary functions of a PKI.</p> <h3 id="_4-1-authenticate-digital-signature"><a href="#_4-1-authenticate-digital-signature" class="header-anchor">#</a> 4.1 Authenticate / Digital Signature</h3> <p>https://en.wikipedia.org/wiki/Digital_signature
schnorr signature</p> <p>Example:
Securely install software with gnupg
https://www.linuxbabe.com/security/verify-pgp-signature-software-downloads-linux
https://medium.com/@lukedashjr/how-to-securely-install-bitcoin-9bfeca7d3b2a</p> <p>JSON Web Token (JWT) Signing
https://auth0.com/blog/json-web-token-signing-algorithms-overview/
https://stackoverflow.com/questions/38588319/understanding-rsa-signing-for-jwt</p> <h3 id="_4-2-1-ssl-tls-https"><a href="#_4-2-1-ssl-tls-https" class="header-anchor">#</a> 4.2(1) SSL/ TLS / HTTPS</h3> <p><a href="../network/http_ssl_tls_setup">read more</a>
TLS in redis https://docs.redis.com/latest/rc/security/database-security/tls-ssl/
TLS in https =&gt; /software/network/http_ssl_tls_setup.md</p> <blockquote><p>SSL stands for Secure Sockets Layer and, in short, it's the standard technology for keeping an internet connection secure and safeguarding any sensitive data that is being sent between two systems, preventing criminals from reading and modifying any information transferred, including potential personal details.</p></blockquote> <blockquote><p>TLS (Transport Layer Security) is just an updated, more secure, version of SSL. We still refer to our security certificates as SSL because it is a more commonly used term, but when you are buying SSL from DigiCert you are actually buying the most up to date TLS certificates with the option of ECC, RSA or DSA encryption.</p></blockquote> <blockquote><p>HTTPS就是TLS over HTTP</p></blockquote> <blockquote><p>SSL和SSH是不同的protocol，原理类似，SSH is generally a tool for technicians, and SSL/TLS is a mechanism for securing websites that is transparent to the user.</p></blockquote> <p>SSL Certificate Installation Instructions&amp;Tutorials https://www.digicert.com/ssl-certificate-installation.htm
How about move from installed server to a new server? SSL Certificate Export/Import Explained https://www.digicert.com/import-export-ssl-certificate.htm</p> <p><strong>With .NET IIS</strong>
Using Microsoft IIS to generate CSR and Private Key(export from mmc,later when complete importing certificate, it also managed by mmc) https://docs.druva.com/Knowledge_Base/inSync/How_To/Using_Microsoft_IIS_to_generate_CSR_and_Private_Key
Use pfx file when you export the cert&amp;privatekey to another server https://www.digicert.com/ssl-support/pfx-import-export-iis-7.htm</p> <p><strong>With Java Keytool https client and https server</strong>
Usually for web application, we generate private key stored in keystore, import to web server host, and get it signed by CA, get a cert file stored in truststore which contains public key and ca’s signature
Use Keytool
https://www.javacodegeeks.com/2013/06/java-security-tutorial-step-by-step-guide-to-create-ssl-connection-and-certificates.html
Use Pure Java code(keytool shipped with jdk)
Generate keystore and truststore https://www.pixelstech.net/article/1409966488-Different-types-of-keystore-in-Java----JKS
Https client and https server demo https://www.pixelstech.net/article/1445603357-A-HTTPS-client-and-HTTPS-server-demo-in-Java</p> <p><strong>Self signed CA with openssl</strong>
Play all parties:
prvatekey-publickey pair =&gt; create csr with publickey =&gt; create ca =&gt; ca sign csr
How to setup your own CA with OpenSSL https://gist.github.com/Soarez/9688998
On windows for iis
https://medium.com/the-new-control-plane/generating-self-signed-certificates-on-windows-7812a600c2d8
https://medium.com/@tbusser/creating-a-browser-trusted-self-signed-ssl-certificate-2709ce43fd15
https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html</p> <h3 id="_4-2-2-dns-over-tls-and-dns-over-https-different"><a href="#_4-2-2-dns-over-tls-and-dns-over-https-different" class="header-anchor">#</a> 4.2(2) DNS over TLS and DNS over HTTPS different</h3> <blockquote><p>Each standard was developed separately and has its own RFC* documentation, but the most important difference between DoT and DoH is what port they use. DoT only uses port 853, while DoH uses port 443, which is the port that all other HTTPS traffic uses as well.</p></blockquote> <blockquote><p>Because DoT has a dedicated port, anyone with network visibility can see DoT traffic coming and going, even though the requests and responses themselves are encrypted. In contrast, with DoH, DNS queries and responses are camouflaged within other HTTPS traffic, since it all comes and goes from the same port.</p></blockquote> <blockquote><p>https://www.cloudflare.com/learning/dns/dns-over-tls/</p></blockquote> <h3 id="_4-2-3-ssl-pin-key-distribution-problem"><a href="#_4-2-3-ssl-pin-key-distribution-problem" class="header-anchor">#</a> 4.2(3) SSL PIN (Key Distribution Problem)</h3> <p>这里说的 Key Distribution Problem 是应用层面，密码学层面指的密码学上的密钥交换算法参考 <a href="../../blockchain/cryptography/cryptography">Diffie–Hellman key exchange (DHKE)</a>
https://owasp.org/www-community/controls/Certificate_and_Public_Key_Pinning</p> <p>主要是指app开发，对于浏览器来说由于历史原因 HKPK 已经被淘汰；
注意：不要直接pin certificate，否则certificate更新会很麻烦要同时更新app，可以pin public key（更新证书的时候保持public key不变）或者pin上一层CA的证书：
it is recommended to place the pin on the intermediate certificate of the CA that issued the server certificate, to ease certificates renewals and rotations.</p> <p><a href="https://developer.apple.com/news/?id=g9ejcf8y" target="_blank" rel="noopener noreferrer">Your app can proactively provide a great experience by pinning the public keys of CAs, instead of servers. This way, you can deploy server certificates that contain new public keys signed by the same CA without the need for pinning configuration updates.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_4-3-ssh"><a href="#_4-3-ssh" class="header-anchor">#</a> 4.3 SSH</h3> <p>跟SSL的区别：
SSL的公钥信息和身份信息（填的地区邮箱网址等）需要用x.509自签或者ca对证书进行签名（自签就是自己用自己的私钥签名，相当于我生成了一对公私钥，现在要对公钥认证，自己再拿着这个私钥签名，所以叫自签； 如果是ca签发，当然是ca机构用他们自己的私钥对请求认证的公钥进行签名），
签名后生成证书，证书就包含了请求公证的公钥信息和身份信息以及ca的签名信息；
而SSH生成的公私钥不需要认证，都是放在机器的某个目录下如.ssh，然后将公钥拷贝到互信的其他机器的相应.ssh目录，这样几台机器之间就可以免密登录（需要加载私钥到内存中）;当然如果是比如github，则需要拷贝到github的设置中：
<a href="https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account" target="_blank" rel="noopener noreferrer">Adding a new SSH key to your GitHub account<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>ls -al ~/.ssh
ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;

# start the ssh-agent in the background
$ eval $(ssh-agent -s)
ssh-add ~/.ssh/id_rsa
</code></pre></div><blockquote><p>SSL presents public keys in the context of an X.509 certificate, which itself includes a lot of information about the principal identified by the public key as well as its own digital signature, signed by yet another keypair.
SSH does not normally use certificates to contain public keys; instead, the identity associated with a public key is determined by its location in the file system (i.e. whose home directory it's installed in).
<a href="https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art054" target="_blank" rel="noopener noreferrer">SSL SSH<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="/docs/docs_image/software/cryptography/pki07.png" alt="">
https://www.quora.com/What-is-the-difference-between-SSL-and-SSH-Are-they-both-just-a-way-to-safely-access-a-remote-computer-through-encryption-Do-they-also-transfer-data</p> <h3 id="_4-4-authroize-authentication"><a href="#_4-4-authroize-authentication" class="header-anchor">#</a> 4.4 authroize&amp;authentication</h3> <p>OAuth2.0
JWT https://jwt.io/</p> <h3 id="_4-5-blockchain-ecc"><a href="#_4-5-blockchain-ecc" class="header-anchor">#</a> 4.5 blockchain - ECC</h3> <p>https://wiki.openssl.org/index.php/Command_Line_Elliptic_Curve_Operations</p> <div class="language- extra-class"><pre class="language-text"><code># Generate curve parameters
openssl ecparam -name secp521r1 -outform PEM -out secp521r1.pem
# Generate the private key
openssl ecparam -inform PEM -in secp521r1.pem -genkey -outform PEM -out private-key.pem
# Convert private key to pkcs8
openssl pkcs8 -topk8 -nocrypt -inform PEM -in private-key.pem -outform PEM -out private-key-pkcs8.pem
# Generate the certificate for the private key
openssl req -new -x509 -key private-key-pkcs8.pem -outform PEM -out server.pem -days 365
# Sign the document
./xmlsectool.sh  --sign --signatureAlgorithm 
'http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256' --inFile ../doc.xml --outFile ../sign.xml --key private-key-pkcs8.pem --certificate server.pem 
# Verify the signature
./xmlsectool.sh --verifySignature --certificate server.pem -inFile ../sign.xml
</code></pre></div><p><img src="/docs/docs_image/software/cryptography/pki08.png" alt=""></p> <hr> <p>Genrally speaking:</p> <p>If you have data in flight, use TLS;
If you have data at rest, use PGP;</p> <p>ref:</p> <p>How Certificates Use Digital Signatures
https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art012</p> <p><a href="https://onezero.medium.com/the-untold-story-of-the-man-that-made-mainstream-encryption-possible-231c749d5005" target="_blank" rel="noopener noreferrer">The Untold Story of the Man That Made Mainstream Encryption Possible<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>https://en.wikipedia.org/wiki/Public_key_infrastructure
https://hub.packtpub.com/public-key-infrastructure-pki-and-other-concepts-cryptography-cissp-exam/</p> <p>From symmentic to man in the middle attack
https://ssd.eff.org/en/module/deep-dive-end-end-encryption-how-do-public-key-encryption-systems-work
https://en.wikipedia.org/wiki/Man-in-the-middle_attack</p> <p><a href="https://stackoverflow.com/questions/21297139/how-do-you-sign-a-certificate-signing-request-with-your-certification-authority" target="_blank" rel="noopener noreferrer">How do you sign a Certificate Signing Request with your Certification Authority?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div id="disqus_thread"></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.46ca9026.js" defer></script><script src="/docs/assets/js/2.19baf9f4.js" defer></script><script src="/docs/assets/js/192.2323cd4f.js" defer></script><script src="/docs/assets/js/11.0d0890d4.js" defer></script>
  </body>
</html>
